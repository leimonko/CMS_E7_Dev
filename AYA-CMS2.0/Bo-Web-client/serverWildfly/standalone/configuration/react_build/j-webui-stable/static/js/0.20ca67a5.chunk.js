(this["webpackJsonpstable-app"]=this["webpackJsonpstable-app"]||[]).push([[0],{158:function(e,t,a){"use strict";var s=a(7),i=a(0),n=a.n(i),l=a(1),o=a(6),r=a(39),c=a(4);class m extends i.Component{constructor(e){super(e),this.callScreen=()=>{let e={sidebarBody:this.loopLoopMenuData(this.data_menu,"0")};this.sidebar.abs_changeLang(e.sidebarBody),this.setState({auto_change:l.g.autoID(),data:e})},this.openForm=e=>{void 0!==e&&void 0!==e.group_menu_function_code&&o.a.fo([{txcode:"#sys:fo-sys-sliderbarCallForm",input:{form_code:e.group_menu_function_code}}],{})},this.data_menu=l.g.cloneJson(r.a.getMenu(1))||[],this.type_screen="sidebar",this.data_menu=this.data_menu.filter(e=>"T"===e.group_menu.group_menu_visible||!e.group_menu.group_menu_visible),this.state={data:{sidebarBody:this.loopLoopMenuData(this.data_menu,"0")},parent:""}}componentDidMount(){l.g.addScreen(this)}loopLoopMenuData(e,t){let a=[],s=this.findDataOfParent(e,t);if(s.length>0)for(let i=0;i<s.length;i++){let t=s[i],n=t.group_menu.group_menu_name,o=t.group_menu.group_menu_function_code;if(void 0!==t.group_menu.group_menu_lang&&(n=t.group_menu.group_menu_lang[l.g.getLangKey()]),""!==n&&void 0!==n){let s=this.loopLoopMenuData(e,t.group_menu.group_menu_id),i="";void 0!==t.group_menu.group_menu_icon&&(i=t.group_menu.group_menu_icon);let l={data:s,group_menu_function_code:o,title:n,icon:i};a.push(l)}}return a}findDataOfParent(e,t){let a=[];for(let s=0;s<e.length;s++){let i=e[s];t===i.group_menu.group_menu_parent&&a.push(i)}return a}render(){const e=Object(c.a)("uSideBarMenu");return n.a.createElement(e,{ref:e=>{this.sidebar=e},dataFull:Object(s.a)(Object(s.a)({},this.state.data),{},{abs_select:this.openForm})})}}t.a=m},159:function(e,t,a){"use strict";var s=a(0),i=a.n(s),n=a(1),l=a(4);class o extends s.Component{constructor(e){super(e),this.callScreen=()=>{var e=n.g.getAllFormIsOpen(),t=[],a=n.g.getFormCurrent(),s="";if(a.hasOwnProperty("getKeyFormAuto"))for(var i in s=a.getKeyFormAuto(),e)if(e[i].hasOwnProperty("getKeyFormAuto")){var l={};if(l.form_key=i,e[i].hasOwnProperty("getInfoA")){var o=e[i].getInfoA();void 0!==o&&void 0!==o.ofModal&&!1===o.ofModal&&(l.title=o.title,l.lang_form=o.lang_form,l.classActive=s===i?"active":"",t[t.length]=l)}}this.setState({data:t,key_lang:n.g.getLangKey()})},this.closeTab=e=>{n.g.removeForm(e),this.callScreen()},this.state={data:[],key_lang:n.g.getLangKey(),onMouse:!0},this.type_screen="pagebar"}componentDidMount(){n.g.addScreen(this)}renderOptions(){return this.state.data.map((e,t)=>i.a.createElement("li",{className:"jwebui-page-bar jwebui-"+e.classActive,key:t,index:t},i.a.createElement("label",{href:"#t","aria-expanded":"false",className:"jwebui-page-bar-title",onClick:t=>{n.g.openForm(e.form_key)}},void 0!==e.lang_form&&void 0!==e.lang_form[this.state.key_lang]?e.lang_form[this.state.key_lang]:e.title),i.a.createElement("label",{href:"#t",className:"jwebui-page-bar-remove","aria-expanded":"false"},i.a.createElement("i",{className:"fa fa-times","aria-hidden":"true",style:{cursor:"pointer",marginRight:10},onClick:t=>{n.g.removeForm(e.form_key),this.callScreen()}}))))}getConfigTemplate(){let e=[];for(const t of this.state.data)e.push({tabInfo:{icon:"account_balance",title:t.title,id:t.form_key},sysStyle:{show:"active"===t.classActive?"show":""}});return e}render(){const e=Object(l.a)("uTab");return i.a.createElement(e,{dataFull:{data:this.getConfigTemplate(),abs_select:(e,t)=>{n.g.openForm(t)},abs_close:this.closeTab}})}}t.a=o},160:function(e,t,a){"use strict";var s=a(0),i=a.n(s),n=a(1),l=a(4);class o extends s.Component{constructor(e){super(e),this.callScreen=()=>{this.setState({auto_change:n.g.autoID()})},this.activeMsg=(e,t)=>{void 0===t.title&&(t.title="#MsgSystem_noTitle"),void 0===t.color?t.type="warning":t.type=t.color,void 0===t.btn&&(t.btn=""),void 0===t.list_fo&&(t.list_fo=[]),void 0===t.list_fo_start&&(t.list_fo_start=[]),this.changeLangMess(e,t)},this.abs_Close=e=>{this.setState({isClose:!1})},this.getDataFull=()=>{var e;return{type:"warning",title:n.g.getLang(null===(e=this.state.msg)||void 0===e?void 0:e.title),btnClose:{isShow:!1,title:"Close",abs_Click:this.abs_Close}}},this.type_screen="msgSystem",this.state={show:"msg-none",color:"",msg:{title:"",btn:"",list_fo:[],list_fo_start:[],color:"warning"},dataFull:{},isClose:!1,stackError:{}}}componentDidMount(){this.header_=document.body.getElementsByClassName("navbar-fixed-top")[0],this.main_=document.body.getElementsByClassName("prtm-main")[0],Object(n.E)(this),n.g.addScreen(this)}changeLangMess(e,t){let a={};a=t,a.title=n.g.getLang(t.title),this.setState({isClose:e,msg:t,dataFull:a})}render(){if(!this.state.isClose)return null;const e=Object(l.a)("uMessageGlobal");return i.a.createElement(e,{dataFull:this.getDataFull(),abs_Close:this.abs_Close})}}t.a=o},161:function(e,t,a){"use strict";var s=a(0),i=a.n(s),n=a(1);var l=a(4),o=a(5);class r extends s.Component{constructor(e){super(e),this.state={mode_chat:"wellcome",open_chat:!1,avatar:"",name:"",status:"",data_debug:[]}}open(e){this.setState(e)}addDebug(e){let t=this.state.data_debug;void 0===t&&(t=[]),t.unshift(e),this.setState({data_debug:t})}componentDidMount(){Object(o.b)([{txcode:"#sys:bo-load-formChat",input:{}}],{}).then(e=>{var t=n.g.foGetData("profile",e);if(void 0!==t){void 0===t.relationship&&(t.relationship=[]);let e="",a="",s="";void 0!==t.avatar&&(a=t.avatar),void 0!==t.name&&(e=t.name),void 0!==t.status&&(s=t.status),this.setState({avatar:a,name:e,status:s})}},e=>{}),Object(n.j)(this),Object(n.k)(this.refs.copyToClipboard)}render(){return i.a.createElement("div",{style:{position:"fixed"}},i.a.createElement("textarea",{style:{width:"0px",height:"0px",borderColor:"white",resize:"none",rows:0,cols:0,padding:0},ref:"copyToClipboard"}),i.a.createElement("div",{className:"fabs",style:{display:"none"}},i.a.createElement("div",{className:"chat "+(this.state.open_chat?"is-visible":"")},i.a.createElement("div",{className:"chat_header"},i.a.createElement("div",{className:"chat_option"},i.a.createElement("div",{className:"header_img"},i.a.createElement("img",{src:this.state.avatar,alt:""})),i.a.createElement("span",{id:"chat_head"},this.state.name),i.a.createElement("br",null)," ",i.a.createElement("span",{className:"agent"},this.state.status),i.a.createElement("span",{id:"chat_fullscreen_loader",className:"chat_fullscreen_loader"},i.a.createElement("i",{className:"fullscreen zmdi zmdi-window-maximize"})))),i.a.createElement("div",{id:"chat_fullscreen",className:"chat_body chat_login chat_conversion chat_converse",style:{display:this.state.open_chat&&"wellcome"===this.state.mode_chat?"block":"none"}},i.a.createElement("p",null,"T\xf4i l\xe0 ph\u1ee5 t\xe1!, H\xe3y g\u1ecdi t\xf4i b\u1eb1ng ph\xedm t\u1eaft!",i.a.createElement("br",null),"B\u1ea1n c\u1ea7n g\xec?"),i.a.createElement("div",{className:"chat_category"},i.a.createElement("ul",null,i.a.createElement("li",{className:"active",onClick:e=>{alert("Ch\u01b0a h\u1ed7 tr\u1ee3")}},"Chat"),i.a.createElement("li",{onClick:e=>{this.setState({mode_chat:"debug"})}},"Debug"),i.a.createElement("li",{onClick:e=>{alert("Ch\u01b0a h\u1ed7 tr\u1ee3")}},"Command line"),i.a.createElement("li",{onClick:e=>{alert("Ch\u01b0a h\u1ed7 tr\u1ee3")}},"Command voice")))),i.a.createElement("div",{id:"chat_fullscreen",className:"chat_conversion chat_converse chat_form",style:{display:this.state.open_chat&&"debug"===this.state.mode_chat?"block":"none"}},i.a.createElement("span",{className:"chat_msg_item chat_msg_item_admin"},i.a.createElement("div",{className:"chat_avatar"},i.a.createElement("img",{src:"/img/icon_assistant.png",alt:""})),"Ghi ch\xfa: ch\u1ec9 copy d\u1eef li\u1ec7u kh\xf4ng qu\xe1 100 d\xf2ng.",i.a.createElement("span",{id:"chat_fourth_screen",className:"fab",title:"X\xf3a tr\u1eafng",onClick:e=>{this.setState({data_debug:[]})}},i.a.createElement("i",{className:"fa fa-free-code-camp"}))),this.state.data_debug.map((e,t)=>{let a="bo",s=n.g.getNodeJson(e,"data.bo.0.txcode");if(void 0===s&&(a="fo",s=n.g.getNodeJson(e,"data.fo.0.txcode")),void 0===s&&(s=""),s=s.split(":")[1]||"",void 0!==s)switch(a){case"fo":return i.a.createElement("span",{key:t,className:"chat_msg_item chat_msg_item_admin"},i.a.createElement("div",{className:"chat_avatar"},i.a.createElement("img",{src:"/img/icon_assistant.png",alt:""})),i.a.createElement("span",{style:{color:"green"}},s),i.a.createElement("br",null),i.a.createElement("i",{style:{color:"#83c76d",cursor:"pointer"},className:"fa fa-clipboard",onClick:t=>{n.g.copyToClipboard(JSON.stringify(e.data))}}),"\xa0\xa0Data");default:return i.a.createElement("span",{key:t,className:"chat_msg_item chat_msg_item_admin",style:{position:"relative",float:"right",background:"#42a5f5",color:"white"}},i.a.createElement("span",null,s),i.a.createElement("br",null),i.a.createElement("i",{style:{color:"#83c76d",cursor:"pointer"},className:"fa fa-clipboard",onClick:t=>{n.g.copyToClipboard(JSON.stringify(e.data))}}),"\xa0\xa0Data")}return null})),i.a.createElement("div",{id:"chat_fullscreen",className:"chat_conversion chat_converse chat_form",style:{display:this.state.open_chat&&"conversion"===this.state.mode_chat?"block":"none"}},i.a.createElement("span",{className:"chat_msg_item chat_msg_item_admin"},i.a.createElement("div",{className:"chat_avatar"},i.a.createElement("img",{src:"http://res.cloudinary.com/dqvwa7vpe/image/upload/v1496415051/avatar_ma6vug.jpg",alt:""})),"Hey there! Any question?"),i.a.createElement("span",{className:"chat_msg_item chat_msg_item_user"},"Hello!"),i.a.createElement("div",{className:"status"},"20m ago"),i.a.createElement("span",{className:"chat_msg_item chat_msg_item_admin"},i.a.createElement("div",{className:"chat_avatar"},i.a.createElement("img",{src:"http://res.cloudinary.com/dqvwa7vpe/image/upload/v1496415051/avatar_ma6vug.jpg",alt:""})),"Hey! Would you like to talk sales, support, or anyone?"),i.a.createElement("span",{className:"chat_msg_item chat_msg_item_user"},"Lorem Ipsum is simply dummy text of the printing and typesetting industry."),i.a.createElement("span",{className:"chat_msg_item chat_msg_item_admin"},i.a.createElement("div",{className:"chat_avatar"},i.a.createElement("img",{src:"http://res.cloudinary.com/dqvwa7vpe/image/upload/v1496415051/avatar_ma6vug.jpg",alt:""})),"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."),i.a.createElement("span",{className:"chat_msg_item chat_msg_item_user"},"Where can I get some?"),i.a.createElement("span",{className:"chat_msg_item chat_msg_item_admin"},i.a.createElement("div",{className:"chat_avatar"},i.a.createElement("img",{src:"http://res.cloudinary.com/dqvwa7vpe/image/upload/v1496415051/avatar_ma6vug.jpg",alt:""})),"The standard chuck..."),i.a.createElement("span",{className:"chat_msg_item chat_msg_item_user"},"There are many variations of passages of Lorem Ipsum available"),i.a.createElement("div",{className:"status2"},"Just now, Not seen yet"),i.a.createElement("span",{className:"chat_msg_item "},i.a.createElement("ul",{className:"tags"},i.a.createElement("li",null,"Hats"),i.a.createElement("li",null,"T-Shirts"),i.a.createElement("li",null,"Pants"))),i.a.createElement("span",{className:"chat_msg_item chat_msg_item_admin"},i.a.createElement("div",{className:"chat_avatar"},i.a.createElement("img",{src:"http://res.cloudinary.com/dqvwa7vpe/image/upload/v1496415051/avatar_ma6vug.jpg",alt:""})),"Hey there! Any question?"),i.a.createElement("span",{className:"chat_msg_item chat_msg_item_user"},"Hello!"),i.a.createElement("span",{className:"status"},"20m ago"),i.a.createElement("span",{className:"chat_msg_item chat_msg_item_admin"},i.a.createElement("div",{className:"chat_avatar"},i.a.createElement("img",{src:"http://res.cloudinary.com/dqvwa7vpe/image/upload/v1496415051/avatar_ma6vug.jpg",alt:""})),"Agent typically replies in a few hours. Don't miss their reply.",i.a.createElement("div",null,i.a.createElement("br",null),i.a.createElement("div",{className:"get-notified"},i.a.createElement("label",null,"Get notified by email"),i.a.createElement("input",{id:"chat_log_email",placeholder:"Enter your email"}),i.a.createElement("i",{className:"zmdi zmdi-chevron-right"})))),i.a.createElement("span",{className:"chat_msg_item chat_msg_item_admin"},i.a.createElement("div",{className:"chat_avatar"},i.a.createElement("img",{src:"http://res.cloudinary.com/dqvwa7vpe/image/upload/v1496415051/avatar_ma6vug.jpg",alt:""})),"Send message to agent.",i.a.createElement("div",null,i.a.createElement("form",{className:"message_form"},i.a.createElement("input",{placeholder:"Your email"}),i.a.createElement("input",{placeholder:"Technical issue"}),i.a.createElement("textarea",{rows:"4",placeholder:"Your message"}),i.a.createElement("button",null,"Send"))))),i.a.createElement("div",{className:"fab_field"},i.a.createElement("span",{id:"fab_camera",className:"fab is-visible"},i.a.createElement("i",{className:"fa fa-video-camera"})),i.a.createElement("span",{id:"fab_send",className:"fab is-visible"},i.a.createElement("i",{className:"fa fa-paper-plane"})),i.a.createElement("textarea",{id:"chatSend",name:"chat_message",placeholder:"Send a message",className:"chat_field chat_message"}))),i.a.createElement("span",{id:"prime",className:"fab "+(this.state.open_chat?"is-visible":""),onClick:e=>{this.setState({open_chat:!this.state.open_chat})}},i.a.createElement("i",{className:this.state.open_chat?"fa fa-times":"fa fa-comments-o"}))))}}var c=r,m=a(163),d=a(6);class h extends s.Component{constructor(e){super(e),this.setInfoModal=(e,t,a)=>{let{title:s,content:i}=e;this.rollback_save=a,this.setState({isOpen:!0,title:s,content:i,button:t})},this.modalClose=e=>{this.setState({isOpen:!1})},this.abs_Click_btn=(e,t)=>{this.reloadFo(t)},this.state={isOpen:!1,title:"",button:[]},this.rollback_save=void 0,this.JConfirm=Object(l.b)("jwebui_Confirm"),this.RefConfirm=i.a.createRef()}componentDidMount(){n.g.confirmStartOnlyOnce(this)}reloadFo(e){void 0!==this.rollback_save&&(this.rollback_save.val_select=e,this.modalClose(),d.a.runTx(void 0,void 0,this.rollback_save))}componentDidUpdate(){var e,t;(null===(e=this.RefConfirm)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.abs_focus)&&setTimeout(()=>{var e;(null===(e=this.state.button)||void 0===e?void 0:e.length)&&this.RefConfirm.current.abs_focus(0)},100)}getConfigTemplate(){return{visibility:!0===this.state.isOpen,abs_Close:this.modalClose,title:this.state.title,content:this.state.content,listButton:this.state.button.map((e,t)=>({dataFull:{config:{default:{title:n.g.getLang(e.name),type:e.color,class:""}},dataItem:e.val},abs_Click:this.abs_Click_btn}))}}render(){const e=this.JConfirm;return i.a.createElement(e,{ref:this.RefConfirm,stateData:this.getConfigTemplate()})}}var g=h,u=a(10);class _ extends s.Component{constructor(e){super(e),this.setInfoModal=(e,t)=>{this.rollback_save=t,Object(u.b)(e,this.refs.form_dynamic_container,{},{},"modalDynamicFormCode_getForm"),this.setState({show:"block",class:"modal_webui md-effect-5"})},this.getRolBackData=()=>this.rollback_save,this.componentDidUpdate=()=>{this.refs.modal&&setTimeout(()=>{this.refs.modal.focus()},100)},this.modalClose=()=>{this.setState({show:"none",class:"modal_webui"})},this.getDatafull=()=>({config:{default:{title:"",size:"S"},cmd:{visibility:"block"===this.state.show}},abs_Close:this.modalClose}),this.state={show:"none",class:"modal_webui",title:"",button:[]},this.rollback_save=void 0}componentDidMount(){n.g.modalDynamicFromFromCode_StartOnlyOnce(this)}reloadFo(e){void 0!==this.rollback_save&&(this.rollback_save.val_select=e,this.modalClose(),d.a.runTx(void 0,void 0,this.rollback_save))}render(){let e=Object(l.a)("uModal");return i.a.createElement(e,{dataFull:this.getDatafull(),ref:this.ref_modal},i.a.createElement("div",{className:"modal-body",style:{backgroundColor:"#ffffff"},ref:"form_dynamic_container"}))}}var p=_;class f extends s.Component{constructor(e){super(e),this.callScreen=()=>{if(this.state.isListen){var e=n.g.getListNotifications(this.type_screen);void 0!==e&&e.length>0&&(n.g.clearNotifyType(this.type_screen),this.setState({data:e}))}},this.state={isListen:!1,data:[]},this.type_screen="notifyToast"}componentDidMount(){n.g.addScreen(this),this.setState({isListen:!0}),n.g.get_appConfig().isMobi&&(document.getElementById("loading_start_app").remove(),document.getElementById("root").style.visibility="visible")}render(){const e=Object(l.a)("uContent");return i.a.createElement(i.a.Fragment,null,i.a.createElement(p,null),i.a.createElement(m.a,{data:this.state.data}),i.a.createElement(g,null),i.a.createElement(e,null),i.a.createElement(c,null))}}t.a=f},162:function(e,t,a){"use strict";var s=a(7),i=a(0),n=a.n(i),l=a(1),o=a(5),r=a(4);class c extends i.Component{constructor(e){super(e),this.getLangTemplate=e=>({data:this.LANG_USER.map(t=>{let a={title:t.view,img:void 0===t.img?"":t.img,dataItem:{key:t.key}};return a.selected=a.dataItem.key===e,a}),abs_Click:this.changeLang}),this.changeLang=e=>{this.props.abs_Close(),this.setState({lang_select_key:e.key,lang_tempdate:this.getLangTemplate(e.key)},()=>{void 0===l.g.getAllLang()[e.key]?Object(o.b)([{txcode:"#sys:bo-load-jlang",input:{lang_data:e.key}}],{}).then(t=>{var a=l.g.foGetData("sys_lang_data",t);void 0===a&&(a={});var s=l.g.foGetData("lang_data",t);if(void 0!==s)for(var i in s)a[i]=s[i];l.g.addLang(e.key,a),this.callUpdateLang(e.key)},e=>{}):this.callUpdateLang(e.key)})},this.getDatafull=()=>({config:{default:{title:l.g.getLang("jLang_choose_language"),size:""},cmd:{visibility:!0===this.props.isOpen}},abs_Close:this.props.abs_Close}),this.type_screen="header",this.LANG_USER=l.g.getConfigUser("list_lang_config");for(var t={},a=Object(l.u)(),s=0;s<this.LANG_USER.length;s++)this.LANG_USER[s].key===a&&(t=this.LANG_USER[s]);this.state={data:this.LANG_USER,lang_select_key:t.key,lang_select_view:t.view,isOpen:!1,onMouse:!0,lang_tempdate:this.getLangTemplate(t.key)}}callUpdateLang(e){l.g.setLangKey(e),l.g.changeKeyLanguage(),l.g.callAllScreenListen(),document.title=l.g.getLang("title")}getConfigData(){return this.state.lang_tempdate}render(){const e=Object(r.a)("uChangeLang");let t=Object(r.a)("uModal");return n.a.createElement(t,{dataFull:this.getDatafull(),ref:this.ref_modal},n.a.createElement(e,{dataFull:Object(s.a)({},this.getConfigData())}))}}var m=c,d=a(39),h=a(6);class g extends i.Component{constructor(e){var t;super(e),this.onClickNotification=()=>{let{data_full:e}=this.state;e.headerItem[1].number_unRead=0,this.setState({data_full:e})},this.onClickMessage=e=>{let t=e.dataItem;void 0!==t.action&&t.action.length>0&&h.a.fo(t.action,h.a.createContext(t.data,{},{},{}));let{data_full:a}=this.state,s=a.headerItem[1].data.filter(t=>t.id===e.id);s.length>0&&!1===s[0].isRead&&(s[0].isRead=!0,a.headerItem[1].number_unRead--,a.headerItem[1].headerNoti.title_header=this.getUnreadNotification(a.headerItem[1].data),this.setState({data_full:a}))},this.onClickReadAll=()=>{let{data_full:e}=this.state;for(let t=0;t<e.headerItem[1].data.length;t++)e.headerItem[1].data[t].isRead=!0;e.headerItem[1].number_unRead=0,e.headerItem[1].headerNoti.title_header=this.getUnreadNotification(e.headerItem[1].data),this.setState({data_full:e})},this.callScreen=()=>{let{data_full:e}=this.state;if(this.state.isListen){let t=e.headerItem[1].data,a=l.g.getListNotifications("notifyDefault");if(void 0!==a&&t.length<a.length&&a.length>0){e.headerItem[1].number_unRead++,e.headerItem[1].headerNoti.title_readAll=l.g.getLang("notifyDefaultMarksAsRead");for(let s=t.length;s<a.length;s++)e.headerItem[1].data.unshift({id:s,title:a[s].description,title_sub:l.g.timeSince(Date.now()),isRead:!1,time:Date.now(),dataItem:a[s]});e.headerItem[1].headerNoti.title_header=this.getUnreadNotification(e.headerItem[1].data)}}this.setState({data_full:e,auto_change:l.g.autoID()})},this.onSearch=e=>{let t=new Date;this.time=t;let a=e.target.value;setTimeout(()=>{if(this.time-t===0){let e=this.state.data_full,t={},s=this.menu_data.filter(e=>{var s;let i=null===(s=e.group_menu.group_menu_lang)||void 0===s?void 0:s[l.g.getLangKey()],n=e.group_menu.group_menu_function_code,o=this.getSearchValue(a,i),r=this.getSearchValue(a,n),c=o>r?o:r;return t[n]=c,0!==c&&!!n}).map(e=>{var t;return{title:null===(t=e.group_menu.group_menu_lang)||void 0===t?void 0:t[l.g.getLangKey()],value:e.group_menu.group_menu_function_code}});e.search_global.data=s.sort((e,a)=>t[e.value]>t[a.value]?-1:1),this.setState(e)}},300)},this.onSelectedItemMenuProfile=e=>{switch(e.value){case"CHANGE_LANG":this.setState({isOpenLang:!0});break;case"MY_PROFILE":h.a.fo([{txcode:"#sys:fo-sys-sliderbarCallForm",input:{form_code:"myProfile"}}],{});break;case"MY_DEVICE":h.a.fo([{txcode:"#sys:fo-sys-sliderbarCallForm",input:{form_code:"myDevice"}}],{});break;case"LOCK_SCREEN":l.g.relogin_lockScreen();break;case"LOGOUT":Object(o.b)([{txcode:"bo-delete-session",input:{token_webui:l.g.getSessionFromStore()}}],{}),void 0!==this.props.check_screen_width&&this.props.check_screen_width&&this.props.closedUser()}},this.onSelectMenu=e=>{e.value&&h.a.fo([{txcode:"#sys:fo-sys-sliderbarCallForm",input:{form_code:e.value}}],{})},this.modalLangClose=()=>{this.setState({isOpenLang:!1})};let a=l.g.context_get("user_acc");this.menu_data=d.a.getMenu(1);let s=l.g.profileUser_get("avatar");""===s.trim()&&(s="../rs/global/img/avatar.jpg"),this.menu_data=this.menu_data.filter(e=>"C"!==e.group_menu.group_menu_visible);let i={headerItem:[{icon:s,data:[{icon:s,value:"",title_big:l.g.context_get("user_jwebui.email"),title_sub:(null===a||void 0===a?void 0:a.usrname)||"",config:{isHaveUnderline:!0}},{title:l.g.getLang("jMyDevice_title"),value:"MY_DEVICE"},{title:l.g.getLang("jProfile_title"),value:"MY_PROFILE",config:{isHaveUnderline:!0}},{title:l.g.getLang("cLockScreen_title"),value:"LOCK_SCREEN"},{title:l.g.getLang("change_language_title"),value:"CHANGE_LANG",config:{isHaveUnderline:!0}},{title:l.g.getLang("device_action"),value:"LOGOUT"}]},{icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAA00lEQVR4Ae3YEVAEYRjH4YXgIAiCw3yCMDwLwuB8gvDwIDgIgpzDnIMgp3DhMDhYWAgWnjBYaG733fv2Zr9n5vXf/PEtsknCKWZjidmgxg4PqWPmaPzZJV0KC22LVMs8odT2hTXODhVzj8r/vnEzdMyj/TRYDhVzq5sfXEbHzFDq7iM66E5/V5FBb/p7jgwq9fdeRBFjO7agamxBclAOykFHEYSVOKv4mFRRODeMumvQNRrxasz7RG2C76KYDNTaPlMGvWpbpn4yrLFFhRecFNmU/ALuSZJdGT7bowAAAABJRU5ErkJggg==",number_unRead:0,data:[],mode:{isNotification:!0},headerNoti:{title_header:"Notifications",title_readAll:l.g.getLang("notifyDefaultMarksAsRead")},abs_Open:this.onClickNotification,abs_ClickItem:this.onClickMessage,abs_ReadAll:this.onClickReadAll}],search_global:{data:[],placeholder:l.g.getLang("header_searchPlacehole"),title_begin:l.g.getLang("header_searchTitlebegin"),title_noResult:l.g.getLang("header_searchTitleNoResult"),noResult:l.g.getLang("header_searchNoResult")}};void 0!==(null===(t=this.props.additionalConfig)||void 0===t?void 0:t.dataHeader)&&this.props.additionalConfig.dataHeader.length>0&&(i.headerItem=i.headerItem.concat(this.props.additionalConfig.dataHeader)),this.type_screen="header",this.state={isListen:!1,langKey:l.g.getLangKey(),isOpenLang:!1,isOpen:!0,isUserOpen:!0,isSearchOpen:!0,check_screen_width:void 0,class_btn_toggle:"c-hamburger c-hamburger--htra prtm-bars pull-right",data_full:i}}componentDidMount(){l.g.addScreen(this),this.setState({isListen:!0})}getUnreadNotification(){let e=0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(t=>{t.isRead||e++}),`${l.g.getLang("notifyDefaultTitle")} (${e})`}getSearchValue(e,t){var a,s;if(!t)return 0;return((null===(a=l.g.searchPerfect(e,t))||void 0===a||null===(s=a.filter(e=>e.status))||void 0===s?void 0:s.length)||0)/t.length}componentDidUpdate(){let{data_full:e}=this.state,t=l.g.getLangKey(),a=e.headerItem[1].data;t!==this.state.langKey&&(e.headerItem[0].data[0].title_big=l.g.context_get("user_jwebui.email"),e.headerItem[0].data[1].title=l.g.getLang("jMyDevice_title"),e.headerItem[0].data[2].title=l.g.getLang("jProfile_title"),e.headerItem[0].data[3].title=l.g.getLang("cLockScreen_title"),e.headerItem[0].data[4].title=l.g.getLang("change_language_title"),e.headerItem[0].data[5].title=l.g.getLang("device_action"),e.headerItem[1].headerNoti.title_readAll=l.g.getLang("notifyDefaultMarksAsRead"),e.headerItem[1].headerNoti.title_header=this.getUnreadNotification(e.headerItem[1].data),a=this.setTimeSinceNotification(a),e.search_global.placeholder=l.g.getLang("header_searchPlacehole"),e.search_global.title_begin=l.g.getLang("header_searchTitlebegin"),e.search_global.title_noResult=l.g.getLang("header_searchTitleNoResult"),e.search_global.noResult=l.g.getLang("header_searchNoResult"),this.setState({langKey:t,data_full:e})),a.length>0?(void 0!==this.save_interval&&clearInterval(this.save_interval),this.save_interval=setInterval(()=>{a=this.setTimeSinceNotification(a),this.setState({data_full:e})},6e4)):clearInterval(this.save_interval)}setTimeSinceNotification(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];for(let t=0;t<e.length;t++)e[t].title_sub=l.g.timeSince(e[t].time);return e}componentWillUnmount(){clearInterval(this.save_interval)}render(){const e=Object(r.a)("uHeader");return n.a.createElement(n.a.Fragment,null,n.a.createElement(m,{isOpen:this.state.isOpenLang,abs_Close:this.modalLangClose}),n.a.createElement(e,{dataFull:Object(s.a)(Object(s.a)({},this.state.data_full),{},{abs_search:this.onSearch,abs_Click:this.onSelectedItemMenuProfile,abs_select:this.onSelectMenu})}))}}t.a=g},163:function(e,t,a){"use strict";var s=a(0),i=a.n(s),n=a(4);class l extends s.Component{constructor(){super(...arguments),this.getUNotificationConfig=()=>{let e={config:{mode:"toast"},data:[]};return this.props.data.forEach((t,a)=>{e.data.push({id:t.time,title:t.description,color:t.class_,message:t.description,config:{time_out:1e4}})}),e}}render(){const e=Object(n.a)("uNotification");return i.a.createElement(e,{dataFull:this.getUNotificationConfig()})}}t.a=l}}]);