(this["webpackJsonpstable-app"]=this["webpackJsonpstable-app"]||[]).push([[104],[,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"E",(function(){return setMsgSystem})),__webpack_require__.d(__webpack_exports__,"A",(function(){return sendMsgSystem})),__webpack_require__.d(__webpack_exports__,"B",(function(){return setDataBase})),__webpack_require__.d(__webpack_exports__,"n",(function(){return getDataBase})),__webpack_require__.d(__webpack_exports__,"f",(function(){return context_set})),__webpack_require__.d(__webpack_exports__,"o",(function(){return getDataBaseTable})),__webpack_require__.d(__webpack_exports__,"D",(function(){return setLibDefault})),__webpack_require__.d(__webpack_exports__,"H",(function(){return setUserConfig})),__webpack_require__.d(__webpack_exports__,"I",(function(){return setUserConfigDefault})),__webpack_require__.d(__webpack_exports__,"p",(function(){return getForm})),__webpack_require__.d(__webpack_exports__,"l",(function(){return form_getCDList})),__webpack_require__.d(__webpack_exports__,"v",(function(){return getReactTxt})),__webpack_require__.d(__webpack_exports__,"q",(function(){return getFormInfo})),__webpack_require__.d(__webpack_exports__,"m",(function(){return getAllForm})),__webpack_require__.d(__webpack_exports__,"a",(function(){return addForm})),__webpack_require__.d(__webpack_exports__,"C",(function(){return setForm})),__webpack_require__.d(__webpack_exports__,"G",(function(){return setRoleOfUser})),__webpack_require__.d(__webpack_exports__,"F",(function(){return setRoleCache})),__webpack_require__.d(__webpack_exports__,"J",(function(){return setUserID})),__webpack_require__.d(__webpack_exports__,"K",(function(){return setUserIDFind})),__webpack_require__.d(__webpack_exports__,"w",(function(){return getUserID})),__webpack_require__.d(__webpack_exports__,"x",(function(){return getUserIDFind})),__webpack_require__.d(__webpack_exports__,"d",(function(){return buildRoleOfForm})),__webpack_require__.d(__webpack_exports__,"b",(function(){return addRole})),__webpack_require__.d(__webpack_exports__,"s",(function(){return getKey_D})),__webpack_require__.d(__webpack_exports__,"r",(function(){return getKey_APP})),__webpack_require__.d(__webpack_exports__,"y",(function(){return getWebSV})),__webpack_require__.d(__webpack_exports__,"u",(function(){return getLangKey})),__webpack_require__.d(__webpack_exports__,"t",(function(){return getLang})),__webpack_require__.d(__webpack_exports__,"c",(function(){return autoId})),__webpack_require__.d(__webpack_exports__,"j",(function(){return formChatBox_set})),__webpack_require__.d(__webpack_exports__,"i",(function(){return formChatBox_open})),__webpack_require__.d(__webpack_exports__,"h",(function(){return formChatBox_addDebug})),__webpack_require__.d(__webpack_exports__,"k",(function(){return formChatBox_setCopyToClipboard})),__webpack_require__.d(__webpack_exports__,"z",(function(){return lazyLoad})),__webpack_require__.d(__webpack_exports__,"e",(function(){return calculatorBandwidth})),__webpack_require__.d(__webpack_exports__,"g",(function(){return Application}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),react_dom__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(12),react_dom__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__),_libQuery__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(44),_libClient__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_libPost__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(5),_tx_coreTx__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8),_tx_basicTxCode__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(51),_libStoreHtml5__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(47),_libDatabaseSmart__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(48),_libNetwork__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(49),_libKeyboard__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(50),_libMenus__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(39),cache={user:{roles:[],role_cache:{},config_of_user:{},config_of_user_default:{},session_id:"",user_id:"",my_device:{my_ip:"",screen:"",browser:"",browserVersion:"",browserMajorVersion:"",mobile:"",os:"",osVersion:"",cookies:""},user_profile:{}},config:{form_config:{},role_function:{},role_right:{},fo:{},fo_black_list:{tx_fo:{},function:{}},parameter_system:{}},app_config:{},data_schema:{},data:{},constData:{},form:{auto_form:{},opening_forms:[],selected_form:{},shared_form_data:{},time_add_component:300,button_watting_action:5e3,mapping_dom_react:{}},lib_defaults:[],screens:[],websocket:{connectStatus:"Close",webSocket:null},notification:{},trace:[],protect:{key:"",bitwise:0,time_refresh:3e5},chat:{data_chat:[]},master_data:{},system_mode:{pin:!1,isLock:!1,reloginCount:0,reloginUserCount:0,safe:{fo:";fo-load-txFo;fo-protect-start;fo-load-bigData;fo-load-screen;fo-container;",bo:";bo-load-txFo;"},mode:{lock:{fo:";fo-goto-pageLogin;fo-protect-key;",bo:";bo-relogin-login;bo-relogin-loginPin;bo-relogin-lockToken;"}}},rsa:{position_default:121,algorithm:{1:{drop:[1],id:"1",cross:{group:3,run:["02","10"],max:4},tag:{val:"AGhuk",start:100},crack:"aOiO"}},algorithm_response:{1:{translation:[4,5]}},privateKey:"",publicKey:"",count_change:0,max_use:30,template:{}},context:{time:0,user_jwebui:{},user_acc:{}},contextweb:{},store_html5:{},statusDebug:!1,assistant:{isRun:!0,dataAssistantSupport:[],max_data:20},scheduleJob:{job_run:{},job_config:{}},template_config:{},template_html:{},loading_cache:{component:{},form:{}},response_file:{buffer_data:"",buffer_status:!1,file_name:"",file_name_exist:!1}},obj_component_render_config=void 0,obj_component_render_role=void 0,obj_component_render_property=void 0,obj_component_render_validate=void 0,obj_component_render_lang=void 0,modal_confirm=void 0,modal_dynamic_fromFromCode=void 0,form_relogin=void 0,form_relogin_timeout=void 0,form_chat=void 0,form_WChatBox=void 0,elearning_render_markdown=void 0,code_basicTxCode=_tx_basicTxCode__WEBPACK_IMPORTED_MODULE_6__.a,list_jcontext=[],copyToClipboard=null,var_MsgSystem=null;const setMsgSystem=e=>{var_MsgSystem=e},sendMsgSystem=(e,t)=>{var_MsgSystem.activeMsg(e,t)},setDataBase=e=>{cache.data_schema=e},getDataBase=()=>cache.data_schema,context_set=e=>{cache.context=e},getDataBaseTable=e=>{for(var t=0;t<cache.data_schema.all_id_button.length;t++)if(cache.data_schema.all_id_button[t].type===e)return cache.data_schema.all_id_button[t]},setLibDefault=e=>{cache.lib_defaults=e},getLibDefault=e=>{for(var t=0;t<cache.lib_defaults.length;t++){var a=cache.lib_defaults[t];if(null!=a.code&&a.code===e)return a}},readFlowFunctionClientStep=(e,t,a)=>{for(var i=0;i<t.length;i++)if(null!=t[i].sourceId&&t[i].sourceId===e&&null!=t[i].targetId)for(var s=0;s<a.length;s++)if(null!=a[s].action_code&&a[s].action_code===t[i].targetId)return a[s]},getAllLibDefault=()=>cache.lib_defaults,setUserConfig=e=>{cache.user.config_of_user=e},getUserConfig=()=>cache.user.config_of_user,setUserConfigDefault=e=>{cache.user.config_of_user_default=e},getUserConfigDefault=()=>cache.user.config_of_user_default,getAllAppAuto=()=>cache.form.auto_form,getForm=e=>{if(null!=cache.config.form_config[e]&&null!=cache.config.form_config[e].list_layout)return cache.config.form_config[e].list_layout},form_getCDList=(e,t,a)=>{if(null!=cache.config.form_config[e]&&null!=cache.config.form_config[e].list_layout){let t=cache.config.form_config[e].list_layout,a=[];for(let e=0;e<t.length;e++){let i=t[e].list_view;if(void 0!==i)for(let e=0;e<i.length;e++){let t=i[e].list_input;if(void 0!==t)for(let e=0;e<t.length;e++){let i=t[e];switch(i.inputtype){case"cTextInput":break;case"jSelect":if(void 0!==i.config&&void 0!==i.config.cdlist&&void 0!==i.config.cdlist.cdgrp&&void 0!==i.config.cdlist.cdname){0===Application.data_cdList(i.config.cdlist.cdgrp,i.config.cdlist.cdname).length&&a.push({dbcoffee_create:!1,dbcoffee_col1:i.config.cdlist.cdgrp,dbcoffee_col2:i.config.cdlist.cdname})}}}}}let i=[];return i=a,{c_cdlist:i}}return{}},getReactTxt=e=>{if(null!=cache.config.form_config[e]&&null!=cache.config.form_config[e].react_txt)return cache.config.form_config[e].react_txt},getFormInfo=e=>null!=cache.config.form_config[e]&&null!=cache.config.form_config[e].info?cache.config.form_config[e].info:{},getAllForm=()=>cache.config.form_config,addForm=(e,t)=>{cache.config.form_config[e]=t},setForm=e=>{cache.config.form_config=e},setRoleOfUser=e=>{null!==e&&(cache.user.roles=e)},setRoleCache=e=>{null!==e&&(cache.user.role_cache=e)},setUserID=e=>{null!==e&&(cache.user.session_id=e)},setUserIDFind=e=>{null!==e&&(cache.user.user_id=e)},getUserID=()=>cache.user.session_id,getUserIDFind=()=>cache.user.user_id,buildRoleOfForm=e=>{for(var t=getRole(e),a={},i=0;i<cache.user.roles.length;i++)if(void 0!==t[cache.user.roles[i]]){var s=t[cache.user.roles[i]];for(var o in s)if(void 0===a[o])a[o]=s[o];else{var l=a[o];if(void 0!==s[o].role)for(var n in s[o].role)!0===s[o].role[n]&&void 0!==l.role&&(l.role[n]=!0);a[o]=l}}cache.config.role_right[e]=a},addRole=(e,t)=>{cache.config.role_function[e]=null!=t?t:{}},getRole=e=>void 0!==cache.config.role_function[e]?cache.config.role_function[e]:{},getKey_D=()=>cache.app_config.domain,getKey_APP=()=>cache.app_config.para.app_id,getWebSV=()=>cache.app_config.server.web,getLangKey=()=>cache.app_config.para.language,getLang=e=>Application.isDebug()&&e?`(${e})`:null!=cache.app_config&&void 0!==cache.app_config.lang_data[cache.app_config.para.language]&&null!=cache.app_config.lang_data[cache.app_config.para.language]&&void 0!==cache.app_config.lang_data[cache.app_config.para.language][e]?cache.app_config.lang_data[cache.app_config.para.language][e]:""!==e?"#"+e:"",autoId=()=>{for(var e=""+(new Date).getTime()+(Math.floor(6e6*Math.random())+1),t="",a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",i=0;i<e.length;i++){var s=Number(e[i]);if(0<=s&&s<=2&&e.length>i+1){var o=10*s+Number(e[i+1]);if(o>0&&o<a.length){t+=a[o],i++;continue}}t+=e[i]}return t},buildBitwiseFromProtect=()=>{var e=cache.protect.key;if(void 0!==e){for(var t=e.codePointAt(0),a=1;a<e.length;a++)t^=e.codePointAt(a);cache.protect.bitwise=t}},formChatBox_set=e=>{form_WChatBox=e},formChatBox_open=e=>{void 0!==form_WChatBox&&form_WChatBox.open(e)},formChatBox_addDebug=e=>{void 0!==form_WChatBox&&form_WChatBox.addDebug(e)},formChatBox_setCopyToClipboard=e=>{copyToClipboard=e},createStringID=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1),lazyLoad=e=>{let t=!1;for(let a in e){void 0===cache.data[a]&&(cache.data[a]=[]),"c_cdlist"===a&&(t=!0);let i=e[a];for(let e=0;e<i.length;e++){let t=i[e][a],s=!1;for(let e=0;e<cache.data[a].length;e++){let i=cache.data[a][e][a];if(void 0!==t.AFGHkeyIndexWJ&&void 0!==i.AFGHkeyIndexWJ&&t.AFGHkeyIndexWJ===i.AFGHkeyIndexWJ){i=t,s=!0;break}}s||cache.data[a].unshift(i[e])}}t&&Application.data_buildCdListQuick(cache.data.c_cdlist)},calculatorBandwidth=(e,t,a)=>{};class Application{static readHTML5RSA(){var e=new URL(window.location.href);cache.store_html5=_libStoreHtml5__WEBPACK_IMPORTED_MODULE_7__.a.buildStoreHtml5_for_app(e)}static start(e){cache.app_config=e;var t="";void 0!==cache.store_html5.session_id_app&&(t=cache.store_html5.session_id_app),cache.app_config.para.app_id=cache.store_html5.app_code,void 0!==t&&null!=t&&""!==(t=t.trim())&&setUserID(t),cache.app_config.domain=window.location.hostname,cache.app_config.server.web=cache.app_config.server.web.replace("#",window.location.hostname),cache.app_config.server.socket=cache.app_config.server.socket.replace("#",window.location.hostname),Object(_libPost__WEBPACK_IMPORTED_MODULE_4__.b)([{txcode:"#sys:bo-protected-checkParameter",input:{}}],{}).then(e=>{Application.setMyDevice(Application.foGetData("read_info_client",e)),Application.start_step2()},e=>{})}static start_step2(){Object(_libNetwork__WEBPACK_IMPORTED_MODULE_9__.a)(),Application.compareMyDevice()?Application.loadFoDefault():_libClient__WEBPACK_IMPORTED_MODULE_3__.a.fo([{txcode:"#sys:fo-goto-pageLogin",input:{line:"start_step2"}}],{})}static template_getConfigTemplate(){let e=window.obManagerTemplate_libManagerTemplate.managerTemplate_getDevie();return cache.store_html5.configTemplate[e]}static compareMyDevice(){let e=Application.getMyDevice(),t=cache.store_html5;if(void 0!==t.device){for(let a in t.device){if(void 0===e[a]||void 0===t.device[a])return!1;if(t.device[a]!==e[a])return!1}return!0}return!1}static loadFoDefault(){""!==cache.app_config.fo_load?Object(_libPost__WEBPACK_IMPORTED_MODULE_4__.b)([{txcode:"#sys:bo-load-txFo",input:{list_tx:cache.app_config.fo_load}},{txcode:"#sys:bo-load-dyjs",input:{key_map:"start",key_position:""}}],{}).then(e=>{var t=Application.foGetData("txClient",e);if(void 0!==t)for(var a=0;a<t.length;a++)Application.addTxFo(t[a].txcode,t[a]);_libKeyboard__WEBPACK_IMPORTED_MODULE_10__.a.startKeyboard(),Application.webSocketConnect()},e=>{}):Object(_libPost__WEBPACK_IMPORTED_MODULE_4__.b)([{txcode:"#sys:bo-load-dyjs",input:{key_map:"start",key_position:""}}],{}).then(e=>{Application.webSocketConnect()},e=>{})}static getMyDevice(){return cache.user.my_device}static setMyDevice(e){void 0===cache.user.my_device&&(cache.user.my_device={});for(let t in e)cache.user.my_device[t]=e[t]}static checkIsPublic(){return!0}static getUrlLogin(){return Application.checkIsPublic()?"//"+cache.app_config.domain+cache.app_config.public.port+"/login?b="+cache.app_config.para.app_id:"//"+cache.app_config.domain+cache.app_config.dev.login_port+"/login?b="+cache.app_config.para.app_id}static checkIsMobi(){return void 0!==cache.app_config.isMobi&&cache.app_config.isMobi}static setSessionTemp(e){void 0!==e&&(cache.user.session_id=e)}static getUserCode(){return cache.user.user_id}static loadParameterSystem(e){void 0===cache.config.parameter_system&&(cache.config.parameter_system={});for(var t=0;t<e.length;t++)void 0!==e[t].code&&(cache.config.parameter_system[e[t].code]=e[t]);let a=Application.getParameterSystem("button_watting_action");void 0!==a&&(cache.form.button_watting_action=a)}static getSessionFromStore(){return cache.user.session_id}static clearSessionStorage(){return localStorage.removeItem("session_id_"+cache.app_config.para.app_id)}static parameterSystem_start(){var e=Application.getParameterSystem("reloginCount");void 0!==e&&(cache.system_mode.reloginCount=e);var t=Application.getParameterSystem("reloginTimer");void 0!==t&&window.addEventListener("mousemove",()=>{Application.relogin_ResetTimer(t)})}static relogin_up_loginFalse(){void 0===cache.system_mode.reloginUserCount&&(cache.system_mode.reloginUserCount=0),cache.system_mode.reloginUserCount++}static relogin_checkOverLoadLoginFalse(){return void 0!==cache.system_mode.reloginCount&&void 0!==cache.system_mode.reloginUserCount&&0!==cache.system_mode.reloginCount&&cache.system_mode.reloginUserCount>=cache.system_mode.reloginCount}static relogin_maxLoginFalse(){return cache.system_mode.reloginCount}static relogin_checkHasPinCode(){return void 0!==cache.system_mode.pin&&cache.system_mode.pin}static relogin_setHasPinCode(){cache.system_mode.pin=!0}static relogin_loginFalseCurrent(){return cache.system_mode.reloginUserCount}static relogin_resetCount(){cache.system_mode.reloginUserCount=0}static relogin_ResetTimer(e){void 0!==form_relogin_timeout&&clearTimeout(form_relogin_timeout),form_relogin_timeout=setTimeout(()=>{Application.relogin_getStatus()||Application.relogin_lockScreen()},1e3*e*60)}static getParameterSystem(e){if(void 0===cache.config.parameter_system&&(cache.config.parameter_system={}),void 0!==cache.config.parameter_system[e]){var t=cache.config.parameter_system[e];if(void 0!==t.value&&void 0!==t.data_type)switch(t.data_type){case"s":return t.value;case"b":return"true"===t.value;case"n":return Number(t.value);default:return}}}static checkSystemModeLock_bo_fo(e,t){if(void 0!==e)return!!cache.system_mode.safe.fo.includes(";"+e+";")||(!cache.system_mode.isLock||!!cache.system_mode.mode.lock.fo.includes(";"+e+";"))}static jcontextAdd(e){list_jcontext.push(e)}static jcontextGetAll(){return list_jcontext}static setFormChat(e){form_chat=e}static getDataChatTemp(){return cache.chat.data_chat}static addDataChatTemp(e){cache.chat.data_chat[cache.chat.data_chat.length]=e}static addDataChatNew(e){for(var t=0;t<cache.chat.data_chat.length;t++)if(cache.chat.data_chat[t].id===e.id)return;if(cache.chat.data_chat[cache.chat.data_chat.length]=e,void 0!==form_chat)form_chat.hasOwnProperty("showChat")&&form_chat.showChat(e);else{const e=new Date;var a={icon:"fa-info-circle",color:"success",title:Application.getLang("systemTitle"),time:e.getTime()+"",description:Application.getLang("hasChat"),data:{},action:{}};Application.pushNotify("notifyToast",a,{}),Application.callAllScreenListen()}}static setStatusChat(e){if(void 0!==e.statusSend)for(var t=0;t<cache.chat.data_chat.length;t++)if(cache.chat.data_chat[t].id===e.data_chat.id)return cache.chat.data_chat[t].status=e.statusSend,void(void 0!==form_chat&&form_chat.hasOwnProperty("changeStatusChat")&&form_chat.changeStatusChat(e))}static setProtect(e){cache.protect.key=e,buildBitwiseFromProtect()}static getProtect(){return cache.protect.key}static getTimeProtect(){return cache.protect.time_refresh}static getKeyX(e){var t=0;t=void 0!==cache.protect.bitwise&&0!==cache.protect.bitwise?cache.protect.bitwise:15;for(var a=0;a<e.length;a++)t+=e.codePointAt(a)^t;return t}static getConfigUser(e){return void 0!==cache.user.config_of_user&&void 0!==cache.user.config_of_user[e]?cache.user.config_of_user[e]:void 0!==cache.user.config_of_user_default&&void 0!==cache.user.config_of_user_default[e]?cache.user.config_of_user_default[e]:void 0}static getConfigUserDefault(e){return""===e?cache.user.config_of_user_default:void 0!==cache.user.config_of_user_default&&void 0!==cache.user.config_of_user_default[e]?cache.user.config_of_user_default[e]:void 0}static getFormAppAuto(e){if(void 0!==cache.form.auto_form[e])return cache.form.auto_form[e]}static changeKeyLanguage(){for(var e in cache.form.auto_form)cache.form.auto_form[e].hasOwnProperty("changeKeyLanguage")&&cache.form.auto_form[e].changeKeyLanguage()}static changeForDebug(e){for(var t in cache.form.auto_form)cache.form.auto_form[t].hasOwnProperty("forDebug")&&cache.form.auto_form[t].forDebug(e)}static foGetData(e,t){if(void 0!==t.fo)for(var a=0;a<t.fo.length;a++)if(void 0!==t.fo[a].input&&void 0!==t.fo[a].input[e])return t.fo[a].input[e]}static putDataGB(e,t,a){null==cache.form.shared_form_data[e]&&(cache.form.shared_form_data[e]={}),cache.form.shared_form_data[e][t]=a}static putDataJoinGB(e,t){if(null==cache.form.shared_form_data[e]&&(cache.form.shared_form_data[e]={}),void 0!==t)for(var a in t)cache.form.shared_form_data[e][a]=t[a]}static FromAddComponent(e,t){void 0!==cache.form.auto_form[e]&&cache.form.auto_form[e].addComponent(t)}static putData(e,t,a,i){if(void 0!==i&&void 0!==i.key_form&&void 0!==cache.form.auto_form[i.key_form]){var s=cache.form.auto_form[i.key_form];void 0!==s&&s.hasOwnProperty("putData")&&s.putData(e,t,a)}}static putDataJoin(e,t){var a=this.getFormCurrent();void 0!==a&&a.hasOwnProperty("putDataJoin")&&a.putDataJoin(e,t)}static putDataAll(e){cache.form.shared_form_data=e}static copyToClipboard(e){if(null!=copyToClipboard){copyToClipboard.value=e,copyToClipboard.focus(),copyToClipboard.select(),copyToClipboard.setSelectionRange(0,99999),document.execCommand("copy");const a=new Date;var t={class_:"success",icon:"fa fa-clipboard",title:Application.getLang("systemTitle"),time:a.getTime()+"",description:Application.getLang("copyToClipboard"),data:{},action:{}};Application.pushNotify("notifyToast",t,{}),Application.callAllScreenListen()}}static getDataGB(e){return""!==e.trim&&null!=cache.form.shared_form_data[e]?cache.form.shared_form_data[e]:cache.form.shared_form_data}static getAllFormIsOpen(){return cache.form.auto_form}static getLongTime(){return 1*new Date}static autoID(){return createStringID()+createStringID()+createStringID()+createStringID()}static autoUui(){return createStringID()+createStringID()+createStringID()+createStringID()+"-"+createStringID()+createStringID()}static autoUui_key_feedback(){var e=new Date,t=new Date(e.getFullYear(),0,0),a=e-t+60*(t.getTimezoneOffset()-e.getTimezoneOffset())*1e3,i=Math.floor(a/864e5);return createStringID()+createStringID()+createStringID()+createStringID()+createStringID()+createStringID()+"-"+i}static addAppAuto(e,t,a){cache.form.auto_form[e]=t,void 0!==a&&(a||(this.hiddenAllForm(),this.setFormCurrent(t)))}static profileUser_set(e){cache.user.user_profile=e}static profileUser_get(e){return void 0!==cache.user.user_profile&&void 0!==cache.user.user_profile[e]?cache.user.user_profile[e]:""}static relogin_setForm(e){form_relogin=e}static relogin_getForm(){return form_relogin}static relogin_lockScreen(){void 0!==form_relogin&&form_relogin.hasOwnProperty("startRelogin")&&(form_relogin.startRelogin(),Application.relogin_setStatus(!0))}static relogin_setStatus(e){cache.system_mode.isLock=e}static relogin_getStatus(){return cache.system_mode.isLock}static addScreen(e){cache.screens[cache.screens.length]=e}static getAllScreen(){return cache.screens}static pushNotify(e,t,a){null==cache.notification[e]&&(cache.notification[e]=[]);var i=cache.notification[e].length;void 0===cache.notification[e][i]&&(cache.notification[e][i]={}),cache.notification[e][i]=t}static pushAllNotify(e,t){void 0===cache.notification[e]&&(cache.notification[e]=[]),cache.notification[e]=cache.notification[e].concat(t)}static getListNotifications(e){if(void 0!==cache.notification[e])return cache.notification[e]}static clearNotifyType(e){void 0!==cache.notification[e]&&(cache.notification[e]=[])}static callAllScreenListen(){for(var e=0;e<cache.screens.length;e++)cache.screens[e].hasOwnProperty("callScreen")&&cache.screens[e].callScreen()}static openForm(e){return cache.form.selected_form={},!(""===e||void 0===cache.form.auto_form[e]||!cache.form.auto_form[e].hasOwnProperty("callSetHidden")||!cache.form.auto_form[e].hasOwnProperty("getKeyFormAuto")||cache.form.auto_form[e].getKeyFormAuto()!==e)&&(this.setFormCurrent(cache.form.auto_form[e]),!0)}static hiddenAllForm(){for(var e in cache.form.auto_form)if(void 0!==cache.form.auto_form[e]&&cache.form.auto_form[e].hasOwnProperty("getInfoA")){var t=cache.form.auto_form[e].getInfoA();void 0!==t&&void 0!==t.ofModal&&!1===t.ofModal&&cache.form.auto_form[e].hasOwnProperty("callSetHidden")&&cache.form.auto_form[e].callSetHidden("none")}}static getAllFormIdOpen_DOM(){return cache.form.opening_forms}static newForm(e){cache.form.opening_forms.push(e),react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,cache.form.opening_forms),document.getElementById("content")),this.callAllScreenListen()}static checkRoleSuperAdmin(){return!!this.getParameterSystem("roleSupperAdmin")}static checkRole_AppAdmin(){return!0}static systemName(){return"/"}static checkTrace(){return!!this.getParameterSystem("monitoringPost")}static isDebug(){return cache.statusDebug}static callDirFromSupport(e,t){for(var a=0;a<cache.screens.length;a++)void 0!==cache.screens[a].type_screen&&cache.screens[a].type_screen===e&&cache.screens[a].hasOwnProperty(t)&&cache.screens[a][t]()}static isAssistant(){return cache.assistant.isRun}static assistant_add(e){if(void 0===cache.assistant.dataAssistantSupport&&(cache.assistant.dataAssistantSupport=[]),!cache.assistant.dataAssistantSupport.includes(e.key_feedback)){if(cache.assistant.dataAssistantSupport.length>=cache.assistant.max_data){for(let e=1;e<cache.assistant.dataAssistantSupport.length;e++)cache.assistant.dataAssistantSupport[e-1]=cache.assistant.dataAssistantSupport[e];cache.assistant.dataAssistantSupport.pop()}void 0!==e.key_feedback&&cache.assistant.dataAssistantSupport.push(e.key_feedback)}}static assistant_sendFeekError(){return void 0===cache.assistant.dataAssistantSupport&&(cache.assistant.dataAssistantSupport=[]),cache.assistant.dataAssistantSupport.join(";")}static setDebug(e){cache.statusDebug=(!0===e||!1===e)&&e}static markdown_render(e){return void 0!==elearning_render_markdown&&void 0!==e&&null!==elearning_render_markdown?elearning_render_markdown.options.previewRender(e):""}static saveTrace(e){this.getParameterSystem("monitoringPost")&&(this.showTrace()&&void 0!==e.time_send&&(this.showCache()?console.log(e.time_send+"=>",e,cache):console.log(e.time_send+"=>",e)),cache.trace[cache.trace.length]=e)}static showTrace(){return!!this.getParameterSystem("monitoringPostShow")}static showCache(){return!!this.getParameterSystem("monitoringCache")}static removeForm(e){if(""!==e){var t=this.getFormCurrent(),a="";t.hasOwnProperty("getKeyFormAuto")&&(a=t.getKeyFormAuto());var i="";for(var s in cache.form.auto_form)if(cache.form.auto_form[s].hasOwnProperty("callSetHidden")&&cache.form.auto_form[s].hasOwnProperty("getKeyFormAuto")){if(cache.form.auto_form[s].getKeyFormAuto()===e){if(void 0!==cache.form.mapping_dom_react[e]){delete cache.form.auto_form[s];for(var o=cache.form.mapping_dom_react[e],l=0;l<cache.form.opening_forms.length;l++)if(cache.form.opening_forms[l].key===o){cache.form.opening_forms.splice(l,1);break}if(delete cache.form.mapping_dom_react[e],react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,cache.form.opening_forms),document.getElementById("content")),a===e&&cache.form.opening_forms.length>0){if(!cache.form.auto_form[i]||!1!==cache.form.auto_form[i].getInfoA().ofModal)for(const e in cache.form.auto_form)!1===cache.form.auto_form[e].getInfoA().ofModal&&(i=e,s=e);this.setFormCurrent(cache.form.auto_form[i])}}else Application.AppException("#libSupport.removeForm","mapping_dom_react,form_key is undefined","system");return}i=s}}else cache.form.auto_form={},cache.form.opening_forms=[],react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.render(react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,cache.form.opening_forms),document.getElementById("content"))}static getFormCurrent(){return cache.form.selected_form}static getDataFormForm_obDataForm(){var e=this.getFormCurrent();return void 0!==e&&e.hasOwnProperty("getData")?e.getData(""):{}}static setFormCurrent(e){if(this.hiddenAllForm(),void 0!==e)cache.form.selected_form=e;else for(let t in cache.form.auto_form){cache.form.selected_form=cache.form.auto_form[t];break}cache.form.selected_form.hasOwnProperty("callSetHidden")&&cache.form.selected_form.callSetHidden(""),this.callAllScreenListen()}static getLang(e){return getLang(e)}static addLang(e,t){cache.app_config.lang_data[e]=t}static getAllLang(){return cache.app_config.lang_data}static setAllLang(e){void 0===cache.app_config.lang_data?(cache.app_config.lang_data={},cache.app_config.lang_data[cache.app_config.para.language]=e):cache.app_config.lang_data[cache.app_config.para.language]=e}static getLangWithData(e,t){var a=getLang(e);if(void 0!==t&&void 0!==t.table&&void 0!==t.data){var i=t.data,s=getDataBaseTable(t.table);if(void 0!==s&&null!=s.detail)for(var o=s.detail,l=0;l<o.length;l++){var n=o[l];null!=n.code&&null!=n.mapping&&(a=void 0!==i[n.code]?(a=a.replace("["+n.code+"]",i[n.code])).replace("["+n.mapping+"]",i[n.code]):(a=a.replace("["+n.code+"]","")).replace("["+n.mapping+"]",""))}}return a}static supportFormatDate(e){var t=new Date(parseFloat(e));return t.toLocaleDateString()+" "+t.toLocaleTimeString()}static convertFoOfApp_fo_check(e){var t={};for(var a in e)if(e[a].includes("#")&&e[a].includes(":")){var i=a.substring(a.indexOf(":")+1,a.length);t[i]=i}else t[a]=a;return t}static convertFoOfApp_fo_arr(e){for(var t=[],a=0;a<e.length;a++)if(void 0!==e[a].txcode&&(t[a]=JSON.parse(JSON.stringify(e[a])),e[a].txcode.includes("#")&&e[a].txcode.includes(":"))){var i=e[a].txcode;t[a].txcode=i.substring(i.indexOf(":")+1,i.length)}return t}static setData(e,t){cache.data[e]=t}static addData(e,t){void 0===cache.data[e]&&(cache.data[e]=[]),cache.data[e].unshift(t)}static updateData(e,t,a){if(void 0===a&&(a="AFGHkeyIndexWJ"),void 0!==cache.data[e]){if(void 0!==t[e])for(var i=0;i<cache.data[e].length;i++)if(void 0!==cache.data[e][i][e][a]&&void 0!==t[e][a]&&cache.data[e][i][e][a]===t[e][a])return void(cache.data[e][i]=t)}else cache.data[e]=[]}static deleteData(e,t,a){if(void 0===a&&(a="AFGHkeyIndexWJ"),void 0!==cache.data[e]){if(void 0!==t[e])for(var i=0;i<cache.data[e].length;i++)if(void 0!==cache.data[e][i][e][a]&&void 0!==t[e][a]&&cache.data[e][i][e][a]===t[e][a])return void cache.data[e].splice(i,1)}else cache.data[e]=[]}static addTxFo(e,t){cache.config.fo[e]=t}static BlackList_add(e,t){void 0===cache.config.fo_black_list[e]&&(cache.config.fo_black_list[e]={}),cache.config.fo_black_list[e][t]=t}static BlackList_check(e,t){return void 0===cache.config.fo_black_list[e]||void 0===cache.config.fo_black_list[e][t]}static getTxFo(e){if(void 0!==cache.config.fo[e])return JSON.parse(JSON.stringify(cache.config.fo[e]))}static findData(e,t,a){if(void 0!==cache.data[e]){for(var i=0;i<cache.data[e].length;i++)if(void 0!==cache.data[e][i][e][t]&&cache.data[e][i][e][t]===a)return cache.data[e][i]}else cache.data[e]=[]}static findData_Update(e,t){if(void 0===t&&(t="AFGHkeyIndexWJ"),void 0!==e)for(var a in e)if(void 0!==e[a][t]){void 0===cache.data[a]&&(cache.data[a]=[]);for(var i=0;i<cache.data[a].length;i++)if(void 0!==cache.data[a][i][a][t]&&cache.data[a][i][a][t]===e[a][t])return void(cache.data[a][i]=e)}}static getDataOOPFormServer(e,t){if(void 0!==e){if(void 0===t||""===t){let t={};for(var a in e)t=Object.assign(t,e[a]);return t}return e[t]}}static getData(e){return""===e?cache.data:void 0!==cache.data[e]?cache.data[e]:[]}static getRoleCache(){return cache.user.role_cache}static getTimeAddComponent(){return cache.form.time_add_component}static getTimeActionWatting(){return cache.form.button_watting_action}static getDataLimited(e,t,a){return t=parseInt(t),a=parseInt(a),_libQuery__WEBPACK_IMPORTED_MODULE_2__.a.AnalyticsQuery(e,t,a)}static data_cdList(e,t){return void 0!==cache.constData[e]&&void 0!==cache.constData[e][t]?Application.cloneJson(cache.constData[e][t]):[]}static data_buildCdListQuick(e){for(var t={},a=0;a<e.length;a++)if(void 0!==e[a].c_cdlist){var i=e[a].c_cdlist;if(void 0!==i.cdgrp&&void 0!==i.cdname&&(void 0===i.visible||0!==i.visible)){var s=i.cdgrp,o=i.cdname;void 0===t[s]&&(t[s]={}),void 0===t[s][o]&&(t[s][o]=[]),t[s][o].push(e[a])}}for(var l in t)for(var n in t[l])t[l][n].sort((e,t)=>parseInt(e.c_cdlist.cdidx)-parseInt(t.c_cdlist.cdidx));cache.constData=t}static checkDynamicCondition(data,condition){if(""!==condition.trim())try{let wf=data;return eval(condition)}catch(_unused){return!1}return!0}static checkCondition(data,condition){if(""!==condition.trim())try{return eval("let wf="+JSON.stringify(data)+";"+condition)}catch(_unused2){return}}static form_getName(e){if(void 0!==e&&""!==e)for(var t=cache.data.group_menu_role,a=0;a<t.length;a++)if(void 0!==t[a].group_menu&&void 0!==t[a].group_menu.group_menu_function_code&&t[a].group_menu.group_menu_function_code===e)return t[a].group_menu;return{}}static form_addMapping(e,t){cache.form.mapping_dom_react[e]=t}static get_appConfig(){return cache.app_config}static role_menuOfRole(){if(void 0!==cache.data.group_menu){var e=cache.data.group_menu;cache.data.group_menu_role=e}}static role_getAllRoleRight(e){return void 0!==cache.config.role_right&&void 0!==cache.config.role_right[e]?cache.config.role_right[e]:null}static role_getComponent(e,t){return void 0!==cache.config.role_right&&void 0!==cache.config.role_right[e]&&void 0!==cache.config.role_right[e][t]?cache.config.role_right[e][t]:null}static runJs(data,componentCode,js){if(""!==js.trim())try{return eval("var form="+JSON.stringify(data)+";var componentCode='"+componentCode+"';"+js+";form;")}catch(_unused3){return}}static paramStringCaculator(param_str){if(param_str&&""!==param_str.trim())try{return eval(param_str)}catch(_unused4){return}}static checkDynamicConditionNoData(condition){if(""!==condition.trim())try{return eval(condition)}catch(_unused5){return!1}return!0}static condition_checkDynamicNoData(condition){if(""!==condition.trim())try{return eval(condition)}catch(_unused6){return}}static checkHasData(e){return void 0!==cache.data[e]}static getOOP(e,t){if(t.includes(".")){var a=t.split(".");if(void 0!==e)if(2===a.length){if(void 0!==e[a[0]]&&void 0!==e[a[0]][a[1]])return e[a[0]][a[1]]}else if(3===a.length&&void 0!==e[a[0]]&&void 0!==e[a[0]][a[1]]&&void 0!==e[a[0]][a[1]][a[2]])return e[a[0]][a[1]][a[2]]}return""}static getOOP_key(e){if(e.includes(".")){var t=e.split(".");if(t.length>1)return t[1]}return""}static searchTable(e,t){var a=[];if(void 0!==e&&void 0!==t){for(var i=!1,s=0;s<e.length;s++)if(void 0!==e[s].search&&""!==e[s].search.trim()){i=!0;break}if(i){for(var o=0;o<t.length;o++)if(void 0!==t[o])for(var l=0;l<e.length;l++)if(void 0!==e[l].search&&void 0!==e[l].code){var n=e[l].code;if(void 0!==t[o][n]&&""!==e[l].search.trim()&&t[o][n].includes(e[l].search.trim())){a[a.length]=t[o];break}}}else a=t}return a}static ms_start(e,t,a,i,s){cache.master_data[i]={form_code:s,data_key_value:a,table:e,pk:t}}static ms_saveOld(e,t){void 0!==cache.master_data[t]&&(cache.master_data[t].dataOld=e)}static ms_saveNew(e,t){void 0!==cache.master_data[t]&&(cache.master_data[t].dataNew=e)}static ms_getMasterData(e){return cache.master_data[e]}static ms_clearMasterData(e){delete cache.master_data[e]}static getConfigMasterOfComponent(e,t){if(void 0!==cache.config.form_config[e]){var a=cache.config.form_config[e];if(void 0!==a.list_layout)for(var i=a.list_layout,s=0;s<i.length;s++)if(void 0!==i[s].list_view)for(var o=i[s].list_view,l=0;l<o.length;l++)if(void 0!==o[l].list_input)for(var n=o[l].list_input,r=0;r<n.length;r++){var c=n[r];if(void 0!==c.default&&void 0!==c.default.codeHidden&&c.default.codeHidden===t)return c}}}static loadScript(e){var t=document.head,a=document.createElement("script");a.type="text/javascript",a.src=e,t.appendChild(a)}static setConfigComponent(e,t){switch(e){case"config":obj_component_render_config=t;break;case"property":obj_component_render_property=t;break;case"role":obj_component_render_role=t;break;case"validate":obj_component_render_validate=t;break;case"lang":obj_component_render_lang=t}}static getConfigComponent(e){switch(e){case"config":return obj_component_render_config;case"property":return obj_component_render_property;case"role":return obj_component_render_role;case"validate":return obj_component_render_validate;case"lang":return obj_component_render_lang}return null}static parseJson(e){try{return JSON.parse(e)}catch(t){return}}static cloneJson(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return}}static copyJsonObject(e,t){if(void 0!==t&&void 0!==e){var a=this.parseJson(JSON.stringify(t));if(void 0!==a){for(var i in e)a[i]=e[i];return a}}return e}static jsonParser(e){try{return JSON.parse(e)}catch(t){}}static supportReplaceFo(e,t){return e}static analyticsTable(e){return _libDatabaseSmart__WEBPACK_IMPORTED_MODULE_8__.a.analyticsTable(e)}static timeSince(e){var t=Math.floor((new Date-e)/1e3),a=Math.floor(t/31536e3);return a>1?a+" "+getLang("timeSince_y"):(a=Math.floor(t/2592e3))>1?a+" "+getLang("timeSince_m"):(a=Math.floor(t/86400))>1?a+" "+getLang("timeSince_d"):(a=Math.floor(t/3600))>1?a+" "+getLang("timeSince_h"):(a=Math.floor(t/60))>0?a+" "+getLang("timeSince_p"):getLang("timeSince_s_ago")}static confirmStartOnlyOnce(e){modal_confirm=e}static confirmInfo(e,t,a){void 0!==modal_confirm&&modal_confirm.setInfoModal(e,t,a)}static modalDynamicFromFromCode(e,t,a){void 0!==modal_dynamic_fromFromCode&&modal_dynamic_fromFromCode.setInfoModal(e,t,a)}static modalDynamicFromFromCode_close(){void 0!==modal_dynamic_fromFromCode&&modal_dynamic_fromFromCode.modalClose()}static modalDynamicFromFromCode_getRoleBack(){if(void 0!==modal_dynamic_fromFromCode)return modal_dynamic_fromFromCode.getRolBackData()}static modalDynamicFromFromCode_StartOnlyOnce(e){modal_dynamic_fromFromCode=e}static webSocketConnect(){var e="ws://"+cache.app_config.server.socket+"/"+Application.getSessionFromStore();cache.websocket=new WebSocket(e),cache.websocket.onopen=function(){Application.webSocketDisplayStatus("Open"),Application.webSocketSendMessage("#protectPostStart")},cache.websocket.onmessage=function(e){try{var t=JSON.parse(e.data);void 0!==t&&_libClient__WEBPACK_IMPORTED_MODULE_3__.a.fo(t.fo,t.input)}catch(a){if("string"===typeof e.data&&(cache.response_file.file_name_exist=!0,cache.response_file.file_name=e.data),"object"===typeof e.data&&(cache.response_file.buffer_status=!0,cache.response_file.buffer_data=e.data),cache.response_file.file_name_exist&&cache.response_file.buffer_status){const e=URL.createObjectURL(cache.response_file.buffer_data),t=document.createElement("a");t.href=e,t.download=cache.response_file.file_name,t.setAttribute("hidden",!0),document.body.appendChild(t),t.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),document.body.removeChild(t),cache.response_file.buffer_status=!1,cache.response_file.file_name_exist=!1}}},cache.websocket.onerror=function(e){Application.AppException("#libSupport.webSocketConnect","","Error! "+e.data)},cache.websocket.onclose=function(){Application.webSocketDisplayStatus("Closed")}}static webSocketDisconnect(){null!==cache.websocket&&(cache.websocket.close(),cache.websocket=null)}static webSocketSendMessage(e){null!==cache.websocket?cache.websocket.send(e):Application.AppException("#libSupport.webSocketSendMessage","webSocket is null","val_send:"+e)}static webSocketDisplayStatus(e){cache.websocket.connectStatus=e}static rsa_getPostion(){return cache.rsa.position_default}static rsa_getAlgorithm(){var e=Math.floor(10*Math.random())+"";return void 0!==cache.rsa.algorithm[e]?cache.rsa.algorithm[e]:cache.rsa.algorithm[1]}static rsa_response_getAlgorithm(){var e=Math.floor(10*Math.random());return void 0!==cache.rsa.algorithm_response[e]?cache.rsa.algorithm_response[e]:cache.rsa.algorithm_response[1]}static rsa_setAlgorithm(e){cache.rsa.algorithm=Object.assign(cache.rsa.algorithm,e)}static rsa_getPrivateKey(){return cache.rsa.privateKey}static rsa_setPublicKey(e){cache.rsa.publicKey=e}static rsa_getPublicKey(){return cache.rsa.publicKey}static txBasic_get(){return code_basicTxCode}static txBasic_add(e){if(void 0!==e)for(var t=0;t<e.length;t++){var a=e[t];for(var i in a)for(var s=0;s<a[i].length;s++){var o=a[i][s];if(void 0!==o.content&&void 0!==o.type)if("js"===o.type){if(void 0!==o.contain)switch(o.contain){case"codeLib":Application.txBasic_addCodeLib(o.content,o.fo);break;case"basicTx":Application.txBasic_addDynamicJs(o)}}else Application.loadCssContent(o.content)}}}static txBasic_addDynamicJs(tx_ob){void 0!==tx_ob.content&&void 0!==tx_ob.class&&(code_basicTxCode[tx_ob.class]=eval(tx_ob.content))}static txBasic_addCodeLib(tx_ob,fo_){eval(tx_ob),void 0!==fo_&&""!==fo_&&_libClient__WEBPACK_IMPORTED_MODULE_3__.a.fo([{txcode:fo_,input:{}}],{})}static getCoreTx(){return _tx_coreTx__WEBPACK_IMPORTED_MODULE_5__.a}static component_getListCode(e){if("string"!==typeof e)return[];let t=[];var a=new RegExp("@{([^@{}]*)}","g");let i=a.exec(e);for(;i;)t.push({key:i[0],code:i[1]}),i=a.exec(e);return t}static component_propertyIndex(e,t){let a={main:[],position:[]};if(void 0!==e){for(let t=0;t<e.main.length;t++){for(let i in e.main[t]){a.main.push({[i]:{style:[],attr:[],class:""}});for(let s of e.main[t][i].style)a.main[t][i].style.push(s);for(let s of e.main[t][i].attr)a.main[t][i].attr.push(s);a.main[t][i].class=e.main[t][i].class}for(let i in e.position[t]){a.position.push({[i]:{style:[],attr:[],class:""}});for(let s of e.position[t][i].style)a.position[t][i].style.push(s);for(let s of e.position[t][i].attr)a.position[t][i].attr.push(s);a.position[t][i].class=e.position[t][i].class}}for(let e in a)for(let i=0;i<a[e].length;i++){let s=a[e][i],o=s[Object.keys(s)[0]],l=t[e][i],n=l[Object.keys(l)[0]],r={},c={};for(let e of o.style){n.style.some(t=>Object.keys(t)[0]===Object.keys(e)[0])||(r=Object.assign(r,e))}for(let e of n.style){o.style.some(t=>Object.keys(t)[0]===Object.keys(e)[0])||(r=Object.assign(r,e))}for(let e of n.style)for(let t of o.style)Object.keys(t)[0]===Object.keys(e)[0]&&(r="#"!==Object.values(t)[0]?Object.assign(r,t):Object.assign(r,e));s[Object.keys(s)[0]].style=r;for(let e of o.attr){n.attr.some(t=>Object.keys(t)[0]===Object.keys(e)[0])||(c=Object.assign(c,e))}for(let e of n.attr){o.attr.some(t=>Object.keys(t)[0]===Object.keys(e)[0])||(c=Object.assign(c,e))}for(let e of n.attr)for(let t of o.attr)Object.keys(t)[0]===Object.keys(e)[0]&&(c="#"!==Object.values(t)[0]?Object.assign(c,t):Object.assign(c,e));if(s[Object.keys(s)[0]].attr=c,"#"===s[Object.keys(s)[0]].class){let a=t[e][i];s[Object.keys(s)[0]].class=a[Object.keys(a)[0]].class}}}else for(let i in t){let e=t[i];for(let t=0;t<e.length;t++){let s={},o={},l=e[t];for(let e in l){for(let t of l[e].style)s=Object.assign(s,t);for(let t of l[e].attr)o=Object.assign(o,t);a[i].push({[e]:{style:s,attr:o,class:l[e].class}})}}}for(let i in a){let e={};for(let t of a[i])e=Object.assign(e,t);a[i]=e}return a}static loadJs(e){return new Promise(t=>{const a=document.createElement("script");a.type="text/javascript",a.src=e,a.onload=()=>t(),document.head.appendChild(a)})}static loadCss(e){var t=document.createElement("link");t.setAttribute("href",e),t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),document.head.appendChild(t)}static loadCssContent(e){var t=document.createElement("style");t.innerHTML=e,document.head.appendChild(t)}static getArrayWithRegex(e,t){if("string"!==typeof e)return[];let a=[];var i=new RegExp(t,"g");let s=i.exec(e);for(;s;)a.push({key:s[0],code:s[1],index:s.index}),s=i.exec(e);return a}static getlistCodeContext(e){return this.getArrayWithRegex(e,"\\${([^}]*)}")}static context_get(e){if(void 0!==e){if(!e.includes("."))return cache.context[e];for(var t=e.split("."),a=cache.context,i=0;i<t.length;i++)if(void 0!==a[t[i]]&&(a=a[t[i]]),i===t.length-1)return a}}static contextweb_set(e){cache.contextweb=e}static contextweb_get(){return cache.contextweb}static AppException(e,t,a){Application.isDebug()&&console.log(e+"=="+a+"=>"+t)}static log(e,t){0}static addSript(e,t){var a=document.createElement("script");a.setAttribute("type","text/javascript"),e.includes("://")?a.src=e:Application.checkIsMobi()?a.src="http://"+cache.app_config.config_mobi.app_link+e:a.src=e,a.onload=t,document.head.appendChild(a)}static logObj(e,t){console.log(e,t)}static searchPerfect(e,t){let a=Application.convertStringToEn(e)+" ",i=Application.convertStringToEn(t),s=[];for(let n=0;n<i.length;n++){let e={const_value:t[n],value:i[n],status:!1};s.push(e)}let o=[],l="";for(let n=0;n<a.length;n++){let e=a[n].charCodeAt(0);e>="a".charCodeAt(0)&&e<="z".charCodeAt(0)||e>="A".charCodeAt(0)&&e<="Z".charCodeAt(0)||e>="0".charCodeAt(0)&&e<="9".charCodeAt(0)?l+=a[n]:""!==l&&(o.push(l),l="")}for(let n=0;n<o.length;n++){let e=-1;do{if(e=i.indexOf(o[n],e+1),-1!==e)for(let t=0;t<o[n].length;t++)s[e+t].status=!0}while(-1!==e)}if(0!==s.filter(e=>!0===e.status).length)return s}static convertStringToEn(e){return void 0===e?"":(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e+="").replace(/\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g,"a")).replace(/\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g,"e")).replace(/\xec|\xed|\u1ecb|\u1ec9|\u0129/g,"i")).replace(/\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g,"o")).replace(/\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g,"u")).replace(/\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9/g,"y")).replace(/\u0111/g,"d")).replace(/\xc0|\xc1|\u1ea0|\u1ea2|\xc3|\xc2|\u1ea6|\u1ea4|\u1eac|\u1ea8|\u1eaa|\u0102|\u1eb0|\u1eae|\u1eb6|\u1eb2|\u1eb4/g,"A")).replace(/\xc8|\xc9|\u1eb8|\u1eba|\u1ebc|\xca|\u1ec0|\u1ebe|\u1ec6|\u1ec2|\u1ec4/g,"E")).replace(/\xcc|\xcd|\u1eca|\u1ec8|\u0128/g,"I")).replace(/\xd2|\xd3|\u1ecc|\u1ece|\xd5|\xd4|\u1ed2|\u1ed0|\u1ed8|\u1ed4|\u1ed6|\u01a0|\u1edc|\u1eda|\u1ee2|\u1ede|\u1ee0/g,"O")).replace(/\xd9|\xda|\u1ee4|\u1ee6|\u0168|\u01af|\u1eea|\u1ee8|\u1ef0|\u1eec|\u1eee/g,"U")).replace(/\u1ef2|\xdd|\u1ef4|\u1ef6|\u1ef8/g,"Y")).replace(/\u0110/g,"D")).toLowerCase()}static getElementWithRegex(e,t){let a;if(null!==(a=e.exec(t)))return a[1]}static replaceAll(e,t){if(t){let a=new RegExp(e,"g");return t.repalce(a)}return t}static getNodeJson(e,t){if("object"!==typeof e||!t)return;let a=t.split("."),i=e;for(const s of a){if(void 0===i||null===i)return;i=i[s]}return i}static deleteNodeJson(e,t){let a=t.split("."),i=e;const s=a.length-1;for(let o=0;o<a.length;o++)void 0===i&&(i={}),o<s?(i[a[o]]||(i[a[o]]={}),i=i[a[o]]):delete i[a[o]];return e}static setNodeJson(e,t,a){let i=t.split("."),s=e;const o=i.length-1;for(let l=0;l<i.length;l++)void 0===s&&(s={}),l<o?(s[i[l]]||(s[i[l]]={}),s=s[i[l]]):s[i[l]]=a;return e}static checkConditionComponent(e,t){if(!e)return!0;let a=Application.component_getListCode(e),i=e;for(let s of a)if(void 0!==t&&void 0!==s.key&&void 0!==s.code){let e=t[s.code],a="";a="object"===typeof e?JSON.stringify(e):e+"",void 0!==a?i=i.replace(s.key,a):Application.AppException("#ruleVisibility.component_event","component_event is undefined or wrong")}return!0===this.condition_checkDynamicNoData(i)}static getConditionWithData(e,t){if(!e)return!0;let a=Application.component_getListCode(e),i=e;for(let s of a)if(void 0!==t&&void 0!==s.key&&void 0!==s.code){let e=t[s.code],a="";a="object"===typeof e?JSON.stringify(e):e+"",void 0!==a?i=i.replace(s.key,a):Application.AppException("#ruleVisibility.component_event","component_event is undefined or wrong")}return i}static checkHasRoleForm(e){let t=_libMenus__WEBPACK_IMPORTED_MODULE_11__.a.getMenu(1);if(";ACT_MAN;CSH_CSH;DPT_CSH;ACT_CSH;CSH_ACT;DPT_ACT;ACT_ACT;CSH_DPT;ACT_DPT;DPT_DPT;".includes(";"+e.replace("FO_","")+";"))return!0;for(let i=0;i<t.length;i++){var a;const s=t[i];if((null===s||void 0===s||null===(a=s.group_menu)||void 0===a?void 0:a.group_menu_function_code)&&s.group_menu.group_menu_function_code===e)return!0}}static scheduleJob_getJob_toRun(e){if(void 0!==cache.scheduleJob.job_config[e])return cache.scheduleJob.job_config[e]}static scheduleJob_addTo_Store(e){return void 0!==e&&void 0!==e.scheduleJob&&void 0!==e.scheduleJob.id&&(void 0===cache.scheduleJob&&(cache.scheduleJob={},cache.scheduleJob.job_config={}),cache.scheduleJob.job_config[e.scheduleJob.id]=e,!0)}static convertCondition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=Application.component_getListCode(e),i=e;for(let s of a){let e=this.getNodeJson(t,s.code);null!==e&&void 0!==e||(e=""),i=i.replace(s.key,e)}return i}static setLoadingCache(e,t,a){if(!t||!a)return;t&&!cache.loading_cache.component[t]&&(cache.loading_cache.component[t]=0),a&&!cache.loading_cache.form[a]&&(cache.loading_cache.form[a]=0);let i=0;if("START"===e&&(i=1),"END"===e&&(i=-1),t){cache.loading_cache.component[t]+=i;const e=cache.loading_cache.component[t];if(1===e||!e){Application.getFormAppAuto(a).callDirFromSupport("setLoadingAction",{list_component:t,list_view:""},{isLoading:!!e})}}if(a){cache.loading_cache.form[a]+=i;const e=cache.loading_cache.form[a];if(1===e||!e){Application.getFormAppAuto(a).setLoadingAction(!!e)}}}static getLoadingCacheComponent(e){return!!cache.loading_cache.component[e]}}Application.getLangKey=()=>cache.app_config.para.language,Application.setLangKey=e=>cache.app_config.para.language=e,Application.setLangKey=e=>cache.app_config.para.language=e,Application.markdown_set=e=>{elearning_render_markdown=e},Application.setLangKey=e=>cache.app_config.para.language=e,Application.setLangKey=e=>cache.app_config.para.language=e,Application.templateAdd=(e,t)=>cache.template_config[e]={value:t},Application.getTemplate=e=>cache.template_config[e],Application.template_addToStore=(e,t)=>{cache.template_html[e]=t},Application.template_getFromStore=e=>cache.template_html[e]},function(e,t,a){"use strict";var i=a(0),s=a.n(i);class o extends i.Component{render(){return s.a.createElement("div",{hidden:void 0!==this.props.hidden&&!this.props.hidden,className:"form-group "+this.props.class},s.a.createElement("label",null,this.props.name),s.a.createElement("input",{disabled:this.props.disabled,type:void 0===this.props.typeInput?"text":this.props.typeInput,className:"form-control",value:this.props.value,maxLength:void 0===this.props.sizeInput?1e3:this.props.sizeInput,onChange:e=>{this.props.onChange(e)},placeholder:this.props.placeholder?this.props.placeholder:this.props.name,required:""}))}}t.a=o},function(e,t,a){"use strict";var i=a(0),s=a.n(i);class o extends i.Component{constructor(e){super(e);var t="code";null!=e.d_key&&(t=e.d_key);var a="title";null!=e.d_name&&(a=e.d_name);var i="T\u1ea1o m\u1edbi";null!=e.has_new_name&&(i=e.has_new_name);var s="new";null!=e.has_new_value&&(s=e.has_new_value),this.state={data:e.data,d_key:t,d_name:a,has_new_name:i,has_new_value:s}}renderOptions(){return this.state.data.map((e,t)=>s.a.createElement("option",{key:t,index:t,value:e[this.state.d_key]},e[this.state.d_name]))}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return s.a.createElement("div",{className:"form-group "+this.props.class,hidden:void 0!==this.props.hidden&&!this.props.hidden},s.a.createElement("label",null,this.props.name),s.a.createElement("div",{className:"select-box"},s.a.createElement("div",{className:"selectbox"},s.a.createElement("select",{style:{height:"32px"},disabled:this.props.disabled,className:"form-control",value:this.props.value,onChange:e=>this.props.onChange(e)},!0===this.props.hasNew&&s.a.createElement("option",{value:this.state.has_new_value},this.state.has_new_name),this.renderOptions()))))}}t.a=o},function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o}));function i(e){return window.obManagerTemplate_libManagerTemplate.managerTemplate_getComponent(e)}function s(e){return window.obManagerTemplate_libManagerTemplate.managerTemplate_getForm(e)}function o(){return null}},function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var i=a(1);var s=class{constructor(){this.bo=[];const e=new Date;this.info={d:Object(i.s)(),u:Object(i.y)(),lang:Object(i.u)(),app:Object(i.r)(),uid:Object(i.w)(),my_device:i.g.getMyDevice(),request_time:e.getTime(),protect_request:i.g.getProtect()},i.g.isDebug()&&(this.info.dgu=i.g.isDebug())}setMoreInfo(e){for(let t in e)void 0===this.info[t]&&(this.info[t]=e[t])}setBo(e,t){void 0!==t&&(this.info.key_feedback=t),this.bo=e}getForTxCode(){var e={info:this.info,bo:this.bo},t=JSON.stringify(e);return e.info.checksum=this.checkSum(this.stringToArray(t)),e}checkSum(e){for(var t=e.length,a=0,i=0;i<t;i++)a=a+((a<<1)+(a<<4)+(a<<7)+(a<<8)+(a<<24)>>>0)^255&e[i];return a>>>0}stringToArray(e){for(var t=[],a=0;a<e.length;a++){var i=e.charCodeAt(a);i<128?t.push(i):i<2048?t.push(192|i>>6,128|63&i):i<55296||i>=57344?t.push(224|i>>12,128|i>>6&63,128|63&i):(a++,i=65536+((1023&i)<<10|1023&e.charCodeAt(a)),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i))}return this.hasTyped?new Uint8Array(t):t}hasTyped(){if(!("Uint8Array"in window))return!1;try{var e=new window.Uint8Array(10);return e[0]=100,100===e[0]}catch(t){return!1}}},o=a(6);function l(e){var t=new window.JSEncrypt({default_key_size:1024});t.setPublicKey(i.g.rsa_getPublicKey());for(var a="",s=e;s.length>0;){for(var o="",l=0,n=0;s.length>n;){var r=s.charCodeAt(n);if(r<128?l++:l+=r>127&&r<2048?2:3,l>=117)break;o+=s[n],n++}s=s.substring(n,s.length),a+=t.encrypt(o)}return a}function n(e,t){return new Promise((a,n)=>{var r=new s,c="",d="",m="",u="",h="";void 0!==t&&(void 0!==t.infoA&&void 0!==t.infoA.title&&void 0!==t.infoA.form_code&&(m=t.infoA.key_form,c=t.infoA.form_code,d=t.infoA.title),void 0!==t.componentConfigDefault?void 0!==t.componentConfigDefault.name&&void 0!==t.componentConfigDefault.code&&(u=t.componentConfigDefault.code,h=t.componentConfigDefault.name):void 0!==t.debug_info&&(void 0!==t.debug_info.from_action_code&&(u=t.debug_info.from_action_code),void 0!==t.debug_info.from_action_name&&(h=t.debug_info.from_action_name)));let g="";g=void 0!==t.key_feedback?t.key_feedback:i.g.autoUui_key_feedback(),r.setBo(e,g),r.setMoreInfo({from_action_code:u,from_action_name:h,form_code:c,form_name:d});let _=r.getForTxCode();var p=new Date;let f={key_feedback:g,data:_,time:p,status:"G\u1eedi",form_code:c,form_name:d,from_action_code:u,from_action_name:h};i.g.isDebug()&&Object(i.h)(f),i.g.isAssistant()&&i.g.assistant_add(f),u&&i.g.getLoadingCacheComponent(u)||(i.g.setLoadingCache("START",u,m),fetch(r.info.u,{method:"POST",body:l(JSON.stringify(_)),headers:{Accept:"text/plain","Content-Type":"text/plain; charset=UTF-8"}}).then(e=>e.text()).then(e=>{if("{"===e.substring(0,1))e=JSON.parse(e);else{var s=e.substr(0,e.indexOf("-"));e=e.substr(e.indexOf("-")+1),e=JSON.parse(function(e,t){for(var a=i.g.getKeyX(t),s="",o=0;o<e.length;o++)s+=String.fromCharCode(e.codePointAt(o)^a);return s}(e,s))}if(void 0===e)return;var l=new Date;Object(i.e)(JSON.stringify(e).length,p.getTime(),l.getTime());let n={key_feedback:g,data:e,time:l,status:"Nh\u1eadn",form_code:c,form_name:d,from_action_code:u,from_action_name:h};i.g.setLoadingCache("END",u,m),i.g.isDebug()&&Object(i.h)(n),i.g.isAssistant()&&i.g.assistant_add(n),o.a.fo(e.fo,t),a(e)}).catch(()=>{i.g.setLoadingCache("END",u,m),n(e)}))})}function r(e,t){var a=new s,o=new FormData;return o.append("username",i.g.context_get("user_jwebui.user_id")),void 0===t&&(t=""),o.append("new_name_file",t),o.append("attachment",e),new Promise((e,t)=>{fetch(a.info.u+"/upload",{method:"POST",body:o}).then(e=>e.json()).then(t=>{e(t)}).catch(()=>{t({})})})}},function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var i=a(1),s=a(5);class o{static quickPost(e,t){Object(s.b)(e,t).then(e=>{},e=>{})}static fo(e,t){for(var a={},o=i.g.convertFoOfApp_fo_arr(e),l=0;l<o.length;l++){var n=o[l];if(void 0!==n.txcode){if(!i.g.BlackList_check("tx_fo",n.txcode))return;var r=e[l];void 0!==r.txcode&&void 0===i.g.getTxFo(n.txcode)&&(a[r.txcode]=r.txcode)}}var c="";for(var d in a)""===c?c=d:c+=";"+d;a=i.g.convertFoOfApp_fo_check(a),e=i.g.convertFoOfApp_fo_arr(e),""===c?this.runTx(e,t):Object(s.b)([{txcode:"#sys:bo-load-txFo",input:{list_tx:c}}],{}).then(s=>{if(void 0!==s.fo&&s.fo.length>0&&void 0!==s.fo[0].input){var o=s.fo[0].input;if(void 0!==o.txClient)for(var l=0;l<o.txClient.length;l++)void 0!==o.txClient[l].txcode&&void 0!==o.txClient[l].actions&&(delete a[o.txClient[l].txcode],i.g.addTxFo(o.txClient[l].txcode,o.txClient[l]))}var n="";for(var r in a)i.g.BlackList_add("tx_fo",r),n+=""===n?r:";"+r;""!==n?i.g.AppException("#libClient001",n,"system"):this.runTx(e,t)},e=>{})}static createContext(e,t,a,i){return{infoA:t,infoA_parent:a,componentConfigDefault:i,data:e}}static runActionWithContext(e,t,a,s,o){if(void 0!==a&&void 0!==o){var l=this.createContext(t,a,s,o),n=a.key_form+o.codeHidden;i.g.addTxFo(n,{input:{},actions:e,status:"A",txtype:"bo",txcode:n,txname:""}),this.runTx([{txcode:n,input:{}}],l)}}static runFoWithContext(e,t,a,i,s){if(void 0!==a&&void 0!==s){var o={infoA:a,infoA_parent:i,componentConfigDefault:s,data:t};this.fo(e,o)}}static checkFo(e){if(void 0!==e)for(var t=0;t<e.length;t++){var a=e[t];if(void 0!==a.txcode&&!i.g.checkSystemModeLock_bo_fo(a.txcode,void 0))return!1}return!0}static runTx(e,t,a){if(this.checkFo(e)){var s=0,o=!0;void 0!==a&&o&&(s=a.fo_arr_step,e=a.fo_arr,t=a.context);for(var n=s;n<e.length;n++){var r=e[n];if(void 0!==r.txcode){var c={};void 0!==r.input&&(c=r.input);var d=i.g.getTxFo(r.txcode);if(void 0!==d&&d.actions){var m=d.actions,u={},h=[],g=0;void 0!==a&&o&&(u=a.input_fo,g=a.fo_step,h=a.list_bo_new);for(var _=g;_<m.length;_++)if(void 0!==m[_].function){var p=m[_].function.split(".");if(p.length>=2){var f=void 0,v={};if(void 0!==a&&o&&(f=a.val_select,v=a.input_action),void 0===f){var b=null;try{b=new(i.g.txBasic_get()[p[0].trim()])(t,r.input,v,_,n,u,h,e)}catch(M){i.g.AppException("#libClient003",p[0].trim(),"system")}if(null===b||void 0===b)return;if(b.hasOwnProperty(p[1].trim()))if(void 0!==m[_].para){for(var y=m[_].para,D=i.g.supportReplaceFo(i.g.cloneJson(c),{}),A=0;A<y.length;A++){var C=y[A];C.length>0&&"@"===C.substring(0,1)&&(y[A]=l(C.substring(1,C.length),D))}f=b[p[1].trim()].apply(b,Array.prototype.slice.call(y,0))}else f=b[p[1].trim()]();else i.g.BlackList_check("function",m[_].function)&&(i.g.BlackList_add("function",m[_].function),i.g.AppException("#libClient002",m[_].function,"system"));v=b.getInputAction()}if(void 0!==f){if("systemStop"===f)return;f=f.toString()}else f="_default_";if(void 0!==v)for(var N in v)u[N]=v[N];if(void 0!==m[_].request){if(void 0!==f&&void 0!==m[_].request[f]&&void 0!==m[_].request[f].cmd)if("stop"===m[_].request[f].cmd)return;this.buildBoFormAction(h,m[_].request,f,v,void 0,c)}}o=!1}void 0!==d.request&&this.buildBoFormAction(h,void 0,void 0,u,d.request,c),void 0!==h&&h.length>0&&this.quickPost(h,t)}}}}}static buildBoFormAction(e,t,a,i,s,o){var l=void 0;if(void 0===s?(void 0!==a&&void 0!==t[a]&&(l=t[a]),void 0===l&&void 0!==t._default_&&(l=t._default_)):l=s,void 0!==l&&void 0!==l.bo&&l.bo.length>0)for(var n=0;n<l.bo.length;n++){var r=l.bo[n];if(void 0!==r.txcode&&""!==r.txcode.trim()){var c={};for(var d in i)c[d]=i[d];if(void 0!==r.input){var m=r.input;for(var u in m=this.loopRepaceData(m,o),r.input)c[u]=r.input[u]}e[e.length]={txcode:r.txcode,input:c}}}}static loopRepaceData(e,t){if(void 0!==e&&void 0!==t)for(var a in e)switch(Object.prototype.toString.call(e[a])){case"[object String]":var i=e[a];i.length>0&&"@"===i.substring(0,1)&&(e[a]=n(i.substring(1,i.length),t));break;case"[object Number]":case"[object Boolean]":break;case"[object Array]":if(e[a].length>0)for(var s=0;s<e[a].length;s++)e[a][s]=this.loopRepaceData(e[a][s],t);break;case"[object Object]":e[a]=this.loopRepaceData(e[a],t)}return e}}const l=(e,t)=>{if(!e.includes("."))return t[e];var a=e.split(".");if(a.length>1){for(var i=t,s=0;s<a.length;s++){if(void 0===i[a[s]])return;i=i[a[s]]}return i}},n=(e,t)=>t[e]},,function(e,t,a){"use strict";t.a=class{constructor(e,t,a,i,s,o,l,n){this.getInputAction=()=>this.input_action,this.getInput=()=>this.input,this.context=void 0===e?{}:e,this.input=void 0===t?{}:t,this.input_action=void 0===a?{}:a,this.fo_step=i,this.fo_arr_step=s,this.input_fo=o,this.list_bo_new=l,this.fo_arr=n}addPackFo(e,t){void 0!==t&&(this.input_action[e]=t)}buildPackRollBack(){return{fo_step:this.fo_step,fo_arr_step:this.fo_arr_step,context:this.context,input_fo:this.input_fo,input_action:this.input_action,list_bo_new:this.list_bo_new,fo_arr:this.fo_arr}}}},function(e,t,a){"use strict";function i(e,t){var a;let i=new Date(null===(a=window.moment(e,t))||void 0===a?void 0:a.toDate().getTime());return window.moment.utc(i).valueOf()}function s(e,t){var a;return null!==e&&void 0!==e?null===(a=window.moment(e))||void 0===a?void 0:a.format(t):""}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".";if(void 0===e||null===e||""===e)return;let s=e=e.toString(),o="",l=e.lastIndexOf(i);-1!==l&&(s=e.substring(0,l),s=s.replace(/^-0+/,""),s=s.replace(/^0+/,""),o=e.substring(l,e.length),""===s&&(s="0")),s=s.replace(/\D/g,""),o=o.replace(/\D/g,"");let n=`${s}.${Number("0."+o).toFixed(t).split(".")[1]||""}`;s=n.split(".")[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+a),e.includes("-")&&(s="-"+s),o=n.split(".")[1];let r=`${s}${i}${o}`;return""===o&&(r=s),""!==r?r:void 0}function l(e,t){if(!e||!t)return"";let a="",i=0;for(let s=0;s<t.length;s++)"-"===t[s]?a+="-":i<e.length?a+=e[i++]:a+=t[s];return a}a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return l}))},function(e,t,a){"use strict";a.d(t,"a",(function(){return Ue})),a.d(t,"b",(function(){return Pe}));var i=a(0),s=a.n(i),o=a(12),l=a.n(o),n=a(1),r=a(7),c=a(26),d=a(4);class m extends i.Component{constructor(e){super(e);var t={};"cView"===e.inputType&&(t.code=e.code),this.AUTO_ID=n.g.autoID(),this.state={list_group:[],data:n.g.cloneJson(e.list_input),infoView:t}}conVertModeForm(e,t){return t}getListComponent(){let e=this.state.data,t=[],a=0;for(let n of e){var i;n=this.conVertModeForm(this.props.infoA.mode_form,n);const e=s.a.createElement(c.a,{btn_of_grid:this.props.btn_of_grid,key:n.default.codeHidden,index:a,default:n.default,visibility:n.visibility,config:n.config,role:n.role,property:n.property,validate:n.validate,lang:n.lang,configAVD:n.configAVD,inputType:n.inputtype,value:n.value,infoA:this.props.infoA,infoA_parent:this.props.infoA_parent,infoView:this.state.infoView});let r=null===(i=n.default)||void 0===i?void 0:i.ofgroup,d=t[t.length-1];if(!n.config.onTable)if(r&&"false"!==r&&r===(null===d||void 0===d?void 0:d.groupid))d.list_cpn.push(e);else{var o,l;let a={list_cpn:[],groupid:null===(o=n.default)||void 0===o?void 0:o.ofgroup,class:null===(l=n.default)||void 0===l?void 0:l.class_ofgroup};a.list_cpn.push(e),t.push(a)}a++}return t}componentDidMount(){this.setState({list_group:this.getListComponent()})}render(){const e=Object(d.a)("uView"),t=Object(d.a)("uOfGroup");return s.a.createElement(e,{class:this.props.class||"col-12"},this.state.list_group.map((e,a)=>0===e.list_cpn.length?null:1===e.list_cpn.length?e.list_cpn[0]:s.a.createElement(t,{class:e.list_cpn[0].props.default.class_ofgroup,key:this.AUTO_ID+a},e.list_cpn.map(e=>e))))}}var u={cView:m};class h extends i.Component{render(){const e=u[this.props.inputType];return s.a.createElement(e,Object.assign({},this.props,{list_view:this.props.list_view}))}}var g=h;class _ extends i.Component{constructor(e){super(e),this.changeKeyLanguage=()=>{this.setState({key_lang:n.g.getLangKey()})},this.stateHidden={form_data_full:{}},this.state={ID:n.g.autoID(),key_lang:n.g.getLangKey(),tab_selected:this.props.list_view[0].name,DOM_views_tab:[],DOM_view:[]};for(let t=0;t<this.props.list_view.length;t++){const e=this.props.list_view[t];if("true"===e.isTab){let a={};a.title=e.name,a.id=n.g.autoID(),a.DOM_elm=s.a.createElement(g,{btn_of_grid:this.props.btn_of_grid,key:t,index:t,name:t,code:e.code,isTab:e.isTab,class:e.class,inputType:e.inputtype,visibility:e.visibility,infoA:this.props.infoA,infoA_parent:this.props.infoA_parent,list_input:e.list_input}),this.state.DOM_views_tab.push(a)}else this.state.DOM_view.push(s.a.createElement(g,{btn_of_grid:this.props.btn_of_grid,key:t,index:t,name:t,code:e.code,isTab:e.isTab,class:e.class,inputType:e.inputtype,visibility:e.visibility,infoA:this.props.infoA,infoA_parent:this.props.infoA_parent,list_input:e.list_input}))}}UNSAFE_componentWillMount(){this.stateHidden.form_data_full={data:this.getListTabView()}}componentDidMount(){setTimeout(()=>{let e=n.g.getFormAppAuto(this.props.infoA.key_form);void 0!==e&&e.hasOwnProperty("addLayout")&&e.addLayout(this)},n.g.getTimeAddComponent())}getListTabView(){let e=[];for(const t of this.state.DOM_views_tab)e.push({tabInfo:{title:t.title,id:t.id},DOM_elm:t.DOM_elm});return e}render(){const e=Object(d.a)("uFormTab"),t=Object(d.a)("uLayout");return s.a.createElement(s.a.Fragment,null,this.state.DOM_view.length>0&&s.a.createElement(t,null,this.state.DOM_view),s.a.createElement(e,{dataFull:Object(r.a)(Object(r.a)({},this.stateHidden.form_data_full),{},{abs_select:this.onSelectTab})}))}}var p={cLayout:_};class f extends i.Component{render(){const e=p[this.props.inputType];return s.a.createElement(e,Object.assign({},this.props,{list_view:this.props.list_view}))}}var v=f;const b=e=>{var t=e.childNodes,a={inputType:"cHtml"};a.tagHtml=e.tagName,a.tagAtt=A(e),void 0!==a.tagAtt&&void 0!==a.tagAtt.style&&(a.tagAtt.style=y(a.tagAtt.style)),1===e.childNodes.length&&(a.content=e.textContent),e.hasOwnProperty("getAttribute")&&(null!=e.getAttribute("class")?(a.class=e.getAttribute("class"),a.code=e.getAttribute("code")):a.class=""),a.loadScreen=[];for(var i=0;i<t.length;i++)if(t[i]&&void 0!==t[i].tagName)if(t[i].childNodes&&t[i].childNodes.length>0)a.loadScreen[a.loadScreen.length]=b(t[i]);else{var s={};s.inputType=t[i].tagName,s.tagAtt=A(t[i]),void 0!==s.tagAtt&&void 0!==s.tagAtt.style&&(s.tagAtt.style=y(s.tagAtt.style)),a.loadScreen[a.loadScreen.length]=s}return a},y=e=>{var t={};if(void 0!==e){for(var a=e.split(";"),i=0;i<a.length;i++)if(""!==a[i]){var s=a[i].split(":");s.length>0&&(t[D(s[0].trim())]=s[1].trim())}return t}return t},D=e=>{var t=e;if(""!==e&&e.includes("-")){var a=e.split("-");a.length>0&&(t=a[0]+a[1].charAt(0).toUpperCase()+a[1].slice(1))}return t},A=e=>{var t={},a=e.attributes;if(void 0!==a)for(var i=a.length-1;i>=0;i--)t[a[i].name]=a[i].value;return t},C=(e,t,a)=>{if(void 0!==e&&e.length>0)for(var i=0;i<e.length;i++){if(e[i].tagAtt&&void 0!==e[i].tagAtt.code){var s=N(e[i].tagAtt.code,t);if(void 0!==s)for(var o in s)e[i][o]=s[o];e[i].inputType.includes("TABLE")&&(e[i].btn_of_grid=a)}void 0!==e[i].loadScreen&&e[i].loadScreen.length>0&&(e[i].loadScreen=C(e[i].loadScreen,t,a))}return e},N=(e,t)=>{if(void 0!==e)for(var a=0;a<t.length;a++){var i=t[a].list_view;if(void 0!==i)for(var s=0;s<i.length;s++)for(var o=i[s].list_input,l=0;l<o.length;l++)if(void 0!==o[l].default.code&&o[l].default.code===e.trim())return o[l]}};var M=a(43);class k{static async callRule(e,t,a,i,s,o){var l=[];if(void 0!==e&&e.length>0){for(var r={data:a,event:o,infoA:i,infoA_parent:s,configComponent:t},c=0;c<e.length;c++)if(void 0!==e[c].code&&void 0!==e[c].config){const t=new M.a[e[c].code];t.hasOwnProperty("checkUse")&&t.hasOwnProperty("setConfig")&&(t.setConfig(e[c]),t.checkUse(r)&&(l[l.length]=t))}if(l.length>0)for(var d=0;d<l.length;d++)await l[d].start(r);return n.g.isDebug?l.map(e=>e.config):[]}}}var E=a(6);class x extends i.Component{constructor(e){super(e),this.state={time:Date.now()-this.props.time}}componentDidMount(){this.save_interval=setInterval(()=>{var e=this.state.time+6e4;this.setState({time:e})},6e4)}componentWillUnmount(){clearInterval(this.save_interval)}render(){let e=this.state.time,t=new Date(Date.now()-e);return s.a.createElement("span",{className:this.props.class,style:{whiteSpace:"nowrap"}},n.g.timeSince(t))}}var I=x,T=a(5);const w=["All","setCMD","set","get","setAdvanced","getAdvanced","getDataOOP"],O=(e,t)=>{switch(t){case"build_api":!function(e,t){const a={script:e,tutorial:[{value:"Giao di\u1ec7n t\u1ea1o api t\u1ef1 \u0111\u1ed9ng"}]};t.ref_debug.current.handleOpen(e,[{code:"url",value:"/api/exp/exp"},{code:"body",value:"auto"},{code:"type",value:"create",data:["create","search","getinfo","delete"],type:"array"}],a,(e,a,i,s)=>{const{url:o,body:l}=s;let n=o.trim();n=n.trim();let r=t.props.form_code+n.replace(/\//g,"_");var c=l;let d={};d="auto"!==c?JSON.parse(c):t.callDirFromSupport("getAdvanced",{list_component:"*",list_view:"",inform:"true",checkError:"false"},{}),delete d.errorjwebui_code;const m={learn_api_name:r,learn_api_link:"$API_SERVER$:$API_PORT_DATA$"+n,learn_api_data:t.props.form_code,learn_api_node_data:"",learn_api_app:"BO",learn_api_method:"POST",learn_api_header:"Content-Type:application/json\nAuthorization:MapS.getToken(Bearer )",learn_api_mapping:JSON.stringify(j(d,t.props.form_code)),learn_api_id:r,AFGHkeyIndexWJ:r,AFGHkeyTime:1603872320968,AFGHkeyWorkFlow:"",AFGHTimeWJ:1603872320968,app_code:"o9"};F(e,{BUTTON:{txFO:`[{"txcode":"#sys:fo-create-dataAPI","input":{"list_component":"*","list_view":"","table_code":"${t.props.form_code}","learn_api":"${r}"}}]`},API:m},!0)})}(t,e);break;case"hidden=false":!function(e){e.callDirFromSupport("setCMD",{list_component:"*;"+JSON.stringify(S(e)).replace(/,/g,";"),list_view:"",inform:"true",checkError:"false"},{visible:!0})}(e);break;case"auto_input":!function(e){let t=e.callDirFromSupport("getAdvanced",{list_component:"*",list_view:"",inform:"true",checkError:"false"},{}),a={};for(const i in t)"string"===typeof t[i]&&(a[i]=t[i]||"1"),"number"===typeof t[i]&&(a[i]=t[i]||1);for(const i in a)e.callDirFromSupport("setAdvanced",{list_component:i,list_view:"",inform:"true",checkError:"false"},a[i])}(e);break;case"debug":!function(e,t){const a=[{code:"cpn_code",value:"- Select one -",data:S(t),type:"array"},{code:"func_call",value:"ALL",data:w,type:"array"},{code:"condition",value:""}],i={script:e,tutorial:[{value:"Giao di\u1ec7n debug c\xe1c h\xe0m t\xe1c \u0111\u1ed9ng \u0111\u1ebfn component \u0111\u01b0\u1ee3c ch\u1ecdn (code = cpn_code)"}]};t.ref_debug.current.handleOpen(e,a,i,(e,a,i,s)=>{var o,l;const{cpn_code:r,func_call:c,condition:d}=s,m=n.g.cloneJson(null===(o=t.debug_form.component[r])||void 0===o?void 0:o.callDirFromSupport)||[],u=n.g.cloneJson(null===(l=t.debug_form.component[r])||void 0===l?void 0:l.runRuleFunction)||[];F(e,{func_call:m.filter(e=>(e.funciotn_name===c||"ALL"===c)&&(n.g.checkCondition(e,d)||!d)),rule_call:u},!0)})}(t,e);break;case"condition":!function(e,t){var a=prompt("Nh\u1eadp c\xe2u \u0111i\u1ec1u ki\u1ec7n: ","");let i=function(e,t){let a=t,i={};n.g.component_getListCode(t).length>0&&(i=e.callDirFromSupport("getAdvanced",{list_component:"*",list_view:"",inform:"true",checkError:"false"},{}));return t=n.g.convertCondition(t,i),{old_condition:a,condition:t,data_component:i}}(t,a);F(e,i,!0)}(t,e);break;case"build_getinfo":!function(e,t){const a=[{code:"api_getinfo",value:"/api/exp"},{code:"body_request",value:"{    }"},{code:"body_response",value:"{ }"},{code:"input_key",value:""},{code:"label_key",value:""}],i={script:e,tutorial:[{value:"Giao di\u1ec7n t\u1ea1o rule GetInfo t\u1ef1 \u0111\u1ed9ng"}]};t.ref_debug.current.handleOpen(e,a,i,(e,a,i,s)=>{let{api_getinfo:o,body_request:l,body_response:r,label_key:c,input_key:d}=s;l=JSON.parse(l),r=JSON.parse(r);let m=Object.keys(l).toString().replace(/,/,"_"),u=L(m.split("_")[0],t).config.structable_read.split(".")[0];const h=t.props.form_code;let g=j(l,u);const _=`api_rulefunc_${h}_get_info_${m}`,p={learn_api_name:_,learn_api_link:"$API_SERVER$:$API_PORT_DATA$"+o,learn_api_data:_,learn_api_node_data:"",learn_api_app:"BO",learn_api_method:"POST",learn_api_header:"Content-Type:application/json\nAuthorization:MapS.getToken(Bearer )",learn_api_mapping:JSON.stringify(g),learn_api_id:_,AFGHkeyIndexWJ:_,AFGHkeyTime:(new Date).getTime(),AFGHkeyWorkFlow:"",AFGHTimeWJ:(new Date).getTime(),app_code:"o9"};let f={};for(const n in r){let e=L(n,t);e?f[e.default.code]=`${_}.${n}`:f[n]=`${_}.${n}`}console.log("body_cpn_result",f);const v={code:"getInfo",config:{component_event:"enter_tab",component_action:L(d,t).default.code,component_result:JSON.stringify(f),isSetCode:"true",data_type:"api",api_id:_,condition:""},isStart:!1,inUse:!0,order:1};let b={info:n.g.cloneJson(t.props.infoA),list_layout:n.g.cloneJson(t.props.conf),react_txt:""};b.info.ruleStrong.push(v),b.list_layout.forEach(e=>{e.list_view.forEach(e=>{let t=e.list_input;t.forEach((e,a)=>{var i,s,o;(null===(i=e.config)||void 0===i||null===(s=i.structable_read)||void 0===s||null===(o=s.split("."))||void 0===o?void 0:o[1])===d&&(e.default.ofgroup=e.default.code,e.default.class="col-sm-6 col-12",e.default.class_ofgroup="col-xl-4 col-lg-4 col-md-5 col-sm-5 offset-xl-2-right offset-lg-2-right offset-md-1-right offset-sm-1-right",t=t.splice(a+1,0,{config:{action:"",structable:`${u}.${c}`,structable_read:`${u}.${c}`,data_default:""},role:{},property:{},validate:{},lang:{},configAVD:{},inputtype:"jLabel",default:{name:c,code:c,codeHidden:n.g.autoID(),class:"col-6",condition:"",role:"",ofgroup:e.default.code,class_ofgroup:""}}))})})});const y={form_code:h,api_code:_,api_config:p,form_config:b,script:e};console.log("input",y);var D=[{txcode:"#sys:bo-jwebui-tools",input:y}];Object(T.b)(D,{}).then(e=>{console.log(e)})})}(t,e)}};function S(e){return Object.keys(e.debug_form.component)}function F(e,t,a){console.log("==================================================================="),console.log("SCRIPT  => ",e.toUpperCase()),console.log("CONTENT => ",t),console.log("-------------------------------------------------------------------"),a&&n.g.copyToClipboard(JSON.stringify(t))}function j(e,t){let a={};for(const i in e)if(e.hasOwnProperty(i)){const s=e[i];"number"===typeof s&&(a[i.toLocaleLowerCase()]=`MapS.dataN(${t}.${i.toLocaleLowerCase()})`),"string"===typeof s&&(/\d\d\/\d\d\/\d\d\d\d/.test(s)?a[i.toLocaleLowerCase()]=`MapS.dateDDMMYYYY(${t}.${i.toLocaleLowerCase()})`:a[i.toLocaleLowerCase()]=`MapS.dataS(${t}.${i.toLocaleLowerCase()})`),"object"===typeof s&&!1===Array.isArray(s)&&(a[i.toLocaleLowerCase()]=j(s,t)),"object"===typeof s&&!0===Array.isArray(s)&&(a[i.toLocaleLowerCase()]=`MapS.arrayJson(${t}.${i.toLocaleLowerCase()}|${JSON.stringify(j(s[0],i))})`)}return a}function L(e,t){let a;return t.props.conf.forEach(t=>{t.list_view.forEach(t=>{t.list_input.forEach((t,i)=>{var s,o,l;console.log("cpn",t),(null===(s=t.config)||void 0===s||null===(o=s.structable_read)||void 0===o||null===(l=o.split("."))||void 0===l?void 0:l[1])===e&&(a=t)})})}),a}class z extends i.Component{constructor(e){super(e),this.handleOpen=(e,t,a,i)=>{let s={script:e,config:t,dataItem:a,funcCallBack:i,dataTool:{}};for(const o of t)s.dataTool[o.code]=o.value||"";this.setState({devTool:s,isOpen:!0})},this.handleClose=()=>{this.setState({isOpen:!1},()=>{const{script:e,config:t,dataItem:a,dataTool:i,funcCallBack:s}=this.state.devTool;s&&s(e,t,a,i)})},this.handleChange=(e,t)=>{let a=this.state.devTool,i=this.state.devTool.config;for(const s of i)s.code===e&&(s.value=t,a.dataTool[e]=t);this.setState({devTool:a})},this.buildDataFullInput=()=>{},this.buildDataFullSelect=()=>{},this.builDataFullCheckbox=()=>{},this.getDataFullModal=()=>({config:{default:{title:"",size:"M"},cmd:{visibility:this.state.isOpen}},abs_Close:this.handleClose}),this.getBtnDatafull=(e,t,a,i)=>({config:{default:{title:e,type:t,class:"",icon:a},cmd:{disable:!1,isLoading:!1}}}),this.builDataFull=(e,t)=>{var a;const i=e.code||"",s=e.value||"",o=e.icon||"",l=e.type||"string",r=e.data||[],c=(null===e||void 0===e||null===(a=e.data_filter)||void 0===a?void 0:a.length)?e.data_filter:r;switch(l){case"string":return{abs_Change:e=>{this.handleChange(i,e.target.value)},config:{default:{placeholder:i,title:i,type:"text",class:"col-6",required:!1,icon:o},cmd:{disable:!1,visible:!0,error:{message:"",type:""},isFocus:!1,isLoading:!1},mode:{textAlign:""}},mode:{isSearch:!1,readOnly:!1},valueTitleHover:i,value:s};case"array":return{abs_Change:e=>{this.handleChange(i,e)},abs_search:e=>{const t=e.target.value;let a=this.state.devTool;for(const s of a.config)s.code===i&&(s.search_value=t,s.data_filter=r.filter(e=>e.includes(t)||!t));this.setState({devTool:a})},config:{default:{search:{placeholder:n.g.getLang("jselect_search")},data_status:n.g.getLang("jselect_no_result"),title:i,type:"",class:"col-6",required:!1},cmd:{disable:!1,visible:!0,error:{message:"",type:""}},mode:{moreColumn:!1},column:[]},data:null===c||void 0===c?void 0:c.map(e=>({title:e,value:e,selected:e===s})),input_value:s,search_value:e.search_value||""}}},this.state={devTool:{script:"",config:[],dataItem:{},dataTool:{},funcCallBack:null},isOpen:!1}}render(){const e=this.state.devTool.config,t={string:Object(d.a)("uInput"),array:Object(d.a)("uSelectItem")};let a=Object(d.a)("uModal");const i=Object(d.a)("uForm"),o=Object(d.a)("uLayout"),l=Object(d.a)("uView"),n=Object(d.a)("uButton"),c=[{name:"Accept",color:"primary",icon:"check",key:"",onClick:()=>{const{script:e,config:t,dataItem:a,dataTool:i,funcCallBack:s}=this.state.devTool;s&&s(e,t,a,i)}},{name:"Clear",color:"danger",icon:"delete",onClick:()=>{let e=this.state.devTool;for(const t of e.config)e.dataTool[t.code]="",t.value="";this.setState({devTool:e})}}],m=this.state.devTool.dataItem.tutorial||[],u=this.state.devTool.dataItem.script||"";return s.a.createElement(a,{dataFull:this.getDataFullModal()},s.a.createElement(i,{dataFull:{config:{default:{title:"Developer Tool: "+u}},cmd:{visibility:!0}}},m.map(e=>s.a.createElement("div",{style:{marginTop:"20px",color:"darkgreen"}},s.a.createElement("i",null,e.value))),s.a.createElement(o,null,s.a.createElement(l,{class:"col-12"},e.map(e=>{const a=e.type||"string",i=t[a];return s.a.createElement(i,{dataFull:this.builDataFull(e,this)})}))),s.a.createElement(o,null,s.a.createElement(l,{class:"col-12"},c.map(e=>s.a.createElement(n,{dataFull:Object(r.a)(Object(r.a)({},this.getBtnDatafull(e.name,e.color,e.icon,e.key)),{},{abs_Click:e.onClick})}))))),s.a.createElement("div",{className:"modal-body",ref:"content_modal"}))}}var R=z;class U extends i.Component{constructor(e){super(e),this.addDebug=(e,t)=>{e},this.addLayout=e=>{void 0!==e&&this.list_layout.push(e)},this.addComponent=e=>{if(n.g.isDebug())for(const a in this.list_component_debug){let t=this.list_component_debug[a];e.props.default.codeHidden===t.default.codeHidden&&delete this.list_component_debug[a]}if(void 0!==e&&(this.list_component.push(e),this.list_component_max===this.list_component.length&&this.form_blockCheckMaxComponent)){if(this.form_blockCheckMaxComponent=!1,this.list_component.length>0)for(var t=0;t<this.list_component.length;t++)this.list_component[t].hasOwnProperty("checkIsLoading")&&this.list_component[t].hasOwnProperty("getCodeHidden")&&!1===this.list_component[t].checkIsLoading()&&this.list_isLoading++;0===this.list_isLoading&&(this.loading_final=!0),this.formStart()}},this.changeKeyLanguage=()=>{if(this.list_layout.length>0)for(let e=0;e<this.list_layout.length;e++)this.list_layout[e].hasOwnProperty("changeKeyLanguage")&&this.list_layout[e].changeKeyLanguage();if(this.list_component.length>0)for(let e=0;e<this.list_component.length;e++)this.list_component[e].hasOwnProperty("changeKeyLanguage")&&this.list_component[e].changeKeyLanguage();void 0!==this.refs.timeline_ref&&this.refs.timeline_ref.changeKeyLanguage(),"none"!==this.state.hasError&&this.buildValidateForm()},this.forDebug=e=>{if(this.list_component.length>0)for(var t=0;t<this.list_component.length;t++)this.list_component[t].hasOwnProperty("forDebug")&&this.list_component[t].forDebug(e);this.setState({isDebug:e})},this.rule_runIsStart=async()=>{const e=["setFocus"];for(var t=[],a=0;a<this.state.ruleStrong.length;a++){const i=this.state.ruleStrong[a];void 0!==i.isStart&&!1===e.includes(i.code)&&(t[t.length]=this.state.ruleStrong[a])}if(t.length>0)return k.callRule(t,{},{},this.state.infoA,this.state.infoA_parent,"isStart")},this.ruleDidStart=async()=>{const e=["setFocus"];for(var t=[],a=0;a<this.state.ruleStrong.length;a++){const i=this.state.ruleStrong[a];(void 0!==i.isStart&&!0===e.includes(i.code)||!0===i.isDidStart)&&(t[t.length]=this.state.ruleStrong[a])}if(t.length>0)return k.callRule(t,{},{},this.state.infoA,this.state.infoA_parent,"isStart")},this.setFormValidateFromComponent=(e,t)=>{void 0!==e&&!0===e&&!1===this.formValidate&&(n.g.isDebug(),this.formValidate=e)},this.setFormValidateFromFunctionClient=e=>{void 0!==e&&(!0!==e&&!1!==e||(this.formValidate=e))},this.getFormValidate=()=>(this.buildValidateForm(),this.formValidate),this.getValidateForm=()=>{for(var e=[],t=0;t<this.list_component.length;t++)if(this.list_component[t].hasOwnProperty("getInfoErrror")){var a=this.list_component[t].getInfoErrror();void 0!==a&&""!==a&&(e[e.length]=Object.assign({type:"form"},a))}return e},this.runRuleFunctionQueue=async()=>{for(;0!==this.queue_rules.length;){const{configComponent:e,dataComponent:t,infoA_Parent:a,event_code:i}=this.queue_rules.shift();await k.callRule(this.state.ruleStrong,e,t,this.state.infoA,a,i)}},this.runRuleFunction=async(e,t,a,i)=>{if(!0===this.state.is_loading_form||0!==this.queue_rules.length)this.queue_rules.push({configComponent:e,dataComponent:t,infoA_Parent:a,event_code:i});else if(this.state.ruleStrong.length>0){const l=await k.callRule(this.state.ruleStrong,e,t,this.state.infoA,a,i);var s,o;if(n.g.isDebug())(null===(s=this.debug_form.component)||void 0===s||null===(o=s[e.code])||void 0===o?void 0:o.runRuleFunction)||(this.debug_form.component=n.g.setNodeJson(this.debug_form.component,e.code+".runRuleFunction",[])),this.debug_form.component[e.code].runRuleFunction.push({event:i,start_rules:l})}},this.getInfoComponentParent=()=>this.props.componentConfigDefault,this.getInfoA=()=>this.state.infoA,this.putData=(e,t,a)=>{null==this.obDataForm[e]&&(this.obDataForm[e]={}),this.obDataForm[e][t]=a},this.putDataJoin=e=>{for(var t in e)if(void 0!==this.obDataForm[t])for(var a in e[t])this.obDataForm[t][a]=e[t][a];else this.obDataForm[t]=e[t]},this.getDataForm=()=>(this.callDirFromSupport("get",{list_component:"*",list_view:"*",inform:"true"},{}),this.getData("")),this.getDataAll=e=>(this.callDirFromSupport("get",{list_component:"*",list_view:"*",inform:"true",checkError:"true"},{}),this.getData("")),this.getData=e=>void 0!==e&&""!==e.trim()&&null!=this.obDataForm[e]?this.obDataForm[e]:this.obDataForm,this.putDataAll=e=>{n.g.isDebug()&&console.log("putDataAll===>",n.g.cloneJson(e)),this.obDataForm=e},this.putDataAll_andSet=(e,t)=>{n.g.isDebug()&&console.log("putDataAll_andSet===>",n.g.cloneJson(e)),void 0!==t&&!0===t&&this.clearForm();for(const a in e)if(e.hasOwnProperty(a)){const t=e[a];if("object"===typeof t&&null!==t&&!1===Array.isArray(t)){for(const e in t)if(t.hasOwnProperty(e)){const i=t[e];void 0===this.obDataForm[a]&&(this.obDataForm[a]={}),this.obDataForm[a][e]=i}}else Array.isArray(t)&&(this.obDataForm[a]=t)}this.callDirFromSupport("set",{},this.obDataForm)},this.clearForm=()=>{this.obDataForm={},this.setState({follow:{hasFollow:!1,removeFollow:!1}}),this.showErrorFromServer(),this.callDirFromSupport("reload",{},this.obDataForm)},this.reload=e=>{void 0===e?this.callDirFromSupport("reload",{},this.obDataForm):this.callDirFromSupport("reload",{},e)},this.componentIsLoaded=e=>{this.list_statusIsLoadingFromComponent++,this.list_statusIsLoadingFromComponent===this.list_isLoading&&(this.loading_final=!0,this.formStart())},this.clearError=()=>{this.callDirFromSupport("clearError","",{}),this.showError(!1)},this.callDirFromSupport=(e,t,a)=>{var i={};if(void 0===e)return i;let s=t.list_component||"";s=s.replace(/\w+\([^\\)]+\)/gm,";");if(this.list_component.length>0)for(var o=0;o<this.list_component.length;o++)if(this.list_component[o].hasOwnProperty("getInfoCheckRun")){var l=this.list_component[o].getInfoCheckRun(),r=!1;if(",setCallFormBack,clearError,checkValidate,reload,set,getElearning,".includes(","+e+",")?r=!0:(void 0!==t.list_view&&""!==t.list_view&&(";"+t.list_view+";").includes(";"+l.view.code+";")&&(r=!0),r||void 0===s||""!==s&&((";"+s+";").includes(";*;")||(";"+s+";").includes(";"+l.default.code+";"))&&(r=!0),r||void 0===t.codeHidden||""!==t.codeHidden&&(";"+t.codeHidden+";").includes(";"+l.default.codeHidden+";")&&(r=!0)),!0===l.block&&"setCMD"!==e&&(r=!1),!r)continue;if(this.list_component[o].hasOwnProperty(e)&&(i[l.default.code]=this.list_component[o][e](t,a),n.g.isDebug())){var c,d,m=new Error;(null===(c=this.debug_form.component)||void 0===c||null===(d=c[l.default.code])||void 0===d?void 0:d.callDirFromSupport)||(this.debug_form.component=n.g.setNodeJson(this.debug_form.component,l.default.code+".callDirFromSupport",[])),this.debug_form.component[l.default.code].callDirFromSupport.push({funciotn_name:e,function_para:t,data:a,srack:m.stack.toString()})}}else n.g.log("not getInfoCheckRun");return i},this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})},this.checkMasterData=()=>{var e=n.g.ms_getMasterData(this.key_form);void 0!==e&&E.a.quickPost([{txcode:"#sys:bo-masterdata-loadFollow",input:{master_data_start:e}}],E.a.createContext(this.obDataForm,this.state.infoA,this.state.infoA_parent,{}))},this.readMasterDataInfo=e=>{var t=this.state.follow;t.hasFollow=!0,t.removeFollow=!1,void 0!==e.table&&void 0!==e.data_key_value&&void 0!==this.obDataForm&&void 0!==e.pk&&void 0!==this.obDataForm[e.table]&&void 0!==this.obDataForm[e.table][e.pk]&&this.obDataForm[e.table][e.pk]===e.data_key_value&&(t.hasFollow=!1,t.removeFollow=!0),this.setState({follow:t})},this.showError=(e,t)=>{e?this.setState({hasError:"block"},()=>{window.scroll(0,this.refs.hasError)}):(this.setState({hasError:"none",list_error:[]}),this.list_error_start=[])},this.toggleLoading=e=>{setTimeout(()=>{window.scrollTo(0,0),e?this.setState({status_loading:"none",status_form:"block"}):this.setState({status_loading:"block",status_form:"none"})},2e3)},this.showErrorFromServer=e=>{let t=this.state.list_error;if(void 0!==e)if(e.length>0){t=[];for(var a=0;a<e.length;a++){var i=e[a];let s=n.g.getLang(i.typeError);void 0!==s&&""!==s||(s="warning");let o=!1;"form"===i.type?void 0!==i.code&&""!==i.code?t.push({key:i.key,typeError:s,info:i.info,code:i.code,error_end:o,icon:this.showErrorFromServer_getIcon(i.key)}):t.push({key:i.key,info:i.info,typeError:s,code:"",error_end:o,icon:this.showErrorFromServer_getIcon(i.key)}):"system"===i.type&&n.g.isDebug()&&(void 0!==i.code&&""!==i.code?t.push({key:i.key,info:i.info,typeError:s,code:i.code,error_end:o,icon:this.showErrorFromServer_getIcon(i.key)}):t.push({key:i.key,info:i.info,typeError:s,code:"",error_end:o,icon:this.showErrorFromServer_getIcon(i.key)}))}void 0!==t?void 0!==t[t.length-1]&&(t[t.length-1].error_end=!0):t=[]}else t=[];else t=[];t.length>0?this.setState({hasError:"block",list_error:t},()=>{document.getElementById("content").scrollTo(0,0)}):this.setState({hasError:"none",list_error:t}),this.list_error_start=e},this.getContext_FormOpenModal=()=>({list_error:this.list_error_start}),this.setStatusToForm_AndRunRule=e=>{for(var t=[],a=0;a<this.state.ruleStrong.length;a++)if(void 0!==this.state.ruleStrong[a].isStatus&&this.state.ruleStrong[a].isStatus===e){let e=n.g.cloneJson(this.state.ruleStrong[a]);e.isStart=!0,t.push(e)}t.length>0&&k.callRule(t,{},{},this.state.infoA,this.state.infoA_parent,"isStart")},this.getNotification=()=>({dataFull:{title:n.g.getLang("error_occurr"),data:this.state.list_error.map((e,t)=>({title:e.key+": "+(n.g.getLang(e.code)||n.g.getLang(e.info)),dataItem:{},time:s.a.createElement(I,{class:"pull-right display-ib",time:Date.now()})}))}}),this.getTitleForm=()=>{var e;return(null===(e=this.props.infoA_parent)||void 0===e?void 0:e.key_form)?this.props.conf[0].name:this.props.infoA.des},this.setLoadingAction=e=>{this.setState({loading_action:e})},this.renderFormContent=()=>{const e=Object(d.a)("uFormLoading"),t=Object(d.a)("uFormNotify");let a="none";return!1===this.state.is_loading_form&&(a=""),s.a.createElement(s.a.Fragment,null,("none"===a||!0===this.state.loading_action)&&s.a.createElement(e,null),this.state.list_error.length>0&&s.a.createElement(t,this.getNotification()),this.state.data.map((e,t)=>s.a.createElement("div",{key:t,style:{display:a}},s.a.createElement(v,{index:t,btn_of_grid:this.state.btn_of_grid,name:e.name,des:e.des,lang:e.lang,lang_des:e.lang_des,inputType:e.inputtype,type:e.type,infoA:this.state.infoA,infoA_parent:this.state.infoA_parent,value:e.value,visibility:e.visibility,list_view:e.list_view}))))},this.renderDebug=()=>{const e=Object(d.a)("uButton"),t=Object(d.a)("uForm"),a=Object(d.a)("uLayout"),i=Object(d.a)("uView");if(!n.g.isDebug())return null;const o=[{name:"Command line",color:"primary",icon:"code",key:"",onClick:()=>{var e=prompt("Enter code:","");e&&O(this,e)}},{name:"Debug component",color:"",icon:"adb",key:"",onClick:()=>{O(this,"debug")}},{name:"Clear Cache",color:"",icon:"delete",onClick:()=>{this.debug_form.component={},this.debug_form.rule={}}}];return s.a.createElement(t,{dataFull:{config:{default:{title:"Debug"}},cmd:{visibility:this.state.visibility}}},s.a.createElement(R,{ref:this.ref_debug}),s.a.createElement(a,null,this.props.form_code,s.a.createElement(i,{class:"col-12"},o.map(t=>{return s.a.createElement(e,{key:t.name,dataFull:Object(r.a)(Object(r.a)({},(a=t.name,i=t.color,o=t.icon,t.key,{config:{default:{title:a,type:i,class:"",icon:o},cmd:{disable:!1,isLoading:!1}}})),{},{abs_Click:t.onClick})});var a,i,o}))))},this.key_form=Object(n.c)(),null!=this.props.infoA.openOne&&"true"===this.props.infoA.openOne&&void 0!==this.props.form_code&&(this.key_form=this.props.form_code);var t=[];if(void 0!==this.props.infoA.ruleStrong)for(var a=0;a<this.props.infoA.ruleStrong.length;a++){var i=this.props.infoA.ruleStrong[a];void 0!==i.inUse&&i.inUse&&(t[t.length]=i)}t=t.sort((e,t)=>e.order>t.order?1:-1),this.obDataForm={},void 0!==this.props.data_select&&(this.obDataForm=this.props.data_select),Object(n.d)(this.props.form_code);var o=n.g.cloneJson(e.infoA);o.form_code=this.props.form_code,o.key_form=this.key_form,void 0===this.props.ofModal?o.ofModal=!1:o.ofModal=this.props.ofModal;var l="none",c="";void 0!==e.form_error&&(l="block",c=JSON.stringify(e.form_error)),this.formValidate=!1;var m=n.g.cloneJson(e.conf),u=n.g.role_getAllRoleRight(this.props.infoA.form_code);let h={mode:"",col_text:"",col_input:""};void 0!==this.props.infoA.mode_form&&(h=n.g.cloneJson(this.props.infoA.mode_form)),this.list_component_max=0;var g={},_={},p={};if(void 0!==u){for(var f in u)void 0!==u[f].view?!0!==u[f].view.install&&(g[f]=!1):void 0!==u[f].layout?!0!==u[f].layout.install&&(_[f]=!1):void 0!==u[f].component&&!0!==u[f].component.install&&(p[f]=!1);for(var y=0;y<m.length;y++)if(void 0===m[y].codeHidden||void 0===_[m[y].codeHidden]){if(void 0!==m[y].list_view)for(var D=m[y].list_view,A=0;A<D.length;A++)if(void 0===D[A].codeHidden||void 0===g[D[A].codeHidden]){if(void 0!==D[A].list_input)for(var N=D[A].list_input,M=0;M<N.length;M++)if(void 0!==N[M].default.codeHidden){if(void 0!==p[N[M].default.codeHidden]){N.splice(M,1),M--;continue}void 0!==N[M].default&&(N[M].default.mode_form=h),this.list_component_max++}}else D.splice(A,1),A--}else m.splice(y,1),y--;var x=this.analyticButton(m);this.list_component_max=this.list_component_max-x.length,this.reactTxt=[];var T=Object(n.v)(this.props.form_code);void 0!==T&&(this.reactTxt=(e=>{for(var t=(new DOMParser).parseFromString(e,"text/html"),a=[],i=0;i<t.body.childNodes.length;i++)a[a.length]=b(t.body.childNodes[i]);return a})(T),this.reactTxt=C(this.reactTxt,e.conf,x)),this.state={is_loading_form:!0,data:m,hasError:l,errorInfo:c,ruleStrong:t,btn_of_grid:x,infoA:o,infoA_parent:n.g.cloneJson(e.infoA_parent),visibility:"",status_loading:"block",status_form:"none",list_isLoading:{},follow:{hasFollow:!1,removeFollow:!1},timeline_hidden:!1,list_error:[],isDebug:!1,isOpenModalDebug:!1},this.queue_rules=[],this.list_error_start=[],this.list_component=[],this.list_layout=[],this.list_isLoading=0,this.list_statusIsLoadingFromComponent=0,this.loading_final=!1,this.form_didMount=!1,this.form_blockCheckMaxComponent=!0,this.debug_form={component:{},rule:[]},this.ref_debug=s.a.createRef(),this.list_rule_waiting=[]}}buildValidateForm(){for(var e=[],t=0;t<this.list_component.length;t++)if(this.list_component[t].hasOwnProperty("getInfoErrror")){var a=this.list_component[t].getInfoErrror();void 0!==a&&""!==a&&(e[e.length]=Object.assign({type:"form"},a))}this.showErrorFromServer(e)}analyticButton(e){for(var t=[],a=0;a<e.length;a++){var i=e[a].list_view;if(void 0!==i)for(var s=0;s<i.length;s++)for(var o=i[s].list_input,l=0;l<o.length;l++)o[l].inputtype.includes("Button")&&void 0!==o[l].config.onTable&&""!==o[l].config.onTable.trim()&&(t[t.length]=o[l])}return t}putDataSetAdvanced(e,t){void 0!==e&&void 0!==e.code&&(this.obDataForm[e.code]=t)}checkCompareIsLoading(){for(var e in this.list_statusIsLoadingFromComponent)if(void 0===this.list_isLoading[e])return!1;return!0}componentDidMount(){n.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),n.g.form_addMapping(this.key_form,this.props.mapping_key),this.form_didMount=!0,this.formStart()}async formStart(){this.list_component_max===this.list_component.length&&this.form_didMount&&this.loading_final&&!this.form_blockCheckMaxComponent&&this.list_statusIsLoadingFromComponent===this.list_isLoading&&(void 0!==this.props.data_select&&"{}"!==JSON.stringify(this.props.data_select)&&this.putDataAll_andSet(this.obDataForm),await this.rule_runIsStart(),await this.runRuleFunctionQueue(),this.setState({is_loading_form:!1},()=>{this.formDidStart()}),this.toggleLoading(!0))}async formDidStart(){await this.ruleDidStart(),void 0!==this.props.set_call_form_back&&void 0!==this.state.infoA_parent&&setTimeout(()=>{var e=n.g.getFormAppAuto(this.state.infoA_parent.key_form);void 0!==e&&e.callDirFromSupport("setCallFormBack",{key:this.props.set_call_form_back,key_form:this.key_form},{})},n.g.getTimeAddComponent())}showErrorFromServer_getIcon(e){switch(e){case"info":return"fa-info-circle";case"warning":return"fa-bell";case"success":return"fa-check-square-o";case"danger":return"fa-exclamation-triangle";default:return"fa-question"}}render(){const e=Object(d.a)("uForm");return s.a.createElement(s.a.Fragment,null,this.renderDebug(),s.a.createElement(e,{dataFull:{config:{default:{title:this.getTitleForm()}},cmd:{visibility:this.state.visibility}}},this.renderFormContent()))}}var P=U,V=a(9);const Y=["D","M","Y","h","m","s"];function Q(e){if(!e)return"";let t=["D","M","Y","h","m","s"];for(let a in t){let i=t[a];e=e.replace(new RegExp(i,"g"),"_")}return e}function B(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=!1,s="";if(void 0!==e&&""!==e)if(e.includes("_"))i=!0,s="jMaskInput_WrongFormat";else switch(t){case"date":H(e,a)||(i=!0,s="jMaskInput_WrongFormat")}return{isError:i,message:s}}function H(e,t){let a={};if(void 0===t||null===t||void 0===e||null===e)return{};for(let i in t){let s=t[i];Y.includes(s)&&"_"!==e[i]&&(a[s]=a[s]||"",a[s]+=e[i])}if(Number.isNaN(a.D)||(a.D=parseInt(a.D)),Number.isNaN(a.M)||(a.M=parseInt(a.M)),Number.isNaN(a.Y)||(a.Y=parseInt(a.Y)),a.D||a.M||a.Y){const{D:e,M:t,Y:i}=a;if(t<=0||t>12||e<=0||i<=0)return!1;let s=[0,31,28,31,30,31,30,31,31,30,31,30,31];return(i%400===0||i%100!==0&&i%4===0)&&(s[2]=29),e<=s[t]}return!1}function G(e){if(void 0!==(e=n.g.convertStringToEn(e))){let t=e.charCodeAt(0);return"0".charCodeAt(0)<=t&&t<="9".charCodeAt(0)?"number":"a".charCodeAt(0)<=t&&t<="z".charCodeAt(0)||"A".charCodeAt(0)<=t&&t<="Z".charCodeAt(0)?"word":"all"}}class J extends i.Component{constructor(e){super(e),this.clickRunNormallyHandler=e=>{this.setState({radio_step_summary:"nor"})},this.clickNumberRunningHandler=e=>{this.setState({radio_step_summary:"num"})},this.onBlurMaskInput=()=>{let{maskNumberRunning:e}=this.state;e.help_mess=B(e.mask_value,e.mode,e.defaultMask).message,this.setState({maskNumberRunning:e})},this.onClickMaskInput=()=>{let{maskNumberRunning:e}=this.state;e.help_mess="",e.error_input=!1,this.setState({maskNumberRunning:e})},this.setLastPosition=e=>{let{maskNumberRunning:t}=this.state;t.start_pos=e.target.selectionStart,t.end_pos=e.target.selectionEnd,this.setState({maskNumberRunning:t})},this.onChangeBatchDate=e=>{let{maskNumberRunning:t}=this.state,a=e.target,i=function(e,t,a,i,s){let o=e.selectionStart,l=e.value,n=l.slice(t,o),r=0,c="";if(s.length===l.length){let e=!0;for(const t in s)"_"!==s[t]&&s[t]!==l[t]&&(e=!1);if(e)return{mask_value:l,newPosition:o}}if(l.length<s.length)for(let h=0;h<s.length-l.length;h++)m=o+h,u="_",a=(d=a).substr(0,m)+u+d.substr(m+u.length);var d,m,u;for(let h in s)"_"===s[h]?t<=h&&r<n.length?(G(n[r])!==i&&"all"!==i||!1!==/\W/.test(n[r])?(c+="_",o--):c+=n[r]||"_",r++):c+=a[h]||s[h]:(c+=s[h],t<=h&&r<n.length&&o++);return{mask_value:c,newPosition:o}}(a,t.start_pos,t.mask_value,t.value_type,t.mask);t.mask_value=i.mask_value;let{date_select:s,date_calculator:o}=this.state;B(i.mask_value,t.mode,t.defaultMask).isError||(s=Object(V.a)(i.mask_value,this.dateFormat),o=Math.round((s-this.state.working_date_long)/1e3/60/60/24),o<0&&(o=0)),this.setState({date_select:s,date_calculator:o,maskNumberRunning:t},()=>{var e,t;e=a,t=i.newPosition,setTimeout(()=>{e.selectionStart=t,e.selectionEnd=t},1)})},this.checkStepHandler=e=>{e.checked=!e.checked;let t=this.state.O9_job_process_refesh_table_summary,a={S:""};if(t.length>0){t.filter(t=>t.ordinal<e.ordinal).forEach(e=>{a.S+=e.stepname+","})}e.checked&&(a.S+=e.stepname+","),this.callAPI("POST_api_job_check",a).then(e=>{this.refeshForm()})},this.changeKeyLanguage=e=>{let t={title_:n.g.getLang("jobProcess_title"),des_:n.g.getLang("jobProcess_des"),btn_start:n.g.getLang("jobProcess_btnStart"),btn_stop:n.g.getLang("jobProcess_btnStop"),btn_refresh:n.g.getLang("jobProcess_btnRefresh"),tab_summary:n.g.getLang("jobProcess_tabSummary"),tab_step_summary:n.g.getLang("jobProcess_tabStepSummary"),tab_step_details:n.g.getLang("jobProcess_tabStepDetails"),tab_error_details:n.g.getLang("jobProcess_tabErrorDetails"),batch_date:n.g.getLang("jobProcess_batchDate"),progress:n.g.getLang("jobProcess_progress"),run_normally:n.g.getLang("jobProcess_runNormally"),number_running:n.g.getLang("jobProcess_numberRunning"),days:n.g.getLang("jobProcess_days"),stop_at:n.g.getLang("jobProcess_stopAt"),select:n.g.getLang("jobProcess_select"),step_name:n.g.getLang("jobProcess_stepName"),comments:n.g.getLang("jobProcess_comments"),status:n.g.getLang("jobProcess_status"),status_description:n.g.getLang("jobProcess_statusDescription"),percent_started:n.g.getLang("jobProcess_percentStarted"),start_at:n.g.getLang("jobProcess_startAt"),end_at:n.g.getLang("jobProcess_endAt"),threads_created:n.g.getLang("jobProcess_threadsCreated"),threads_running:n.g.getLang("jobProcess_threadsRunning"),threads_compeleted:n.g.getLang("jobProcess_threadsCompeleted"),threads_canceled:n.g.getLang("jobProcess_threadsCanceled"),threads_failed:n.g.getLang("jobProcess_threadsFailed"),threads_id:n.g.getLang("jobProcess_threadsID"),total_threads:n.g.getLang("jobProcess_totalThreads"),total_started:n.g.getLang("jobProcess_totalStarted"),total_duration:n.g.getLang("jobProcess_totalDuration"),total_remaining:n.g.getLang("jobProcess_totalRemaining"),job_name:n.g.getLang("jobProcess_jobName"),read_count:n.g.getLang("jobProcess_readCount"),write_count:n.g.getLang("jobProcess_writeCount"),commit_count:n.g.getLang("jobProcess_commitCount"),read_skip_count:n.g.getLang("jobProcess_readSkipCount"),write_skip_count:n.g.getLang("jobProcess_writeSkipCount"),process_skip_count:n.g.getLang("jobProcess_processSkipCount"),rollback_count:n.g.getLang("jobProcess_rollbackCount"),exit_code:n.g.getLang("jobProcess_exitCode"),exit_message:n.g.getLang("jobProcess_exitMessage")};if(void 0!==e)return t;let a=this.state.infoA;a.title=n.g.getLang("jobProcess_title"),a.des=n.g.getLang("jobProcess_des"),a.lang_form.vi=n.g.getLang("jobProcess_title"),a.lang_form.en=n.g.getLang("jobProcess_title"),this.setState({languages:t,infoA:a})},this.callAPI=(e,t)=>{let a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(T.b)(a,{}).then(e=>n.g.foGetData("data",e))},this.componentDidMount=async()=>{n.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),n.g.form_addMapping(this.key_form,this.props.mapping_key),await this.callAPI("O9_job_process_create_table_summary").then(e=>{this.refeshForm()})},this.reloadTableSummary=async()=>{let e=[];await this.callAPI("O9_job_process_refesh_table_summary").then(t=>{t&&(e=t.O9_job_process_refesh_table_summary,Array.isArray(e)||(e=[]))}),this.setState({O9_job_process_refesh_table_summary:e})},this.refeshForm=async()=>{let e=[],t="";await this.callAPI("O9_job_process_refesh_table_summary").then(t=>{t&&(e=t.O9_job_process_refesh_table_summary,Array.isArray(e)||(e=[]))}),await this.callAPI("O9_job_process_stop_error_mess").then(e=>{e&&(t=e.O9_job_process_stop_error_mess)}),this.setState({O9_job_process_refesh_table_summary:e,O9_job_process_stop_error_mess:t})},this.onClickStop=async()=>{await this.callAPI("O9_job_process_stop").then(e=>{this.setState({is_started:!1})})},this.onClickRefresh=()=>{this.refeshForm(),this.setState({is_started:!1})},this.onClickStart=()=>{this.setState({is_started:!0},()=>{let e=setInterval(()=>{let e=[];this.callAPI("O9_job_process_refesh_table_summary").then(t=>{t&&(e=t.O9_job_process_refesh_table_summary,Array.isArray(e)||(e=[])),this.setState({O9_job_process_refesh_table_summary:e})})},1e3),t=1;"num"===this.state.radio_step_summary&&(t=this.state.date_calculator),this.callAPI("O9_job_process_start",{days:t}).then(t=>{clearInterval(e),this.setState({is_started:!1}),this.refeshForm()})})},this.getProgress=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;for(let a=0;a<e.length;a++){const i=e[a];!0===i.checked&&100===i.percentstarted&&"S"===i.status&&t++}return Math.round(t/e.length*100)},this.onClickRowTableStepSummary=e=>{this.callAPI("O9_job_process_refesh_table_errror",e).then(e=>{let t=[];e&&(t=e.O9_job_process_refesh_table_errror,t&&Array.isArray(t)&&(t=t.filter(e=>void 0!==e[3])),this.setState({O9_job_process_refesh_table_errror:t}))}),this.callAPI("O9_job_process_refesh_table_details",e).then(e=>{let t=[];e&&Array.isArray(e.O9_job_process_refesh_table_details)&&(t=e.O9_job_process_refesh_table_details),this.setState({O9_job_process_refesh_table_details:t})})},this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})};let t=this.changeKeyLanguage("start");this.key_form="016002",this.jobProcessForm=Object(d.b)("O9_jobProcess"),this.user_info=n.g.context_get("user_acc"),this.dateFormat=n.g.getParameterSystem("DATE_FORMAT");let a=Object(V.b)(this.user_info.workingdate,this.dateFormat);this.mappingKeyToIndex={buttons:{start:0,stop:1,refresh:2}},this.propsTemplate={stateData:this.getStateData(this.user_info,t)},this.state={maskNumberRunning:{defaultMask:this.dateFormat,mask:Q(this.dateFormat),error_input:!1,help_mess:"",start_pos:0,end_pos:0,mask_value:a,value_type:"number",mode:"date"},visibility:"",error_details_data:[],step_details_data:[],step_summary_data:[],languages:t,is_started:!1,tab_active:1,infoA:{lang_form:{vi:n.g.getLang("jobProcess_title"),en:n.g.getLang("jobProcess_title")},title:"Job Process",des:"",openOne:"true",form_code:this.key_form,ofModal:!1},O9_job_process_refesh_table_summary:[],O9_job_process_refesh_table_errror:[],O9_job_process_refesh_table_details:[],radio_step_summary:"nor",date_select:this.user_info.workingdate,date_calculator:0,working_date:a,working_date_long:this.user_info.workingdate}}getStateData(e,t){return{form:{dataFull:{config:{default:{title:"Job Process"}},cmd:{visibility:""}}},listButton:[{dataFull:{config:{default:{title:t.btn_start,icon:"play_circle_outline"},cmd:{disable:!1}}},abs_Click:this.onClickStart},{dataFull:{config:{default:{title:t.btn_stop,icon:"pause_circle_outline"},cmd:{disable:!0}}},abs_Click:this.onClickStop},{dataFull:{config:{default:{title:t.btn_refresh,icon:"autorenew"},cmd:{disable:!1}}},abs_Click:this.onClickRefresh}],tab:[{id:"summary",title:"Summary"},{id:"stepSummary",title:"Step Summary"},{id:"stepDetail",title:"Step Details"},{id:"errorDetail",title:"Error Details"}],summary:{date_batch:{title:"Batch Date",value:Object(V.b)(e.workingdate,this.dateFormat)},percent:{title:"Progress",value:0}},stepSummary:{run_normal:{dataFull:{title:"Run Normally",value:!0,dataItem:{},abs_Click:this.clickRunNormallyHandler}},number_run:{dataFull:{title:"Number Running",value:!1,dataItem:{},abs_Click:this.clickNumberRunningHandler}},date_day:0,date_time:{dataFull:{config:{default:{class:"col-md-3 col-8",icon:""},cmd:{disable:!0,visible:!0,error:{message:"",type:""}},mode:{noTitle:!0}},data:[],value:Object(V.b)(e.workingdate,this.dateFormat),abs_Change:this.onChangeBatchDate,abs_Blur:this.onBlurMaskInput,abs_Click:this.onClickMaskInput,abs_KeyDown:this.setLastPosition,abs_MouseUp:this.setLastPosition}},table_header:this.getTableHeaderConfigStepSummary(),table_data:[],table_config:this.getTableConfigStepSummary()},stepDetail:{table_header:this.getTableHeaderConfigStepDetail(t),table_data:[],table_config:this.getTableConfigStepDetail()},errorDetail:{table_header:this.getTableHeaderConfigErrorDetail(),table_data:[],table_config:this.getTableConfigErrorDetail()}}}getStatusIconStep(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"S"){case"S":return"check_circle";case"F":return"remove_circle";case"N":return"add_circle";case"R":return"trending_up";default:return""}}getStatusColorStep(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"S"){case"S":return"success";case"F":return"danger";case"N":case"R":default:return"info"}}getTableHeaderConfigStepSummary(){return{dataFull:{Header:{data:[{title:"Select",config:{width:"",isFrozen:!1}},{title:"Step Name",config:{width:"",isFrozen:!1}},{title:"Comment",config:{width:"",isFrozen:!1}},{title:"Status",config:{width:"",isFrozen:!1}},{title:"Percent Started",config:{width:"",isFrozen:!1}},{title:"Status Decs",config:{width:"",isFrozen:!1}},{title:"Start At",config:{width:"",isFrozen:!1}},{title:"End At",config:{width:"",isFrozen:!1}},{title:"Threads Created",config:{width:"",isFrozen:!1}},{title:"Threads Running",config:{width:"",isFrozen:!1}},{title:"Threads Completed",config:{width:"",isFrozen:!1}},{title:"Threads Canceled",config:{width:"",isFrozen:!1}},{title:"Threads Failed",config:{width:"",isFrozen:!1}},{title:"Total Threads",config:{width:"",isFrozen:!1}},{title:"Total Started",config:{width:"",isFrozen:!1}},{title:"Total Duration",config:{width:"",isFrozen:!1}},{title:"Total Remaining",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1}}},config:{mode:{noHeader:!1}}}}}getTableConfigStepSummary(){return[{type:"uTableColumnCheckbox"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnIcon"},{type:"uTableColumnProgressBar"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}}]}getTableDataStepSummary(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>({data:[{value:e.checked,dataItem:e,abs_Click:this.checkStepHandler},{data:e.stepname},{data:e.comments},{data:[{val:this.getStatusIconStep(e.status),color:this.getStatusColorStep(e.status),title:"warning",class:"-round"}]},{percent:e.percentstarted},{data:e.statusdesc},{data:e.startat},{data:e.endat},{data:e.threadscreated},{data:e.threadsrunning},{data:e.threadscompleted},{data:e.threadscanceled},{data:e.threadsfailed},{data:e.totalthreads},{data:e.totalstarted},{data:e.totalduration},{data:e.totalstarted}],dataItem:e,abs_Click:this.onClickRowTableStepSummary}))}getTableHeaderConfigStepDetail(e){return{dataFull:{Header:{data:[{title:e.job_name,config:{width:"",isFrozen:!1}},{title:e.step_name,config:{width:"",isFrozen:!1}},{title:e.status,config:{width:"",isFrozen:!1}},{title:e.read_count,config:{width:"",isFrozen:!1}},{title:e.write_count,config:{width:"",isFrozen:!1}},{title:e.commit_count,config:{width:"",isFrozen:!1}},{title:e.read_skip_count,config:{width:"",isFrozen:!1}},{title:e.write_skip_count,config:{width:"",isFrozen:!1}},{title:e.process_skip_count,config:{width:"",isFrozen:!1}},{title:e.rollback_count,config:{width:"",isFrozen:!1}},{title:e.exit_code,config:{width:"",isFrozen:!1}},{title:e.exit_message,config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1}}},config:{mode:{noHeader:!1}}}}}getTableConfigStepDetail(){return[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}]}getTableDataStepDetail(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>[{data:e.jobname},{data:e.stepname},{data:e.status},{data:e.readcount},{data:e.writecount},{data:e.commitcount},{data:e.readskipcount},{data:e.writeskipcount},{data:e.processskipcount},{data:e.rollbackcount},{data:e.exitcode},{data:e.exitmessage}])}getTableHeaderConfigErrorDetail(){return{dataFull:{Header:{data:[{title:"Thread id",config:{width:"",isFrozen:!1}},{title:"Step name",config:{width:"",isFrozen:!1}},{title:"Status",config:{width:"",isFrozen:!1}},{title:"Status description",config:{width:"",isFrozen:!1}}]},config:{mode:{noHeader:!1}}}}}getTableConfigErrorDetail(){return[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}]}getTableDataErrorDetail(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>[{data:e},{data:e},{data:e},{data:e}])}UNSAFE_componentWillUpdate(e,t){var a,i,s;this.propsTemplate.stateData.stepSummary.table_header.dataFull.dataEmpty={isShow:!(null===(a=t.O9_job_process_refesh_table_summary)||void 0===a?void 0:a.length),title:n.g.getLang("header_searchNoResult")},this.propsTemplate.stateData.stepSummary.table_data=this.getTableDataStepSummary(t.O9_job_process_refesh_table_summary),this.propsTemplate.stateData.stepDetail.table_header.dataFull.dataEmpty={isShow:!(null===(i=t.O9_job_process_refesh_table_details)||void 0===i?void 0:i.length),title:n.g.getLang("header_searchNoResult")},this.propsTemplate.stateData.stepDetail.table_data=this.getTableDataStepDetail(t.O9_job_process_refesh_table_details),this.propsTemplate.stateData.errorDetail.table_header.dataFull.dataEmpty={isShow:!(null===(s=t.O9_job_process_refesh_table_errror)||void 0===s?void 0:s.length),title:n.g.getLang("header_searchNoResult")},this.propsTemplate.stateData.errorDetail.table_data=this.getTableDataErrorDetail(t.O9_job_process_refesh_table_errror),this.propsTemplate.stateData.summary.percent.value=this.getProgress(t.O9_job_process_refesh_table_summary),t.radio_step_summary!==this.state.radio_step_summary&&(this.propsTemplate.stateData.stepSummary.run_normal.dataFull.value="nor"===t.radio_step_summary,this.propsTemplate.stateData.stepSummary.number_run.dataFull.value=!this.propsTemplate.stateData.stepSummary.run_normal.dataFull.value,this.propsTemplate.stateData.stepSummary.date_time.dataFull.config.cmd.disable="nor"===t.radio_step_summary),t.is_started!==this.state.is_started&&(this.propsTemplate.stateData.listButton[this.mappingKeyToIndex.buttons.start].dataFull.config.cmd.disable=!!t.is_started,this.propsTemplate.stateData.listButton[this.mappingKeyToIndex.buttons.stop].dataFull.config.cmd.disable=!t.is_started),this.propsTemplate.stateData.stepSummary.date_time.dataFull.value=t.maskNumberRunning.mask_value,this.propsTemplate.stateData.stepSummary.date_time.dataFull.config.cmd.error.message=n.g.getLang(t.maskNumberRunning.help_mess),t.date_calculator!==this.state.date_calculator&&(this.propsTemplate.stateData.stepSummary.date_day=t.date_calculator)}render(){if("none"===this.state.visibility)return null;const e=this.jobProcessForm;return s.a.createElement(e,{stateData:this.propsTemplate.stateData})}}var q=J,W=a(13);let K;class Z extends i.Component{constructor(e){super(e),this.abs_role_name_copying_select=(e,t,a)=>{this.setState({role_name_copying_selected:e.roleid,column2_role_select:e})},this.abs_Ckeck_invoke_approve_verification=(e,t)=>{this.callAPI("O9_Roles_Invoke_approve_Table_Change_save_approve",{roleid:e.roleid,data:[{roleid:e.roleid,cmdid:e.parentid,cmdiddt:e.cmdiddt,invoke:!1===t?1:0}]}).then(e=>{let t=e.O9_Roles_Invoke_approve_Table_Change_save_approve;this.reloadTableWithMenuInvokeApprove(),t[0].type,this.showToast("Save",!0)})},this.abs_Ckeck_invoke_approve_operation=(e,t)=>{this.callAPI("O9_Roles_Invoke_approve_Table_Change_save",{roleid:e.roleid,data:[{roleid:e.roleid,cmdid:e.parentid,cmdiddt:e.cmdiddt,invoke:!1===t?1:0}]}).then(e=>{let t=e.O9_Roles_Invoke_approve_Table_Change_save;this.reloadTableWithMenuInvokeApprove(),t[0].type,this.showToast("Save",!0)})},this.UNSAFE_componentWillUpdate=(e,t)=>{var a,i,s;this.stateData.tab.data=this.stateData.tab.data.map(e=>(e.isShow=e.id===t.menu_select,e)),this.stateData.column3.table_in_role_data=t.table_user_profile_user_in_role.map(e=>({config:{value:!1},data:[{data:e.rolename},{data:e.usrcd},{data:e.usrname}]})),this.stateData.column1.tree_data.tree_data=null===(a=t.menu_invoke_aprrove)||void 0===a?void 0:a.map(e=>({title:e.caption,parent_id:e.parentid,is_open:!1,DOM_elm:null,id:e.cmdid,dataItem:e,abs_click:this.onClickTreeMenuInvokeApprove})),this.stateData.column1.table_up.dataFull.Header.data=t.O9_Roles_InvokeApprove_Table_header.map(e=>({title:e.caption,config:{width:"",isFrozen:!1}})),this.stateData.column1.table_down.dataFull.Header.data=n.g.cloneJson(this.stateData.column1.table_up.dataFull.Header.data),this.stateData.column1.table_down.dataFull.Header.data[1]&&(this.stateData.column1.table_down.dataFull.Header.data[1].title="Self Approve");let o=t.O9_Roles_InvokeApprove_Table_header;this.stateData.column1.table_up_config=o.map((e,t)=>0===t?{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}:{type:"uTableColumnCheckbox"}),this.stateData.column1.table_down_config=this.stateData.column1.table_up_config;let l=t.O9_Roles_InvokeApprove_Table_body;this.stateData.column1.table_up_data=[],this.stateData.column1.table_down_data=[];for(let n=0;n<l.length;n++){let e=o.length-1,t=[],a=[];for(let i=0;i<e;i++)0===i&&(t.push({data:l[n+i].rolename}),a.push({data:l[n+i].rolename})),t.push({value:1===l[n+i].invoke,dataItem:l[n+i],abs_Click:this.abs_Ckeck_invoke_approve_operation}),a.push({value:1===l[n+i].approve,dataItem:l[n+i],abs_Click:this.abs_Ckeck_invoke_approve_verification});this.stateData.column1.table_up_data.push(t),this.stateData.column1.table_down_data.push(a),n=n+e-1}if(this.stateData.column2.role_name_adding.dataFull.config.cmd.disable=!0!==t.addAndRemove_btnAddClick,this.stateData.column2.listButton[2].dataFull.config.cmd.disable=!0===t.addAndRemove_btnSaveClick,this.stateData.column2.role_name_copying.dataFull.search_value=t["column2.role_name_copying"],!t.role_name_copying_selected&&t.O9_Roles_Add_and_Remove_Role_Name.length>0)this.setState({role_name_copying_selected:t.O9_Roles_Add_and_Remove_Role_Name[0].roleid});else{var r;this.stateData.column2.role_name_copying.dataFull.input_value=null===(r=t.column2_role_select)||void 0===r?void 0:r.rolename;let e=t.O9_Roles_Add_and_Remove_Role_Name.filter(e=>e.rolename.toLowerCase().includes(t["column2.role_name_copying"].toLowerCase()));this.stateData.column2.role_name_copying.dataFull.data=e.map((e,a)=>{let i=!1;return e.roleid===t.role_name_copying_selected&&(i=!0),{title:e.rolename,value:e,selected:i}})}this.stateData.column2.role_name_adding.dataFull.value=t.role_name_adding_input;let c=this.unCheck_user_assign_table_left,d=this.unCheck_user_assign_table_right;!0===this.unCheck_user_assign_table_left&&(this.unCheck_user_assign_table_left=!1),!0===this.unCheck_user_assign_table_right&&(this.unCheck_user_assign_table_right=!1),this.stateData.column3.table_left_data=t.O9_Roles_User_assignment_table_left.map((e,t)=>{var a,i,s;return{data:[{data:t+1},{value:!0!==c&&((null===(a=this.stateData.column3.table_left_data[t])||void 0===a||null===(i=a.data)||void 0===i||null===(s=i[1])||void 0===s?void 0:s.value)||!1),abs_Click:this.abs_Check_role_profile_user_assign_left,dataItem:{value:e,index:t}},{data:e.usrcd},{data:e.usrname}],config:{value:!1}}}),this.stateData.column3.table_right_data=t.O9_Roles_User_assignment_table_right.map((e,t)=>{var a,i,s;return{data:[{data:t+1},{value:!0!==d&&((null===(a=this.stateData.column3.table_right_data[t])||void 0===a||null===(i=a.data)||void 0===i||null===(s=i[1])||void 0===s?void 0:s.value)||!1),abs_Click:this.abs_Check_role_profile_user_assign_right,dataItem:{value:e,index:t}},{data:e.usrcd},{data:e.usrname}],config:{value:!1}}}),this.stateData.column3.role_choose_left.dataFull.data=[],this.stateData.column3.role_choose_left.dataFull.search_value=t["column3.role_choose_left"],this.stateData.column3.role_choose_left.dataFull.input_value=null===(i=t.column3_role_left_select)||void 0===i?void 0:i.rolename,t.O9_RolesUser_assignment_Role_Name_Left.filter(e=>e.rolename.toLowerCase().includes(t["column3.role_choose_left"].toLowerCase())).forEach((e,a)=>{let i=!1;(t.column3_role_left_select.roleid===e.roleid||0===a&&void 0===t.column3_role_left_select.roleid)&&(i=!0),this.stateData.column3.role_choose_left.dataFull.data.push({title:e.rolename,value:{id:e.roleid,item:e,type:"left"},selected:i})}),this.stateData.column3.role_choose_right.dataFull.search_value=t["column3.role_choose_right"],this.stateData.column3.role_choose_right.dataFull.input_value=null===(s=t.column3_role_right_select)||void 0===s?void 0:s.rolename;let m=t.O9_RolesUser_assignment_Role_Name_Right.filter(e=>e.rolename.toLowerCase().includes(t["column3.role_choose_right"].toLowerCase()));this.stateData.column3.role_choose_right.dataFull.data=m.map((e,a)=>{let i=!1;return(t.column3_role_right_select.roleid===e.roleid||0===a&&void 0===t.column3_role_right_select.roleid)&&(i=!0),{title:e.rolename,value:{id:e.roleid,item:e,type:"right"},selected:i}}),this.stateData.column4.listItem=t.O9_Roles_Invoke_limit_menu.map(e=>{let a=!1;return t.Invoke_role_selected===e.roleid&&(a=!0),{dataFull:{title:e.rolename,dataItem:e,selected:a},abs_Click:this.onClickMenuInvokeLimit}}),this.stateData.column4.table.dataFull.Header.data=t.header_table_currency.map(e=>({title:e.title,config:{width:"",isFrozen:!1}})),this.stateData.column4.table_config=t.header_table_currency.map((e,t)=>t<2?{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}:{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}}),this.stateData.column4.table_data=t.O9_Roles_InvokeLimit_Table.map((e,a)=>t.header_table_currency.map((t,i)=>({data:e[t.code],dataItem:{header:t,row_idx:a,row_data:e},index_row:a,index_col:i,abs_Change:this.abs_change_invoke_table}))),this.stateData.column5.listItem=t.O9_Roles_Invoke_limit_menu.map(e=>{let a=!1;return t.Approve_role_selected===e.roleid&&(a=!0),{dataFull:{title:e.rolename,dataItem:e,selected:a},abs_Click:this.onClickMenuApproveLimit}}),this.stateData.column5.table.dataFull.Header.data=t.header_table_currency.map(e=>({title:e.title,config:{width:"",isFrozen:!1}})),this.stateData.column5.table_config=t.header_table_currency.map((e,t)=>t<2?{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}:{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}}),this.stateData.column5.table_data=t.O9_Roles_ApproveLimit_Table.map((e,a)=>t.header_table_currency.map((t,i)=>({data:e[t.code],dataItem:{header:t,row_idx:a,row_data:e},index_row:a,index_col:i,abs_Change:this.abs_change_approve_table})))},this.CheckAddRoleName=e=>{let t=e.target.value,a=!1;for(const i of this.stateData.column2.role_name_copying.dataFull.data)if(i.title===t||""===t){a=!0;break}""===t&&(a=!0),this.setState({addAndRemove_btnSaveClick:a,role_name_adding_input:t})},this.abs_Check_role_profile_user_assign_left=e=>{this.onClickAssignLeftRow(e),this.stateData.column3.table_left_data[e.index].data[1].value=!0;for(let t=0;t<this.stateData.column3.table_left_data.length;t++)t!==e.index&&(this.stateData.column3.table_left_data[t].data[1].value=!1);this.setState({autoReload:!0})},this.abs_Check_role_profile_user_assign_right=e=>{let t=this.stateData.column3.table_right_data[e.index].data[1];t.value=!t.value,this.setState({autoReload:!0})},this.abs_CheckAll_left=()=>{let e=this.stateData.column3.table_left.dataFull.Header.data[1],t=0;this.stateData.column3.table_left_data.forEach(()=>{!0===e.data.value?this.stateData.column3.table_left_data[t].data[1].value=!1:this.stateData.column3.table_left_data[t].data[1].value=!0,t++}),e.data.value=!e.data.value,this.setState({autoReload:!0})},this.abs_CheckAll_right=()=>{let e=this.stateData.column3.table_right.dataFull.Header.data[1],t=0;this.stateData.column3.table_right_data.forEach(()=>{!0===e.data.value?this.stateData.column3.table_right_data[t].data[1].value=!1:this.stateData.column3.table_right_data[t].data[1].value=!0,t++}),e.data.value=!e.data.value,this.setState({autoReload:!0})},this.abs_change_approve_table=(e,t,a,i)=>{let s=e.target.value,o=this.state.O9_Roles_ApproveLimit_Table,l=this.onChangeCurrency(s);o[a][t.header.code]=l,this.setState({O9_Roles_ApproveLimit_Table:o},()=>{this.callAPI("O9_Roles_ApproveLimit_Table_Change_save",{roleid:this.state.O9_Roles_Approve_limit_menu_select.roleid,data:[{roleid:this.state.Invoke_role_selected,txcode:t.row_data.cmdid,ccrcd:t.header.code,amt:this.getValueCurrency(s)}]}).then(e=>{1===e.O9_Roles_ApproveLimit_Table_Change_save[0].type&&this.showToast("Save",!0)})})},this.abs_change_invoke_table=(e,t,a,i)=>{let s=e.target.value,o=this.state.O9_Roles_InvokeLimit_Table,l=this.onChangeCurrency(s);o[a][t.header.code]=l,this.setState({O9_Roles_InvokeLimit_Table:o},()=>{this.callAPI("O9_Roles_InvokeLimit_Table_Change_save",{roleid:this.state.Invoke_role_selected,data:[{roleid:this.state.Invoke_role_selected,txcode:t.row_data.cmdid,ccrcd:t.header.code,amt:this.getValueCurrency(l)}]}).then(e=>{1===e.O9_Roles_InvokeLimit_Table_Change_save[0].type&&this.showToast("Save",!0)})})},this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})},this.showToast=(e,t)=>{var a={};switch(t){case!0:a={class_:"success",icon:"fa fa-check",title:e+" successfully",time:(new Date).getTime()+"",description:e+" Successfully",data:{},action:{}};break;case!1:a={class_:"error",icon:"fa fa-check",title:"Action error!",time:(new Date).getTime()+"",description:"Action error!",data:{},action:{}};break;default:a={class_:"error",icon:"fa fa-check",title:e,time:(new Date).getTime()+"",description:e,data:{},action:{}}}n.g.pushNotify("notifyToast",a,{}),n.g.callAllScreenListen()},this.callAPI=(e,t)=>{var a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(T.b)(a,{}).then(e=>n.g.foGetData("data",e))},this.AddRoleName=()=>{let e=this.state.role_name_copying_selected,t=this.state.role_name_adding_input;""!==e&&""!==t&&this.callAPI("O9_Roles_User_Add_and_remove_add",{roleid:e,new_name:t}).then(e=>{1===e.O9_Roles_User_Add_and_remove_add[0].type&&(this.callAPI("O9_Roles_Add_and_Remove_Role_Name").then(e=>{let t=e.O9_Roles_Add_and_Remove_Role_Name;this.setState({O9_Roles_Add_and_Remove_Role_Name:t,isAdd_add_and_remove:!1,addAndRemove_btnAddClick:!1,role_name_adding_input:"",addAndRemove_btnSaveClick:!0})}),this.showToast("Save",!0))})},this.renderUserAssignment=()=>s.a.createElement("div",{className:"tab-content tab-pane fade in active"},s.a.createElement("div",{className:"col-md-12 col-lg-5"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},s.a.createElement("label",null,"Select user group"),s.a.createElement("div",{className:"select-box"},s.a.createElement("div",{className:"selectbox-wrap mrgn-b-lg"},s.a.createElement("div",{className:"selectbox"},s.a.createElement("select",{ref:"ref_assignment_list_role_name_left",name:"left",className:"form-control",onChange:e=>this.onChangeUserAgm(e)},s.a.createElement("option",{key:"all",value:0},"All"),this.state.O9_RolesUser_assignment_Role_Name_Left.map(e=>s.a.createElement("option",{key:e.roleid,value:e.roleid},e.rolename)))))),s.a.createElement("label",null,"List user to add"),s.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},s.a.createElement("table",{className:"table table-hover table-bordered"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"bg-primary"},s.a.createElement("th",null,"User Code"),s.a.createElement("th",null,"User Name"),s.a.createElement("th",null))),s.a.createElement("tbody",null,this.state.O9_Roles_User_assignment_table_left.map((e,t)=>s.a.createElement("tr",{key:t,onClick:()=>{this.onClickAssignLeftRow(e)}},s.a.createElement("td",null,e.usrcd),s.a.createElement("td",null,e.usrname),s.a.createElement("td",{onClick:()=>{this.onClickAssignLeftToRight(e)},style:{textAlign:"center",cursor:"pointer"}}," ",s.a.createElement("i",{className:"fa fa-angle-right fa-lg","aria-hidden":"true"})," "))))))))),s.a.createElement("div",{className:"col-md-12 col-lg-1"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b-lg RoleUserRoleProfile"},s.a.createElement("button",{onClick:()=>{this.onClickAssignLeftToRightArray()},type:"submit",className:"btn btn-primary"}," ",s.a.createElement("i",{className:"fa fa-angle-double-right fa-lg","aria-hidden":"true"})," "),s.a.createElement("button",{onClick:()=>{this.onClickAssignRightToLeftArray()},type:"submit",className:"btn btn-primary"}," ",s.a.createElement("i",{className:"fa fa-angle-double-left fa-lg","aria-hidden":"true"})," ")))),s.a.createElement("div",{className:"col-md-12 col-lg-5"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},s.a.createElement("label",null,"Select role"),s.a.createElement("div",{className:"select-box"},s.a.createElement("div",{className:"selectbox-wrap mrgn-b-lg"},s.a.createElement("div",{className:"selectbox"},s.a.createElement("select",{ref:"ref_assignment_list_role_name_right",name:"right",className:"form-control",onChange:e=>this.onChangeUserAgm(e)},this.state.O9_RolesUser_assignment_Role_Name_Right.map(e=>s.a.createElement("option",{key:e.roleid,value:e.roleid},e.rolename)))))),s.a.createElement("label",null,"Select user in role"),s.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},s.a.createElement("table",{className:"table table-hover table-bordered"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"bg-primary"},s.a.createElement("th",null),s.a.createElement("th",null,"User Code"),s.a.createElement("th",null,"User Name"))),s.a.createElement("tbody",null,this.state.O9_Roles_User_assignment_table_right.map((e,t)=>s.a.createElement("tr",{key:t},s.a.createElement("td",{style:{textAlign:"center"},onClick:()=>{this.onClickAssignRightToLeft(e)}}," ",s.a.createElement("i",{className:"fa fa-angle-left fa-lg","aria-hidden":"true"})," "),s.a.createElement("td",null,e.usrcd),s.a.createElement("td",null,e.usrname))))))))),s.a.createElement("div",{className:"col-md-12 col-lg-11"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("label",null,"User in role"),s.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},s.a.createElement("table",{className:"table table-hover table-bordered"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"bg-primary"},s.a.createElement("th",null,"Role Name"),s.a.createElement("th",null,"User Code"),s.a.createElement("th",null,"User Name"))),s.a.createElement("tbody",null,this.state.table_user_profile_user_in_role.map((e,t)=>s.a.createElement("tr",{key:t},s.a.createElement("td",null,e.rolename),s.a.createElement("td",null,e.usrcd),s.a.createElement("td",null,e.usrname))))))))),this.onSearch=(e,t)=>{this.setState({[t]:e.target.value})},this.abs_Click_next=()=>{this.onClickAssignLeftToRightArray()},this.abs_Click_next_all=()=>{this.onClickAssignLeftToRightAll()},this.abs_Click_previous=()=>{this.onClickAssignRightToLeftArray()},this.abs_Click_previous_all=()=>{this.onClickAssignRightToLeftAll()},this.onClickAssignLeftToRightAll=()=>{let e=this.state.O9_Roles_User_assignment_table_right,t=this.stateData.column3.table_left_data.filter(t=>0===e.filter(e=>e.usrcd===t.data[1].dataItem.value.usrcd).length).map(e=>e.data[1].dataItem.value),a=this.state.column3_role_right_select.roleid;""!==a&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:a,data:t}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:a}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):(this.showToast("Save",!1),this.setState({jwebuiAutoReload:!0}))});let i=this.stateData.column3.table_left.dataFull.Header.data[1],s=0;this.stateData.column3.table_left_data.forEach(()=>{!0===i.data.value&&(this.stateData.column3.table_left_data[s].data[1].value=!1),s++}),i.data.value=!1},this.onClickAssignRightToLeftAll=()=>{let e=this.stateData.column3.table_right_data.map(e=>e.data[1].dataItem.value),t=this.state.column3_role_right_select.roleid;this.unCheck_user_assign_table_right=!0,""!==t&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:-t,data:e}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:t}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):(this.showToast("Save",!1),this.setState({jwebuiAutoReload:!0}))});let a=this.stateData.column3.table_right.dataFull.Header.data[1],i=0;this.stateData.column3.table_right_data.forEach(()=>{!0===a.data.value&&(this.stateData.column3.table_right_data[i].data[1].value=!1),i++}),a.data.value=!1},this.onClickAssignLeftToRightArray=()=>{let e=this.state.O9_Roles_User_assignment_table_right,t=this.stateData.column3.table_left_data.filter(t=>!0===t.data[1].value&&0===e.filter(e=>e.usrcd===t.data[1].dataItem.value.usrcd).length).map(e=>e.data[1].dataItem.value),a=this.state.column3_role_right_select.roleid;this.unCheck_user_assign_table_left=!0,""!==a&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:a,data:t}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:a}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):(this.showToast("Save",!1),this.setState({jwebuiAutoReload:!0}))});let i=this.stateData.column3.table_left.dataFull.Header.data[1],s=0;this.stateData.column3.table_left_data.forEach(()=>{!0===i.data.value&&(this.stateData.column3.table_left_data[s].data[1].value=!1),s++}),i.data.value=!1},this.onClickAssignLeftRow=e=>{this.callAPI("user_profile_user_in_role",e.value).then(e=>{var t;let a=(null===e||void 0===e||null===(t=e.user_profile_user_in_role)||void 0===t?void 0:t.data)||[];this.setState({table_user_profile_user_in_role:a})})},this.onClickAssignLeftToRight=e=>{let t=this.state.column3_role_right_select.roleid,a=this.state.O9_Roles_User_assignment_table_right;for(let i=0;i<a.length;i++){if(a[i].usrcd===e.usrcd)return}""!==t&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:t,data:[{usrid:e.usrid}]}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:t}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.showToast("Save",!1)})},this.onClickAssignRightToLeft=e=>{let t=this.refs.ref_assignment_list_role_name_right.value;""!==t&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:-t,data:[{usrid:e.usrid}]}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:t}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.showToast("Save",!1)})},this.onClickAssignRightToLeftArray=e=>{let t=this.stateData.column3.table_right_data.filter(e=>!0===e.data[1].value).map(e=>e.data[1].dataItem.value),a=this.state.column3_role_right_select.roleid;this.unCheck_user_assign_table_right=!0,""!==a&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:-a,data:t}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:a}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):(this.showToast("Save",!1),this.setState({jwebuiAutoReload:!0}))});let i=this.stateData.column3.table_right.dataFull.Header.data[1],s=0;this.stateData.column3.table_right_data.forEach(()=>{!0===i.data.value&&(this.stateData.column3.table_right_data[s].data[1].value=!1),s++}),i.data.value=!1},this.onChangeUserAgm=(e,t)=>{switch(e.type){case"left":if(e.id===this.state.column3_role_right_select.roleid)break;this.callAPI("O9_Roles_User_assignment_table",{roleid:e.id}).then(t=>{let a=this.state.O9_RolesUser_assignment_Role_Name_Left.filter(t=>t.roleid===e.id),i=t.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_left:i,column3_role_left_select:a[0]})});break;case"right":if(e.id===this.state.column3_role_left_select.roleid)break;this.callAPI("O9_Roles_User_assignment_table",{roleid:e.id}).then(t=>{let a=this.state.O9_RolesUser_assignment_Role_Name_Right.filter(t=>t.roleid===e.id),i=t.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:i,column3_role_right_select:a[0]})})}},this.renderInvokeLimit=()=>s.a.createElement("div",{className:"tab-content tab-pane fade in active"},s.a.createElement("div",{className:"col-md-12 col-lg-3"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},s.a.createElement("div",{className:"check-list"},s.a.createElement("ul",{className:"list-unstyled"},this.state.O9_Roles_Invoke_limit_menu.map(e=>s.a.createElement("li",{key:e.roleid+"",className:"cashflowTextClick",onClick:()=>{this.onClickMenuInvokeLimit(e)}},s.a.createElement("span",null,s.a.createElement("i",{className:"fa fa-angle-right fa-lg text-default","aria-hidden":"true"})),s.a.createElement("span",{ref:"ref_menu_invoke",value:e.rolename,style:e.rolename===this.state.O9_Roles_Invoke_limit_menu_select.rolename?{fontWeight:"bold"}:{}},e.rolename)," "))))))),s.a.createElement("div",{className:"col-md-12 col-lg-9"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},s.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-12 col-lg-6"},s.a.createElement("div",{className:"check-box"},s.a.createElement("div",{className:"checkbox"},s.a.createElement("label",null,s.a.createElement("input",{type:"checkbox",defaultChecked:!0,disabled:!0}),s.a.createElement("span",{className:"mrgn-l-xs display-ib"},"Auto Save"))))),s.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},s.a.createElement("table",{className:"table table-hover table-bordered "},s.a.createElement("thead",null,s.a.createElement("tr",{className:"bg-primary"},this.state.header_table_currency.map(e=>s.a.createElement("th",{key:e.title},e.title)))),s.a.createElement("tbody",null,this.state.O9_Roles_InvokeLimit_Table.map((e,t)=>s.a.createElement("tr",{key:t},this.state.header_table_currency.map(e=>this.renderItemTableInvokeLimit(this.state.O9_Roles_InvokeLimit_Table,t,e))))))))))),this.onChangeCurrency=e=>{e||0===e||(e="");let t=(e=String(e)).replace(/,/g,"");return t.length>16&&(t=t.slice(t.length-16,t.length)),Object(W.a)(t,2)},this.getValueCurrency=e=>void 0===e||null===e||""===e?"":Number(e.replace(/,/g,"")),this.renderItemTableInvokeLimit=(e,t,a)=>{let i=e[t];return"text"===a.type?s.a.createElement("td",{key:a.code+t},i[a.code]||""):s.a.createElement("td",{key:a.code+t},s.a.createElement("input",{className:"RoleUserinputTable",value:i[a.code]||"",onChange:i=>{let s=i.target.value?this.onChangeCurrency(i.target.value):"";e[t][a.code]=s,this.setState({O9_Roles_InvokeLimit_Table:e})},onBlur:e=>{this.callAPI("O9_Roles_InvokeLimit_Table_Change_save",{roleid:this.state.O9_Roles_Invoke_limit_menu_select.roleid,data:[{roleid:this.state.O9_Roles_Invoke_limit_menu_select.roleid,txcode:i.cmdid,ccrcd:a.code,amt:e.target.value?this.onChangeCurrency(e.target.value):null}]}).then(e=>{if(1===e.O9_Roles_InvokeLimit_Table_Change_save[0].type){this.showToast("Save",!0);var t=[{txcode:"bo-autoRole-FormFO",input:{}}];t[0].input=Object.assign(t[0].input,{}),Object(T.b)(t,{})}})}}))},this.saveInvokeTable=()=>{},this.onClickMenuInvokeLimit=e=>{let t=e.dataFull.dataItem;this.callAPI("O9_Roles_InvokeLimit_Table",t).then(e=>{void 0===e&&(e=[]);let a=e.O9_Roles_InvokeLimit_Table;this.setState({O9_Roles_Invoke_limit_menu_select:t,Invoke_role_selected:t.roleid},()=>{this.reloadTableInvokeLimit(a)})})},this.reloadTableInvokeLimit=e=>{for(const t of this.state.header_table_currency)if("text"!==t.type)for(let a of e)a[t.code]=this.convertCurrency(a[t.code]);this.setState({O9_Roles_InvokeLimit_Table:e})},this.renderApproveLimit=()=>s.a.createElement("div",{className:"tab-content tab-pane fade in active"},s.a.createElement("div",{className:"col-md-12 col-lg-3"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},s.a.createElement("div",{className:"check-list"},s.a.createElement("ul",{className:"list-unstyled"},this.state.O9_Roles_Approve_limit_menu.map(e=>s.a.createElement("li",{key:e.roleid,className:"cashflowTextClick",onClick:()=>{this.onClickMenuApproveLimit(e)}}," ",s.a.createElement("span",null,s.a.createElement("i",{className:"fa fa-angle-right fa-lg text-default","aria-hidden":"true"})),s.a.createElement("span",{style:e.rolename===this.state.O9_Roles_Approve_limit_menu_select.rolename?{fontWeight:"bold"}:{}},e.rolename)," "))))))),s.a.createElement("div",{className:"col-md-12 col-lg-9"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},s.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-12 col-lg-6"},s.a.createElement("div",{className:"check-box"},s.a.createElement("div",{className:"checkbox"},s.a.createElement("label",null,s.a.createElement("input",{type:"checkbox",defaultChecked:!0,disabled:!0}),s.a.createElement("span",{className:"mrgn-l-xs display-ib"},"Auto Save"))))),s.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},s.a.createElement("table",{className:"table table-hover table-bordered "},s.a.createElement("thead",null,s.a.createElement("tr",{className:"bg-primary"},this.state.header_table_currency.map(e=>s.a.createElement("th",{key:e.title},e.title)))),s.a.createElement("tbody",null,this.state.O9_Roles_ApproveLimit_Table.map((e,t)=>s.a.createElement("tr",{key:t},this.state.header_table_currency.map(e=>this.renderItemTableApproveLimit(this.state.O9_Roles_ApproveLimit_Table,t,e))))))))))),this.onClickMenuApproveLimit=e=>{e=e.dataFull.dataItem,this.callAPI("O9_Roles_ApproveLimit_Table",e).then(t=>{if(t){let a=t.O9_Roles_ApproveLimit_Table;for(const e of this.state.header_table_currency)if("text"!==e.type)for(let t of a)t[e.code]=this.convertCurrency(t[e.code]);this.setState({O9_Roles_ApproveLimit_Table:a,O9_Roles_Approve_limit_menu_select:e,Approve_role_selected:e.roleid})}})},this.renderItemTableApproveLimit=(e,t,a)=>{let i=e[t];return"text"===a.type?s.a.createElement("td",{key:a.code+t},i[a.code]||""):s.a.createElement("td",{key:a.code+t},s.a.createElement("input",{className:"RoleUserinputTable",value:i[a.code]||"",onChange:i=>{let s=this.onChangeCurrency(i.target.value);e[t][a.code]=s,this.setState({O9_Roles_ApproveLimit_Table:e})},onBlur:e=>{this.callAPI("O9_Roles_ApproveLimit_Table_Change_save",{roleid:this.state.O9_Roles_Approve_limit_menu_select.roleid,data:[{roleid:this.state.O9_Roles_Approve_limit_menu_select.roleid,txcode:i.cmdid,ccrcd:a.code,amt:this.getValueCurrency(e.target.value)}]}).then(e=>{1===e.O9_Roles_ApproveLimit_Table_Change_save[0].type&&this.showToast("Save",!0)})}}))},this.onClickTreeMenuInvokeApprove=(e,t)=>{t=t.dataItem;let a=this.state.menu_invoke_aprrove;t.isOpen=!t.isOpen;let i=[],s=[];this.callAPI("O9_Roles_InvokeApprove_Table_header",t).then(e=>{i=[{cmdid:"0",caption:"Role Name"},{cmdid:"0",caption:"Self Invoke"}],i=i.concat(e.O9_Roles_InvokeApprove_Table_header),i=i.filter(e=>null!=e.cmdid),this.callAPI("O9_Roles_InvokeApprove_Table_body",t).then(e=>{s=e.O9_Roles_InvokeApprove_Table_body,this.setState({menu_invoke_aprrove:a,O9_Roles_InvokeApprove_Table_body:s,O9_Roles_InvokeApprove_Table_header:i,menu_invoke_aprrove_select:t})})})},this.removeRoleName=()=>{let e=this.state.role_name_copying_selected;""!==e&&this.callAPI("O9_Roles_User_Add_and_remove_delete",{roleid:e}).then(e=>{let t=e.O9_Roles_User_Add_and_remove_delete;1===t[0].type?(this.callAPI("O9_Roles_Add_and_Remove_Role_Name").then(e=>{let t=e.O9_Roles_Add_and_Remove_Role_Name;this.setState({O9_Roles_Add_and_Remove_Role_Name:t,isAdd_add_and_remove:!1,isDelete_add_and_remove:!1,delete_err:"",role_name_copying_selected:""})}),this.showToast("Save",!0)):(this.showToast(e.O9_Roles_User_Add_and_remove_delete[0].message,!1),this.setState({delete_err:t[0].message||""}))})},K=Object(d.b)("jwebui_roleProfile"),this.key_form="015003003",this.state={menu_parent_select:"ADM - Roles Profile",menu_select:"column1","column3.role_choose_right":"","column3.role_choose_left":"","column2.role_name_copying":"",column3_role_left_select:0,role_name_adding_input:"",role_name_copying_selected:"",isLoading:!0,visibility:"",data:this.props.data,infoA:{title:"ADM - Roles Profile",des:"ADM - Roles Profile",openOne:"true",ofModal:!1},addAndRemove_btnSaveClick:!0,menu_invoke_aprrove:[],O9_Roles_InvokeApprove_Table_header:[],O9_Roles_InvokeApprove_Table_body:[],menu_invoke_aprrove_select:{},O9_Roles_Add_and_Remove_Role_Name:[],O9_Roles_Add_and_Remove_Role_Name_select:"",O9_Roles_User_assignment_table_left:[],O9_Roles_User_assignment_table_right:[],O9_RolesUser_assignment_Role_Name_Left:[],O9_RolesUser_assignment_Role_Name_Right:[],user_assignment_select:"",O9_Roles_Invoke_limit_menu:[],O9_Roles_Invoke_limit_menu_select:{},O9_Roles_Approve_limit_menu:[],O9_Roles_Approve_limit_menu_select:{},O9_Roles_InvokeLimit_Table:[],O9_Roles_ApproveLimit_Table:[],table_user_profile_user_in_role:[],header_table_currency:[{title:"Group",code:"module",type:"text"},{title:"Caption",code:"tranname",type:"text"},{title:"USD",code:"USD"},{title:"KHR",code:"KHR"},{title:"EUR",code:"EUR"},{title:"JPY",code:"JPY"},{title:"THB",code:"THB"},{title:"HKD",code:"HKD"},{title:"MYR",code:"MYR"},{title:"SGD",code:"SGD"},{title:"LAK",code:"LAK"},{title:"CNY",code:"CNY"},{title:"VND",code:"VND"}]},this.menu_form=[{title:"Roles Profile",child:["Invoke - Aprrove","Add - Remove","User Assignment"]},{title:"Invoke Limit",child:[]},{title:"Approve Limit",child:[]}],this.user_profile=n.g.context_get("user_acc"),this.stateData={form:{dataFull:{config:{default:{title:"ADM - Roles Profile"}},cmd:{visibility:""}}},tab:{data:[{id:"column1",title:"Role Profile - Invoke - Approve",isShow:!0},{id:"column2",title:"Role Profile - Add - Remove"},{id:"column3",title:"Role Profile - User - Assignment"},{id:"column4",title:"Invoke Limit"},{id:"column5",title:"Approve Limit"}],abs_select:(e,t)=>{this.setState({menu_select:t})}},column1:{tree_data:{tree_data:[],config:{open_one:!0,is_has_dom:!0,noBorder:!0}},title_table_up:"OPEARTION",table_up:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1}}}},table_up_data:[],table_up_config:[],title_table_down:"VERIFICATION",table_down:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1}}}},table_down_data:[],table_down_config:[]},column4:{auto_save:{dataFull:{value:!0,dataItem:{}},abs_Click:this.test},listItem:[],table:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{maxHeight:!0,noHeader:!1}}}},table_data:[],table_config:[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}}]},column5:{auto_save:{dataFull:{value:!0,dataItem:{}},abs_Click:this.test},listItem:[],table:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{maxHeight:!0,noHeader:!1}}}},table_data:[],table_config:[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}}]},column2:{role_name_adding:{dataFull:{config:{default:{title:"Role Name (for adding)",type:"text",class:"col-sm-5",code_form_component:"role_name_adding"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:e=>{this.CheckAddRoleName(e)}},listButton:[{dataFull:{config:{default:{title:"Add",icon:"add_circle_outline"}}},abs_Click:()=>{this.setState({addAndRemove_btnAddClick:!0})}},{dataFull:{config:{default:{title:"Delete",icon:"highlight_off"}}},abs_Click:this.removeRoleName},{dataFull:{config:{default:{title:"Save",type:"primary",icon:"check_circle_outline"},cmd:{}}},abs_Click:this.AddRoleName}],role_name_copying:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"Role Name (for copying or deleting)",type:"text",class:"col-sm-5",code_form_component:"role_name_copying"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},data:[],input_value:"123",search_value:""},abs_Change:this.abs_role_name_copying_select,abs_search:e=>{this.onSearch(e,"column2.role_name_copying")}}},column3:{table_in_role:{dataFull:{Header:{data:[{title:"No.",config:{width:"50px",isFrozen:!1}},{title:"User Code",config:{width:"",isFrozen:!1}},{title:"User Name",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1}}}},table_in_role_data:[{data:[{data:"2"},{data:"ACT Manager"},{data:"abc@gmail.com"}],config:{value:!1}}],table_in_role_config:[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}],user_assignment:{title:"User assignment"},user_in_role:{title:"User in role"},role_choose_left:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"rrrrrrr",type:"text",class:"col-md-12",code_form_component:"language_default"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}},mode:{noTitle:!0}},data:[{title:"Viet Nam",value:"123",selected:!0},{title:"New acc",value:"1234"},{title:"New aa",value:"12345"},{title:"New pub",value:"122"}],search_value:""},abs_Change:this.onChangeUserAgm,abs_search:e=>{this.onSearch(e,"column3.role_choose_left")}},role_choose_right:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"rrrrrrr",type:"text",class:"col-md-12",code_form_component:"language_default"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}},mode:{noTitle:!0}},data:[{title:"Viet Nam",value:"123",selected:!0},{title:"New acc",value:"1234"},{title:"New aa",value:"12345"},{title:"New pub",value:"122"}],search_value:""},abs_Change:this.onChangeUserAgm,abs_search:e=>{this.onSearch(e,"column3.role_choose_right")}},preview:{dataFull:{config:{default:{title:"",type:"",icon:"keyboard_arrow_left"}}},abs_Click:this.abs_Click_previous},preview_all:{dataFull:{config:{default:{icondouble:"keyboard_arrow_left"}}},abs_Click:this.abs_Click_previous_all},next_all:{dataFull:{config:{default:{type:"",icondouble:"keyboard_arrow_right"}}},abs_Click:this.abs_Click_next_all},next:{dataFull:{config:{default:{type:"",icon:"keyboard_arrow_right"}}},abs_Click:this.abs_Click_next},table_left:{dataFull:{Header:{data:[{title:"No.",config:{width:"50px",isFrozen:!1}},{title:"",data:{value:!1,abs_Click:this.abs_CheckAll_left},config:{hasCheck:!0,width:"",isFrozen:!1}},{title:"User Code",config:{width:"",isFrozen:!1}},{title:"User Name",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{height:"520px",noHeader:!1}}}},table_left_data:[{data:[{data:"2"},{value:!1,abs_Click:this.abs_Ckeck},{data:"ACT Manager"},{data:"abc@gmail.com"}],config:{value:!1}}],table_left_config:[{type:"uTableColumnDefault",config:{mode:"center",isFrozen:!1}},{type:"uTableColumnCheckbox"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}],table_right:{dataFull:{Header:{data:[{title:"Role name",config:{width:"50px",isFrozen:!1}},{title:"",data:{value:!1,abs_Click:this.abs_CheckAll_right},config:{hasCheck:!0,width:"",isFrozen:!1}},{title:"User code",config:{width:"",isFrozen:!1}},{title:"User Name",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{height:"520px",noHeader:!1}}}},table_right_data:[{data:[{data:"1"},{value:!1,abs_Click:this.abs_Ckeck},{data:"ACT Manager"},{data:"ACT Manager"}],config:{value:!0}}],table_right_config:[{type:"uTableColumnDefault",config:{mode:"center",isFrozen:!1}},{type:"uTableColumnCheckbox"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}]}}}async componentDidMount(){n.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),n.g.form_addMapping(this.key_form,this.props.mapping_key),await this.callAPI("O9_Roles_InvokeApprove_Menu").then(e=>{let{O9_Roles_InvokeApprove_Menu:t}=e||[];this.setState({menu_invoke_aprrove:t})});let e=[],t=[{roleid:0,rolename:"All"}],a=[],i=[],s=[];await this.callAPI("O9_Roles_Add_and_Remove_Role_Name").then(t=>{e=t.O9_Roles_Add_and_Remove_Role_Name}),await this.callAPI("O9_RolesUser_assignment_Role_Name_Left").then(e=>{t=t.concat(e.O9_RolesUser_assignment_Role_Name_Left)}),await this.callAPI("O9_RolesUser_assignment_Role_Name_Right").then(e=>a=e.O9_RolesUser_assignment_Role_Name_Right),t.length>0&&await this.callAPI("O9_Roles_User_assignment_table",{roleid:0}).then(e=>{i=e.O9_Roles_User_assignment_table}),a.length>0&&await this.callAPI("O9_Roles_User_assignment_table",a[0]).then(e=>{s=e.O9_Roles_User_assignment_table}),this.setState({role_left:t[0],column3_role_right_select:a[0],column3_role_left_select:t[0],column2_role_select:e[0],O9_Roles_Add_and_Remove_Role_Name:e,O9_RolesUser_assignment_Role_Name_Left:t,O9_RolesUser_assignment_Role_Name_Right:a,O9_Roles_User_assignment_table_left:i,O9_Roles_User_assignment_table_right:s,O9_Roles_Invoke_limit_menu:e,O9_Roles_Approve_limit_menu:e,isLoading:!1},()=>{})}render(){return s.a.createElement("div",{style:{display:this.state.visibility}},s.a.createElement(K,{stateData:this.stateData}))}convertCurrency(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e||0===e||(e=""),e=String(e);let t=e.replace(/,/g,"");return Object(W.a)(t,2)}reloadTableWithMenuInvokeApprove(){let e=this.state.menu_invoke_aprrove_select,t=[];this.callAPI("O9_Roles_InvokeApprove_Table_body",e).then(e=>{t=e.O9_Roles_InvokeApprove_Table_body,this.setState({O9_Roles_InvokeApprove_Table_body:t})})}}var X=Z,$=a(11);const ee={a:/[a-zA-Z]/,9:/\d/,"*":/./,_:/[a-zA-Z\d]/,".":/./,0:/\d/,z:/[a-zA-Z]/},te={0:{status:!0,reg_remove:/[^\d/]/g},z:{status:!0,reg_remove:/[^a-zA-Z]/g},".":{status:!0,reg_remove:""}},ae={"-":".{100}"},ie=e=>ee[e],se=e=>{let t=e[0];return te[t]},oe=(e,t)=>{let a=[];const i=/(\\.|.)/g;let s;for(;null!==(s=i.exec(e));){s.index===i.lastIndex&&i.lastIndex++;const e=s[0],o=1===e.length?"regex":"const";let l={type:o,key:e};"regex"===o?ie(e)?(l.reg=ie(e),l.value="_"):"date"===t&&/[^/:]/.test(e)?(l.reg=ie("9"),l.value=e):(l.value=e,l.type="const"):l.value=e[1],a.push(l)}return a},le=(e,t)=>{let a="";for(const i of e)a+="date"===t?i.key:i.value;return a},ne=(e,t)=>{let a="";for(const i of e)a+=i.key;return a},re=(e,t,a)=>{if(!e||!t||!a)return"";let i="";if(!e)return"";switch(a){case"default":for(const s in t){let a=e[s];if("regex"===t[s].type){if(!1===t[s].reg.test(a))return"";i+=a}}break;case"date":let a=le(t);i=Object(V.a)(e,a),Object(V.b)(i,a)!==e&&(i="");break;default:i=e}return i||""},ce=(e,t,a)=>{if(!e||!t||!a)return"";let i="";switch(a){case"default":let a=0;for(const o in t)if("regex"===t[o].type){if(!e[a]||!t[o].reg.test(e[a]))return"";i+=e[a],a++}else i+=t[o].value;break;case"date":let s=le(t);i=Object(V.b)(e,s);break;default:i=e}return i||""},de=(e,t,a,i)=>{let s=re(e,t,a);return(null===i||void 0===i?void 0:i.length)?ce(s,i,a):s},me=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=e;(null===i||void 0===i?void 0:i.length)&&(s=re(e,i,a));let o=ce(s,t,a);return o},ue=()=>["SUN","MON","TUE","WED","THU","FRI","SAT"].map((e,t)=>({title:e,type:"gray"})),he=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getMonth()+1;const t=["January","February","March","April","May","June","July","August","September","October","November","December"];return t.map((t,a)=>({title:t,selected:e-1===a}))},ge=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1900,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2100,a=[];if(e<=t)for(let i=e;i<=t;i++)a.push(i);return a},_e=e=>{let t=new Date(e).getMonth()+1,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];(e=>e%400===0||e%100!==0&&e%4===0)(new Date(e).getFullYear())&&a[2]++;let i=[];for(let s=1;s<=a[t];s++)i.push(s);return i},pe=e=>{e||(e=Date.parse(new Date));let t=new Date(e),a=new Date(Object($.c)(e,{M:-1})),i=new Date(Object($.c)(e,{M:1})),s=Date.parse(a),o=Date.parse(i),l=_e(s),n=_e(e),r=_e(o),c=new Date(t.getFullYear(),t.getMonth(),1),d=new Date(t.getFullYear(),t.getMonth(),n.length),m=l.slice(l.length-c.getDay(),l.length),u=r.slice(0,6-d.getDay()),h=m.map(e=>{let i=String(e),o="gray",l=new Date(s).setDate(e);return e===t.getDate()&&a.getMonth()===t.getMonth()&&a.getFullYear()===t.getFullYear()&&(o="primary"),{title:i,type:o,value:l}}),g=n.map(a=>{let i=String(a),s="",o=new Date(e).setDate(a);return a===t.getDate()&&(s="primary"),{title:i,type:s,value:o}}),_=u.map(e=>{let a=String(e),s="gray",l=new Date(o).setDate(e);return e===t.getDate()&&i.getMonth()===t.getMonth()&&i.getFullYear()===t.getFullYear()&&(s="primary"),{title:a,type:s,value:l}}),p=h.concat(g);return p=p.concat(_),p};class fe extends i.Component{constructor(e){super(e),this.BuildPropsDefault=e=>{const{name:t,code:a,mask_format:i}=e,s=e.mask_mode||"default",o=e.data_default||"",l=e.request||!1;return{default:{name:t,code:a,class:e.class||""},config:{data_default:o,mask_format:i,mask_data_format:"",value_type:"all",mask_mode:s},validate:{request:l},lang:{}}},this.getComponentContructor=(e,t)=>{let a=this.buildPropsSmooth(t);return{props_smooth:a,state_smooth:this.buildStateSmooth(a)}},this.buildPropsSmooth=e=>{let t=n.g.cloneJson(e);t.config=e.config;let a=(e=>{let t=e,a=n.g.getlistCodeContext(e);for(const i of a){let e=n.g.context_get(i.code)||"";t=t.replace(i.key,e),"number"===typeof e&&(t=Number(t))}return t})(t.config.data_default);var i;return a=(e=>{let t=e;let a=/libDate_cal\((.*),(.*)\)/gm.exec(t);if(null!==a)try{t=Object($.c)(Number(a[1]),JSON.parse(a[2]))}catch(i){}return t})(a),void 0!==a&&null!==a||(a=""),t.config.data_default=a,t.config.mask_format=(i=t.config.mask_format,ae[i]||i),t.config.mask_format=(e=>{for(const t in ee){let a,i=new RegExp(`\\${t}{(\\d+)}`,"g");for(;null!==(a=i.exec(e));){a.index===i.lastIndex&&i.lastIndex++;let s="";for(let e=0;e<Number(a[1]);e++)s+=t;e=e.replace(a[0],s)}}return e})(t.config.mask_format),t},this.buildStateSmooth=e=>{const t=e.config;let a=oe(t.mask_format,t.mask_mode),i=oe(t.mask_data_format,t.mask_mode),s=le(a,t.mask_mode),o=t.mask_mode,l={status:!1,reg_remove:""};if((e=>{var t;if(!e)return!1;let a=e[0],i=new RegExp(a,"g");return!0===(null===(t=se(a))||void 0===t?void 0:t.status)&&e.match(i).length===e.length})(t.mask_format)){let e=se(t.mask_format);void 0!==e&&(l.status=e.status,l.reg_remove=e.reg_remove)}const r=s,c=Date.parse(new Date);let d={mounth_data:he(),year_data:ge(),day_data:ue(),day_of_mounth_data:pe(c,c),date_view:c};return{value_type:t.value_type||"all",error_input:!1,lang_select:n.g.getLangKey(),component_title:e.default.name||"",CMD:{},value:"",mask_value:"",date_selected_cache:0,mask_mode:o,mask_format:r,mask_regs:a,mask_regs_to:i,mask_placeholder:s,free_style:l,date_picker:d}},this.getInfoErrror=()=>{var e;const{help_mess:t}=this.state;return t?{info:this.getErrorLang(this.state.help_mess),key:(null===(e=this.state.lang)||void 0===e?void 0:e[this.props_smooth.default.name])||this.props_smooth.default.name,infoComponent:this.props_smooth.default}:""},this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props_smooth.infoView,default:this.props_smooth.default,layout:this.props_smooth.infoLayout,block:e.block}},this.getDataOOP=(e,t)=>this.data_select,this.getAdvanced=(e,t)=>this.maskInputGet(),this.setAdvanced=(e,t)=>{if(e.codeHidden){if(e.codeHidden===this.props_smooth.default.codeHidden&&(this.data_select=t,void 0!==this.data_select)){if(void 0!==this.props_smooth.config.data_view)var a="";void 0!==this.props_smooth.config.data_value&&(a=n.g.getOOP(this.data_select,this.props_smooth.config.data_value.trim())+""),this.maskInputSet(a,"enter_tab")}}else e.list_component&&(null!==t&&void 0!==t||(t=""),this.maskInputSet(t,"on_change"))},this.get=()=>this.maskInputGet(),this.set=e=>{this.maskInputSet(e,"on_change")},this.reload=(e,t)=>{const a=this.props_smooth.config;this.data_select={},this.maskInputSet(a.data_default)},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.maskInputSet=(e,t,a,i)=>{const{mask_regs:s,mask_regs_to:o,mask_mode:l}=this.state;let n={end_pos:0,start_pos:0,help_mess:"",mask_value:"",value:e},r=me(e,s,l,o);"date"===l&&(n.date_picker=(e=>{e||(e=Date.parse(new Date));const t=new Date(e);return{mounth_data:he(t.getMonth()+1),year_data:ge(),day_data:ue(),day_of_mounth_data:pe(e),date_view:e}})(e),Number(e)&&(r=me(Number(e),s,l,[]))),n.mask_value=r,n=Object.assign(n,i),this.setStateLogic(n,()=>{a&&a()})},this.maskInputGet=()=>{const{mask_regs:e,mask_regs_to:t,mask_value:a,mask_mode:i}=this.state;let s="";return this.state.free_style.status?a:(s=de(a,e,i,"date"===i?[]:t),s)},this.maskInputClear=()=>{this.data_select={},this.setStateLogic({end_pos:0,start_pos:0,value:"",mask_value:"",help_mess:""},()=>{})},this.maskInputValidate=()=>{const{mask_value:e}=this.state;let t="",a=this.maskInputGet();return t=e&&!this.maskInputGet()?"jMaskInput_WrongFormat":function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=[{title:"@VALUE",value:t},{title:"@NOW",value:Date.parse(new Date)},{title:"@YEAR",value:31536e6.toString()},{title:"@MOUNTH",value:2592e6.toString()},{title:"@DAY",value:864e5.toString()},{title:"@HOURS",value:36e5.toString()},{title:"@MINUTE",value:6e4.toString()},{title:"@SECONDS",value:1e3.toString()}];for(const i of e){let{content:e,mess:t}=i;for(const i of a)e=e.replace(new RegExp(i.title,"g"),i.value);if(console.log("content",e),!1===n.g.checkDynamicConditionNoData(e))return t}return""}(this.props_smooth.validate.conditions,a),t},this.abs_calendar_changeMonth=e=>{const t=this.maskInputGet()||Date.parse(new Date),a=Object($.c)(t,{M:e});this.maskInputSet(a)},this.abs_calendar_submit=e=>{let t=this.state.date_picker.day_of_mounth_data[e].value;this.maskInputSet(t)},this.abs_calendar_chooseYear=e=>{const t=this.maskInputGet()||Date.parse(new Date),a=new Date(t).setFullYear(e);this.maskInputSet(a)},this.abs_calendar_changeYear=e=>{},this.abs_calendar_chooseMonth=e=>{const t=e,a=this.maskInputGet()||Date.parse(new Date),i=new Date(a).setMonth(t);this.maskInputSet(i)},this.abs_calendar_openCalendar=()=>{let e=this.maskInputGet();e&&this.maskInputSet(e,"","",{date_selected_cache:e})},this.abs_calendar_KeyUp=e=>{const t=this.maskInputGet()||Date.parse(new Date);let a,i=this.state.date_selected_cache;switch(e.key){case"ArrowLeft":a=Object($.c)(t,{d:-1}),this.maskInputSet(a);break;case"ArrowRight":a=Object($.c)(t,{d:1}),this.maskInputSet(a);break;case"ArrowUp":a=Object($.c)(t,{d:-7}),this.maskInputSet(a);break;case"ArrowDown":a=Object($.c)(t,{d:7}),this.maskInputSet(a);break;case"Enter":a=t,this.maskInputSet(a),this.ref_maskinput.current.abs_CloseCalendar();break;case"Escape":Number(i)!==Number(this.maskInputGet())?this.maskInputSet(i):this.ref_maskinput.current.abs_CloseCalendar()}},this.abs_calendar_today=()=>{const e=Date.parse(new Date);this.maskInputSet(e)},this.onEventKey=e=>{switch(e.key){case"Delete":this.maskInputClear()}this.state.mask_mode},this.onClick=e=>{},this.onBlur=()=>{this.maskInputValidate()&&this.maskInputSet("")},this.setLastPost=e=>{let t=e.target;this.state.start_pos=t.selectionStart,this.state.end_pos=t.selectionEnd},this.setPos=(e,t)=>{this.countInterVal=0,this.interValSetTimeOut&&(clearInterval(this.interValSetTimeOut),this.countInterVal=0),this.interValSetTimeOut=setTimeout(()=>{e.selectionStart=t,e.selectionEnd=t,this.countInterVal+=2},2),this.countInterVal>300&&this.interValSetTimeOut&&clearInterval(this.interValSetTimeOut)},this.onChangeMaskInput=e=>{let{start_pos:t,mask_value:a,mask_regs:i,mask_placeholder:s}=this.state;const o=e.target;let l=o.selectionStart,n=o.value||"";const r=this.state.free_style;if(r.status)return n=n.replace(r.reg_remove,""),n=n.slice(0,i.length),void this.setStateLogic({mask_value:n});let c=n.slice(t,l)||"",d=0,m="",u=n.slice(0,l);for(let h=l;h<s.length;h++)h<l+(s.length-n.length)?u+=s[h]:u+=a[h]||s[h];a=u;for(const h in i){const e=i[h];"regex"===e.type||"const"===e.type&&e.value===c[d]?t<=h&&d<c.length?("const"===e.type&&e.value===c[d]||e.reg.test(c[d])?m+=c[d]||e.value:(m+=e.value,l--),d++):m+=a[h]||s[h]:(m+=e.value,t<=h&&d<c.length&&l++)}m===s&&(m=""),this.setStateLogic({mask_value:m},()=>{this.setPos(o,l)})},this.getErrorLang=e=>{switch(e){case"validateNumMin":return n.g.getLang(e).replace("{count}",this.state.validate.min);case"validateNumMax":return n.g.getLang(e).replace("{count}",this.state.validate.max);case"validateRequest":default:return n.g.getLang(e)}},this.getDataFullLogic=()=>Object(r.a)(Object(r.a)({},this.getConfigTemplate()),{},{abs_Change:this.onChangeMaskInput,abs_Blur:this.onBlur,abs_Click:this.onClick,abs_KeyDown:this.setLastPost,abs_KeyUp:this.onEventKey,abs_MouseUp:this.setLastPost}),this.setStateLogic=(e,t)=>{this.prevStateLogic=n.g.cloneJson(this.state),this.state=Object.assign(this.state,e),t&&t(),this.props.abs_update&&this.props.abs_update()},this.prop_default=this.BuildPropsDefault(e),this.propertyConstructor={},this.data_debug={},this.app_debug=[],this.state={is_lookup:!1,is_error:!1,is_clicked:!1,help_mess:"",lang_select:"",title:"",CMD:{},end_pos:-1,start_pos:0,_type:"",value:"",mask_value:"",mask_format:"",mask_placeholder:"",mask_mode:"default",mask_regs:[],mask_regs_to:[],free_style:{status:!1,reg_remove:""},date_picker:{mounth_data:[],year_data:[],day_data:[],day_of_mounth_data:[],date_view:Date.parse(new Date)},date_selected_cache:0},this.ref_maskinput=s.a.createRef();const t=this.getComponentContructor({},this.prop_default);this.state=Object.assign(this.state,t.state_smooth),this.props_smooth=t.props_smooth}getConfigTemplate(){console.log(" this.maskInputValidate()",this.maskInputValidate());const{date_picker:e}=this.state;return{abs_ClickIcon:()=>{this.modalToggle()},config:{default:{subTitle_isShow:"date"===this.state.mask_mode,subTitle:`(${this.state.mask_placeholder})`,placeholder:this.state.CMD.disabled+""==="true"?" ":ne(this.state.mask_regs,this.props_smooth.config.mask_mode),title:this.props_smooth.default.name,type:"",class:this.props_smooth.default.class,required:this.props_smooth.validate.request,icon:""},cmd:{disable:"true"===String(this.state.CMD.disabled),visible:!0,error:{message:this.state.help_mess,type:""}},mode:{textAlign:"left",letterSpacing:"M"}},valueTitleHover:"true"!==String(this.state.CMD.disabled)?"":this.state.mask_value,value:this.state.mask_value,cmd:{isLock:!1},calendar_data:{value_current:"",today:{title:"Today"},config:{days_title:e.day_data},list_months:e.mounth_data,list_years:{value:new Date(e.date_view).getFullYear()||"",data:e.year_data},list_days:e.day_of_mounth_data},abs_calendar_changeMonth:this.abs_calendar_changeMonth,abs_calendar_submit:this.abs_calendar_submit,abs_calendar_chooseYear:this.abs_calendar_chooseYear,abs_calendar_changeYear:this.abs_calendar_changeYear,abs_calendar_chooseMonth:this.abs_calendar_chooseMonth,abs_calendar_openCalendar:this.abs_calendar_openCalendar,abs_calendar_today:this.abs_calendar_today,abs_calendar_KeyUp:this.abs_calendar_KeyUp}}}var ve=fe;let be;class ye extends i.Component{constructor(e){var t;super(e),this.changeKeyLanguage=e=>{let t={title_:n.g.getLang("importDataFiles_title"),des_:n.g.getLang("importDataFiles_des"),date_from:n.g.getLang("importDataFiles_dateFrom"),date_to:n.g.getLang("importDataFiles_dateTo"),file_id:n.g.getLang("importDataFiles_id"),date:n.g.getLang("importDataFiles_date"),user_id:n.g.getLang("importDataFiles_userID"),file_name:n.g.getLang("importDataFiles_fileName"),status:n.g.getLang("importDataFiles_status"),processed:n.g.getLang("importDataFiles_processed"),size:n.g.getLang("importDataFiles_size"),lines:n.g.getLang("importDataFiles_lines"),messages:n.g.getLang("importDataFiles_messages"),file_type:n.g.getLang("importDataFiles_fileType"),btn_delete:n.g.getLang("importDataFiles_btnDelete"),btn_save:n.g.getLang("importDataFiles_btnSave"),btn_import:n.g.getLang("importDataFiles_btnImport"),btn_refresh:n.g.getLang("importDataFiles_btnRefresh"),tab_info:n.g.getLang("importDataFiles_tabInfo"),tab_import:n.g.getLang("importDataFiles_tabImport"),file_info:n.g.getLang("importDataFiles_fileInfo")};if(void 0!==e)return t;let a=this.state.infoA;a.title=n.g.getLang("importDataFiles_title"),a.des=n.g.getLang("importDataFiles_des"),a.lang_form.vi=n.g.getLang("importDataFiles_title"),a.lang_form.en=n.g.getLang("importDataFiles_title"),this.setState({languages:t,infoA:a})},this.UNSAFE_componentWillUpdate=(e,t)=>{var a;this.stateData.dateFrom.dataFull.value=t.dateFrom,this.stateData.dateTo.dataFull.value=t.dateTo,t.file_selected.length>0&&(this.stateData.valueDataFile={data:!0===t.save_click?{status:{title:"Status",value:"Imported"},file_name:{title:"File Name",value:t.file_selected[0].name},file_size:{title:"File Size",value:t.file_selected[0].size},url:t.file_selected[0].name}:{status:{title:"Status",value:""},file_name:{title:"File Name",value:t.file_selected[0].name},file_size:{title:"File Size",value:t.file_selected[0].size},url:t.file_selected[0].name}}),t.O9_admin_import_file_table!==this.state.O9_admin_import_file_table&&(this.stateData.table_data_fileimport=t.O9_admin_import_file_table.map(e=>[{type:"uTableColumnDefault",dataFull:{title_parent:"Full Name",data:this.convertCurrency(e.servertime),config:{mode:"left",isFrozen:!1}}},{type:"uTableColumnDefault",dataFull:{title_parent:"Email",data:Object(V.b)(e.idate,this.dateFormat),config:{mode:"left",isFrozen:!1}}},{type:"uTableColumnDefault",dataFull:{title_parent:"Email",data:e.lgname,config:{mode:"left",isFrozen:!1}}},{type:"uTableColumnDefault",dataFull:{title_parent:"Email",data:e.name,config:{mode:"left",isFrozen:!1}}},{type:"uTableColumnAction",dataFull:{data:-1===e.status?{title:"Error",type:"danger"}:{title:"Success",type:"success"},config:{isFrozen:!1}}},{type:"uTableColumnDefault",dataFull:{title_parent:"Email",data:e.isprocessed,config:{mode:"left",isFrozen:!1}}},{type:"uTableColumnDefault",dataFull:{title_parent:"Email",data:this.convertCurrency(e.filesize),config:{mode:"left",isFrozen:!1}}},{type:"uTableColumnDefault",dataFull:{title_parent:"Email",data:e.lineinput,config:{mode:"left",isFrozen:!1}}},{type:"uTableColumnDefault",dataFull:{title_parent:"Email",data:e.msg,config:{mode:"left",isFrozen:!1}}},{type:"uTableColumnDefault",dataFull:{title_parent:"Email",data:e.filetype,config:{mode:"left",isFrozen:!1}}}])),this.stateData.table_fileimport.dataFull.dataEmpty={isShow:!(null===(a=t.O9_admin_import_file_table)||void 0===a?void 0:a.length),title:n.g.getLang("header_searchNoResult")}},this.callAPI=(e,t)=>{var a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(T.b)(a,{}).then(e=>n.g.foGetData("data",e))},this.showToast=(e,t)=>{var a={};switch(t){case!0:a={class_:"success",icon:"fa fa-check",title:e+" successfully",time:(new Date).getTime()+"",description:e+" Successfully",data:{},action:{}};break;case!1:a={class_:"error",icon:"fa fa-check",title:e+" error",time:(new Date).getTime()+"",description:e+" error",data:{},action:{}}}n.g.pushNotify("notifyToast",a,{}),n.g.callAllScreenListen()},this.toBase64=e=>new Promise((t,a)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>t(i.result),i.onerror=e=>a(e)}),this.abs_btn_refresh=()=>{let e=Object(V.b)(this.LogicDate_from.get(),this.dateFormat),t=Object(V.b)(this.LogicDate_to.get(),this.dateFormat);this.callAPI("O9_admin_import_file_table",{datefrom:e,dateto:t}).then(e=>{e&&this.setState({O9_admin_import_file_table:e.O9_admin_import_file_table||[]})})},this.abs_btn_import=e=>{var t;let a=e.target.files,i=this.state.file_selected;a.length>0&&(i=a),this.stateData.btnImport.dataFull.config.default.att_content=(null===(t=i)||void 0===t?void 0:t.length)?"":"No file choose",this.setState({file_selected:i,save_click:!1})},this.abs_date_from=e=>{this.stateData.dateFrom.dataFull=this.LogicDate_from.getDataFullLogic(),this.setState({dateFrom:this.stateData.dateFrom.dataFull.value})},this.abs_date_to=e=>{this.stateData.dateTo.dataFull=this.LogicDate_to.getDataFullLogic(),this.setState({dateTo:this.stateData.dateTo.dataFull.value})},this.abs_btn_save=async()=>{let e=this.state.file_selected;e.length>0&&Object(T.a)(e[0]).then(e=>{e&&7===e.status?this.callAPI("O9_admin_import_file_save",{filename:e.name}).then(e=>{this.showToast("Import",!0)}):this.showToast("Import",!1),setTimeout(()=>{let e=Object(V.b)(this.state.dateFrom,this.dateFormat),t=Object(V.b)(this.state.dateTo,this.dateFormat);this.callAPI("O9_admin_import_file_table",{datefrom:e,dateto:t}).then(e=>{e&&this.setState({O9_admin_import_file_table:e.O9_admin_import_file_table||[]})})},1e3)},e=>{}),this.setState({save_click:!0})},this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})},be=Object(d.b)("O9_ImportDataFile");let a=this.changeKeyLanguage("start");this.user_info=n.g.context_get("user_acc"),this.dateFormat=n.g.getParameterSystem("DATE_FORMAT"),this.LogicDate_from=new ve({abs_update:this.abs_date_from,name:"From",code:"from",mask_format:"DD/MM/YYYY",mask_mode:"date",class:"col-md-6"}),this.LogicDate_to=new ve({abs_update:this.abs_date_to,name:"To",code:"To",mask_format:"DD/MM/YYYY",mask_mode:"date",class:"col-md-6"}),this.key_form="015001005",this.state={visibility:"",working_date_long:this.user_info.workingdate,data:this.props.data||[],languages:a,dateFrom:Object(V.b)(this.user_info.workingdate,this.dateFormat),dateTo:Object(V.b)(this.user_info.workingdate,this.dateFormat),tab_active:1,infoA:{lang_form:{vi:n.g.getLang("importDataFiles_title"),en:n.g.getLang("importDataFiles_title")},title:"ADM - Import data files",des:"Data files management",openOne:"true",form_code:this.key_form,ofModal:!1},save_click:!1,file_selected:[],O9_admin_import_file_table:[]},this.stateData={form:{title:"ADM - Import data file"},table_fileimport:{dataFull:{Header:{data:[{title:"File ID",config:{width:"",isFrozen:!1}},{title:"Date",config:{width:"",isFrozen:!1}},{title:"User ID",config:{width:"",isFrozen:!1}},{title:"File name",config:{width:"",isFrozen:!1}},{title:"Status",config:{width:"",isFrozen:!1}},{title:"Processed",config:{width:"",isFrozen:!1}},{title:"Size",config:{width:"",isFrozen:!1}},{title:"Lines",config:{width:"",isFrozen:!1}},{title:"Messages",config:{width:"",isFrozen:!1}},{title:"Type",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1},height:"300px"}}},table_data_fileimport:[],delete:{dataFull:{config:{default:{title:"Delete",type:"submit",class:"",icon:"delete"},cmd:{visible:!1}}},abs_Click:this.abs_Click},tab_importdata:[{title:"General information",id:"1"},{title:"Import files",id:"2"}],dateFrom:{dataFull:this.LogicDate_from.getDataFullLogic()},dateTo:{dataFull:this.LogicDate_to.getDataFullLogic()},save:{dataFull:{config:{default:{title:"Save",type:"default",class:"",icon:"save"}}},abs_Click:this.abs_btn_save},refresh:{dataFull:{config:{default:{title:"Refresh",type:"submit",class:"",icon:"delete"}}},abs_Click:this.abs_btn_refresh},uPagination:{number_show:2,result_total:500,mode:{noJumpPage:!0},paging_record:[{number:5,selected:!0},{number:10},{number:15},{number:50}]},importFile:{dataFull:{config:{default:{title:"Save",type:"default",class:"col-md-2",icon:"save"}}}},valueDataFile:{data:{status:{title:"Status",value:""},file_name:{title:"File Name",value:"YEN"},file_size:{title:"File Size",value:"6202 Bytes"},url:""}},uForm:{dataFull:{config:{default:{title:"",title_sub:""}},cmd:{visibility:""}}},btnImport:{dataFull:{config:{default:{att_content:(null===(t=this.state.file_selected)||void 0===t?void 0:t.length)?"":"No file choose",title:"Import File"}},abs_Change:this.abs_btn_import}}}}convertCurrency(e){if(void 0===e||null===e||""===e)return"";let t=Number(e);return Number.isNaN(t)?"":t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}render(){return s.a.createElement("div",{style:{display:this.state.visibility}},s.a.createElement(be,{stateData:this.stateData,dataFull:this.state}))}componentDidMount(){n.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),n.g.form_addMapping(this.key_form,this.props.mapping_key),this.LogicDate_from.set(this.user_info.workingdate),this.LogicDate_to.set(this.user_info.workingdate),this.callAPI("O9_admin_import_file_table").then(e=>{e&&this.setState({O9_admin_import_file_table:e.O9_admin_import_file_table||[]})})}}var De=ye;class Ae extends i.Component{constructor(e){super(e),this.onClickModify=()=>{this.setState({modify:!this.state.modify}),this.disable=!this.disable},this.getConfigButtonModify=e=>({dataFull:{config:{default:{title:e,type:"",class:"",icon:"search"},cmd:{disable:!this.disable}},dataItem:{test:"321"}},abs_Click:this.onClickModify}),this.onChangeItemTable=(e,t,a,i)=>{let s=this.onChangeCurrency(e.target.value+""),o=t.type,l=this.state.O9_foreign_exchange_rate_table;l[a][o]=s,this.setState({O9_foreign_exchange_rate_table:l})},this.componentDidMount=()=>{this.loadBaseTableData(),this.loadLocalTableData(),this.loadLastUpdate(),this.loadLastUpdateLocal(),n.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),n.g.form_addMapping(this.key_form,this.props.mapping_key)},this.loadLastUpdate=()=>{this.callAPI("O9_foreign_exchange_rate_last_update").then(e=>{e&&this.setState({last_update:Object(V.b)(Number.parseInt(e),this.dateFormat)})})},this.loadLastUpdateLocal=()=>{this.callAPI("O9_foreign_exchange_rate_last_update_local").then(e=>{e&&this.setState({last_update_local:Object(V.b)(Number.parseInt(e),this.dateFormat)})})},this.loadBaseTableData=()=>{let e=[];this.callAPI("O9_foreign_exchange_rate_table").then(t=>{if(t){e=t.O9_foreign_exchange_rate_table||[];let a=["bk_rate","tb_rate","ta_rate","ca_rate","cb_rate","cm_rate","cs_rate","in_rate","jp_rate"];for(const t of e)for(const e of a)t[e]=this.convertCurrency(t[e]);this.setState({O9_foreign_exchange_rate_table:e})}})},this.loadLocalTableData=()=>{let e=[];this.callAPI("O9_foreign_exchange_rate_local_table").then(t=>{if(t){e=t.O9_foreign_exchange_rate_local_table||[];let a=["bk_rate","tb_rate","ta_rate","ca_rate","cb_rate","cm_rate","cs_rate","in_rate","jp_rate"];for(const t of e)for(const e of a)t[e]=this.convertCurrency(t[e]);this.setState({O9_foreign_exchange_rate_local_table:e})}})},this.changeKeyLanguage=e=>{let t={title_:n.g.getLang("foreignExchangeRate_title"),des_:n.g.getLang("foreignExchangeRate_des"),btn_save:n.g.getLang("foreignExchangeRate_btnSave"),btn_modifiy:n.g.getLang("foreignExchangeRate_btnModify"),tab_base:n.g.getLang("foreignExchangeRate_tabBase"),tab_local:n.g.getLang("foreignExchangeRate_tabLocal"),currency_code:n.g.getLang("foreignExchangeRate_currencyCode"),currency_shortID:n.g.getLang("foreignExchangeRate_currencyShortID"),rate:n.g.getLang("foreignExchangeRate_rate"),last_update:n.g.getLang("foreignExchangeRate_lastUpdate"),last_update_local:n.g.getLang("foreignExchangeRate_lastUpdateLocal")};if(void 0!==e)return t;let a=this.state.infoA;a.title=n.g.getLang("foreignExchangeRate_title"),a.des=n.g.getLang("foreignExchangeRate_des"),a.lang_form.vi=n.g.getLang("foreignExchangeRate_title"),a.lang_form.en=n.g.getLang("foreignExchangeRate_title"),this.setState({languages:t,infoA:a})},this.callAPI=(e,t)=>{var a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(T.b)(a,{}).then(e=>n.g.foGetData("data",e))},this.onChangeCurrency=e=>{let t=e.split(".");return void 0===t[0]&&(t[0]="0"),void 0===t[1]&&(t[1]="0"),t[0]=t[0].replace(/[^\d]/gm,""),t[1]=t[1].replace(/[^\d]/gm,""),this.convertCurrency(t[0]+"."+t[1])},this.getValueCurrency=e=>{let t=e.split(".");return void 0===t[0]&&(t[0]="0"),void 0===t[1]&&(t[1]="0"),t[0]=t[0].replace(/[^\d]/gm,""),t[1]=t[1].replace(/[^\d]/gm,""),Number(t[0]+"."+t[1])},this.onClickSave=()=>{const e=this.state.O9_foreign_exchange_rate_table;let t=[];for(const a of e){let e=[{ccrcd:a.ccrcd,rttype:"BK",bcyrate:a.bk_rate},{ccrcd:a.ccrcd,rttype:"TB",bcyrate:a.tb_rate},{ccrcd:a.ccrcd,rttype:"TA",bcyrate:a.ta_rate},{ccrcd:a.ccrcd,rttype:"CA",bcyrate:a.ca_rate},{ccrcd:a.ccrcd,rttype:"CB",bcyrate:a.cb_rate},{ccrcd:a.ccrcd,rttype:"CM",bcyrate:a.cm_rate},{ccrcd:a.ccrcd,rttype:"CS",bcyrate:a.cs_rate},{ccrcd:a.ccrcd,rttype:"IN",bcyrate:a.in_rate},{ccrcd:a.ccrcd,rttype:"JP",bcyrate:a.jp_rate}];t=t.concat(e)}this.callAPI("O9_foreign_exchange_rate_table_save",{data:t}).then(e=>{if(e&&e.O9_foreign_exchange_rate_table_save&&e.O9_foreign_exchange_rate_table_save.ID){this.showToast("Save",!0);let e=[];this.callAPI("O9_foreign_exchange_rate_table").then(t=>{if(t){e=t.O9_foreign_exchange_rate_table||[];let a=["bk_rate","tb_rate","ta_rate","ca_rate","cb_rate","cm_rate","cs_rate","in_rate","jp_rate"];for(const t of e)for(const e of a)t[e]=this.convertCurrency(t[e]);this.setState({O9_foreign_exchange_rate_table:e})}}),this.setState({is_disable:!0,isUpdate:!0,modify:!1}),this.disable=!0,setTimeout(()=>{this.setState({isUpdate:!1})},1e3)}else this.showToast("Save",!1)})},this.showToast=(e,t)=>{var a={};switch(t){case!0:a={class_:"success",icon:"fa fa-check",title:e+" successfully",time:(new Date).getTime()+"",description:e+" Successfully",data:{},action:{}};break;case!1:a={class_:"error",icon:"fa fa-check",title:e+" error",time:(new Date).getTime()+"",description:e+" error",data:{},action:{}};break;case"error":a={class_:"error",icon:"fa fa-check",title:e,time:(new Date).getTime()+"",description:e,data:{},action:{}}}n.g.pushNotify("notifyToast",a,{}),n.g.callAllScreenListen()},this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})};let t=this.changeKeyLanguage("start");this.dateFormat=n.g.getParameterSystem("DATE_FORMAT"),this.formRender=Object(d.b)("O9_ForeignExchangeRate"),this.key_form="015003011",this.disable=!0,this.stateData={form:{config:{default:{title:t.title_,title_sub:""}},cmd:{visibility:""}},save_rate:{dataFull:{config:{default:{title:t.btn_save,type:"submit",class:"",icon:"save"},cmd:{disable:!0}},dataItem:{test:"123"}},abs_Click:this.onClickSave},modify_rate:this.getConfigButtonModify(t.btn_modifiy),dateTimeUpdate:{title:t.last_update,date:""},last_update_local:{title:t.last_update_local,date:""},tab:[{title:t.tab_base,id:"1"},{title:t.tab_local,id:"2"}],table:{dataFull:{Header:{data:[{title:"Currency code",config:{width:"",isFrozen:!1}},{title:"Short ID",config:{width:"",isFrozen:!1}},{title:"BK rate",config:{width:"",isFrozen:!1}},{title:"TB rate",config:{width:"",isFrozen:!1}},{title:"TA rate",config:{width:"",isFrozen:!1}},{title:"CA rate",config:{width:"",isFrozen:!1}},{title:"CB rate",config:{width:"",isFrozen:!1}},{title:"CS rate",config:{width:"",isFrozen:!1}},{title:"IN rate\t",config:{width:"",isFrozen:!1}},{title:"JP rate",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1}}},config:{mode:{noHeader:!1}}}},table_config:[{type:"uTableColumnDefault",config:{mode:"left"}},{type:"uTableColumnDefault",config:{mode:"right"}},{type:"uTableColumnDefault",config:{mode:"right"}},{type:"uTableColumnDefault",config:{mode:"right"}},{type:"uTableColumnDefault",config:{mode:"right"}},{type:"uTableColumnDefault",config:{mode:"right"}},{type:"uTableColumnDefault",config:{mode:"right"}},{type:"uTableColumnDefault",config:{mode:"right"}},{type:"uTableColumnDefault",config:{mode:"right"}},{type:"uTableColumnDefault",config:{mode:"right"}}],table_local:{dataFull:{Header:{data:[{title:"Currency code",config:{width:"",isFrozen:!1}},{title:"Short ID",config:{width:"",isFrozen:!1}},{title:"BK rate",config:{width:"",isFrozen:!1}},{title:"TB rate",config:{width:"",isFrozen:!1}},{title:"TA rate",config:{width:"",isFrozen:!1}},{title:"CA rate",config:{width:"",isFrozen:!1}},{title:"CB rate",config:{width:"",isFrozen:!1}},{title:"CS rate",config:{width:"",isFrozen:!1}},{title:"IN rate",config:{width:"",isFrozen:!1}},{title:"JP rate",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1}}},config:{mode:{noHeader:!1}}}},table_local_config:[{type:"uTableColumnDefault",config:{mode:"left"}},{type:"uTableColumnDefault",config:{mode:"right"}},{type:"uTableColumnEditInput"},{type:"uTableColumnEditInput"},{type:"uTableColumnEditInput"},{type:"uTableColumnEditInput"},{type:"uTableColumnEditInput"},{type:"uTableColumnEditInput"},{type:"uTableColumnEditInput"},{type:"uTableColumnEditInput"}],table_data:this.getConfigTableData([]),table_local_data:[]},this.state={visibility:"",languages:t,tab_active:1,is_disable:!0,modify:!1,infoA:{lang_form:{vi:n.g.getLang("foreignExchangeRate_title"),en:n.g.getLang("foreignExchangeRate_title")},title:"Foreign exchange rate",des:"Data files management",openOne:"true",form_code:this.key_form,ofModal:!1},O9_foreign_exchange_rate_table:[],O9_foreign_exchange_rate_local_table:[],last_update:"",isUpdate:!1,last_update_local:""}}getConfigTableData(e){return e.map((e,t)=>this.getEachDataRowConfig(e,t))}getEachDataRowConfig(e,t){return[{data:e.ccrcd},{data:e.shrtid},{data:e.bk_rate,isUpdate:this.state.isUpdate,cmd:{disable:this.disable},dataItem:{type:"bk_rate"},abs_Change:this.onChangeItemTable},{data:e.tb_rate,isUpdate:this.state.isUpdate,cmd:{disable:this.disable},dataItem:{type:"tb_rate"},abs_Change:this.onChangeItemTable},{data:e.ta_rate,isUpdate:this.state.isUpdate,cmd:{disable:this.disable},dataItem:{type:"ta_rate"},abs_Change:this.onChangeItemTable},{data:e.ca_rate,isUpdate:this.state.isUpdate,cmd:{disable:this.disable},dataItem:{type:"ca_rate"},abs_Change:this.onChangeItemTable},{data:e.cb_rate,isUpdate:this.state.isUpdate,cmd:{disable:this.disable},dataItem:{type:"cb_rate"},abs_Change:this.onChangeItemTable},{data:e.cs_rate,isUpdate:this.state.isUpdate,cmd:{disable:this.disable},dataItem:{type:"cs_rate"},abs_Change:this.onChangeItemTable},{data:e.in_rate,isUpdate:this.state.isUpdate,cmd:{disable:this.disable},dataItem:{type:"in_rate"},abs_Change:this.onChangeItemTable},{data:e.jp_rate,isUpdate:this.state.isUpdate,cmd:{disable:this.disable},dataItem:{type:"jp_rate"},abs_Change:this.onChangeItemTable}]}UNSAFE_componentWillUpdate(e,t){var a;this.stateData.table.dataFull.dataEmpty={isShow:!(null===(a=t.O9_foreign_exchange_rate_table)||void 0===a?void 0:a.length),title:n.g.getLang("header_searchNoResult")},this.stateData.table_data=this.getConfigTableData(t.O9_foreign_exchange_rate_table),0===this.state.O9_foreign_exchange_rate_local_table.length&&t.O9_foreign_exchange_rate_local_table.length>0&&(this.stateData.table_local_data=this.getConfigTableData(t.O9_foreign_exchange_rate_local_table)),this.stateData.modify_rate=this.getConfigButtonModify(this.state.languages.btn_modifiy),this.stateData.save_rate.dataFull.config.cmd.disable=this.disable,this.state.last_update!==t.last_update&&(this.stateData.dateTimeUpdate.date=t.last_update),this.state.last_update_local!==t.last_update_local&&(this.stateData.last_update_local.date=t.last_update_local),this.stateData.form.config.default.title=this.state.languages.title_,this.stateData.save_rate.dataFull.config.default.title=this.state.languages.btn_save,this.stateData.tab[0].title=this.state.languages.tab_base,this.stateData.tab[1].title=this.state.languages.tab_local}convertCurrency(e){if(void 0===e||null===e||""===e)return"";let t=Number(e);return Number.isNaN(t)?"":t.toFixed(6).replace(/\d(?=(\d{3})+\.)/g,"$&,")}render(){const e=this.formRender;return"none"===this.state.visibility?null:s.a.createElement("div",null,s.a.createElement(e,{stateData:this.stateData}))}}var Ce=Ae;class Ne extends i.Component{constructor(e){super(e),this.dateFormat=n.g.getParameterSystem("DATE_FORMAT"),this.MediaDetail=Object(d.b)("O9_FormMediaDetail"),this.MediaConfig=this.getDefaultConfig(e.data),this.state={}}UNSAFE_componentWillUpdate(e){this.MediaConfig="",console.log("?>>>",this.MediaConfig)}render(){const e=this.MediaDetail,t=this.getDefaultConfig(this.props.data);return console.log("stateData",t),s.a.createElement(e,t)}getModalTitle(){let{customerType:e}=this.props.data;switch(e){case"C":return"Customer Information";case"G":return"Group Information";case"L":return"Signature Viewer";default:return""}}getRefTypeData(e){return[{title:"Single customer",value:"C"},{title:"Group of customer",value:"G"},{title:"Customer linkage",value:"L"}].map((t,a)=>Object(r.a)(Object(r.a)({},t),{},{selected:t.value===e}))}getComponentsInfomation(e,t){switch(e){case"C":return[{key:"Customer Code",value:t.CD},{key:"Full Name",value:t.FN},{key:"DOB",value:null!==t.DOB?Object(V.b)(new Date(t.DOB).getTime(),this.dateFormat):null},{key:"Address",value:t.ADD},{key:"Identification",value:t.RID}];case"G":return[{key:"Group Code",value:t.CD},{key:"Group Name",value:t.GN},{key:"Group Type",value:t.GT},{key:"Description",value:t.DESC}];case"L":return[{key:"Linkage Code",value:t.CD},{key:"Master Code",value:t.MC},{key:"Master Name",value:t.MN},{key:"Description",value:t.DESC}];default:return n.g.isDebug()&&console.log('Get Components information !== "C", "G" and "L"'),[]}}getDefaultConfig(e){if(void 0!==e&&void 0!==e.INFO){let t={};return e.INFO.length>0&&(t=e.INFO[0]),{modal:{title:this.getModalTitle(),visibility:!0,abs_Close:this.props.closeModal},data_info:{valueModal:{dataFull:{data:this.getComponentsInfomation(e.customerType,t)}}},stateData:e.MEDIA.map(e=>({img_form:{title:e.FN,link:this.isImage(e.MCS)?"data:image/png;base64,"+e.MCS:void 0},code:{dataFull:{config:{default:{title:"Code",type:"text",class:"col-md-12"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:e.CC}},reference_type:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"Reference type",type:"text",class:"col-md-12"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},data:this.getRefTypeData(e.RT)}},expireDate:{dataFull:{config:{default:{placeholder:this.dateFormat,title:"Expire date",type:"text",class:"col-md-12"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},data:[],value:null!==e.ED?Object(V.b)(new Date(e.ED).getTime(),this.dateFormat):null}},other:{dataFull:{config:{default:{title:"Other",type:"text",class:"col-md-12"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:e.OT}}}))}}}isImage(e){let t=!1;try{t=btoa(atob(e))===e&&"/iR".includes(e[0])}catch(a){}return t}}var Me=Ne;class ke extends i.Component{constructor(e){super(e),this.absViewModifyExpire=e=>{let{viewModifyTabData:t}=this.state,a=this.logicViewModifyExpiredDate.getDataFullLogic();this.propsTemplate.stateData.expireDate.dataFull=this.logicImportExpiredDate.getDataFullLogic(),t.expireDate=a.value,this.setState({viewModifyTabData:t})},this.absImportExpire=e=>{let{importTabData:t}=this.state,a=this.logicImportExpiredDate.getDataFullLogic();this.propsTemplate.stateData.importDataFile.expireDate.dataFull=this.logicImportExpiredDate.getDataFullLogic(),t.expireDate=a.value,this.setState({importTabData:t})},this.absImportCode=e=>{let{importTabData:t}=this.state,a=this.logicImportCode.getDataFullLogic();t.code=a.value,this.setState({importTabData:t})},this.getDefaultPropsTemplate=()=>({stateData:{form:{title:"Media files"},search:{value:"",abs_Change:this.changeValueSearch,abs_search:this.onSearch},tab:{data:this.getTabDataConfig(this.tabIds.search),abs_select:this.clickTabHandler},importDataFile:this.getImportDataFileConfig(),approveTab:[],viewModifyTab:{isHasData:!1},table_config:this.getTableConfig(),table_header:this.getHeaderConfig(),table_data:[],img_form:{link:"",title:""},code:{dataFull:{config:{default:{title:"Code",type:"text",class:"col-md-12",code_form_component:"code"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:this.onInputChangeValue},reference_type:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"Reference type",type:"text",class:"col-md-12",code_form_component:"reference_type"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},data:this.getReferenceTypeData(this.referenceTypeData[0].value)},abs_Change:this.onChangeValueSelect},expireDate:{dataFull:this.logicViewModifyExpiredDate.getDataFullLogic()},other:{dataFull:{config:{default:{title:"Other",type:"text",class:"col-md-12",code_form_component:"other"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:this.onInputChangeValue},getInfo:{dataFull:{config:{default:{title:"Get information",type:"default",class:"col-sm-2"}}},abs_Click:this.onClickGetInfo},modify:{dataFull:{config:{default:{title:"Modify",type:"default",class:"col-sm-2"},cmd:{disable:!1,visible:!0}}},abs_Click:this.onClickModify},saveForm:{dataFull:{config:{default:{title:"Save",type:"submit",class:"col-sm-2"},cmd:{disable:!0,visible:!0}}},abs_Click:this.onClickSave}}}),this.changeValueSearch=e=>{this.setState({searchText:e.target.value})},this.onSearch=()=>{let e=this.state.searchText;this.callAPI("O9_media_file_table",{search_text:e}).then(e=>{let t=[];e&&(t=e.O9_media_file_table||[]),this.setState({O9_media_file_table:t,page_index:1,invokeSearch:!this.state.invokeSearch})})},this.changeKeyLanguage=e=>{let t={title_:n.g.getLang("customerMediaFiles_title"),des_:n.g.getLang("customerMediaFiles_des"),btn_search:n.g.getLang("customerMediaFiles_btnSearch"),btn_view:n.g.getLang("customerMediaFiles_btnView"),btn_modify:n.g.getLang("customerMediaFiles_btnModify"),btn_delete:n.g.getLang("customerMediaFiles_btnDelete"),btn_save:n.g.getLang("customerMediaFiles_btnSave"),btn_import:n.g.getLang("customerMediaFiles_btnImport"),btn_approve:n.g.getLang("customerMediaFiles_btnApprove"),customer_code:n.g.getLang("customerMediaFiles_ctmCode"),customer_type:n.g.getLang("customerMediaFiles_ctmType"),media_name:n.g.getLang("customerMediaFiles_mediaName"),status:n.g.getLang("customerMediaFiles_status"),media_type:n.g.getLang("customerMediaFiles_mediaType"),open_date:n.g.getLang("customerMediaFiles_openDate"),last_date:n.g.getLang("customerMediaFiles_lastDate"),expire_date:n.g.getLang("customerMediaFiles_expireDate"),other:n.g.getLang("customerMediaFiles_other"),code:n.g.getLang("customerMediaFiles_code"),reference_type:n.g.getLang("customerMediaFiles_refType"),get_info:n.g.getLang("customerMediaFiles_getInfo"),customer_info:n.g.getLang("customerMediaFiles_ctmInfo"),full_name:n.g.getLang("customerMediaFiles_fullName"),DOB:n.g.getLang("customerMediaFiles_DOB"),address:n.g.getLang("customerMediaFiles_address"),identification:n.g.getLang("customerMediaFiles_identification")};if(void 0!==e)return t;let a=this.state.infoA;a.title=n.g.getLang("customerMediaFiles_title"),a.des=n.g.getLang("customerMediaFiles_des"),a.lang_form.vi=n.g.getLang("customerMediaFiles_title"),a.lang_form.en=n.g.getLang("customerMediaFiles_title"),this.setState({languages:t,infoA:a})},this.abs_autoCallBackData=()=>{this.setState({record_index:this.state.record_index+5})},this.handleImageChange=e=>{e.preventDefault();let t=new FileReader,a=e.target.files[0];t.onloadend=()=>{let{importTabData:e}=this.state;e.file=a,e.fileName=a.name,e.fileType=a.type,e.img=t.result,this.setState({importTabData:e,isImported:!0})},t.readAsDataURL(a)},this.clickTabHandler=(e,t)=>{let a=[];t===this.tabIds.approve?this.setState({tab_active:t},()=>{this.callAPI("O9_media_file_approve_table_get").then(e=>{var t;void 0!==e&&(this.state.tab_active===this.tabIds.approve&&(a=(null===(t=e.O9_media_file_approve_table_get)||void 0===t?void 0:t.MEDIA)||[],this.setState({needApproveMedia:a})))})}):this.setState({tab_active:t,needApproveMedia:a})},this.onClickApproved=(e,t)=>{void 0!==t.MI&&this.callAPI("O9_media_file_approve_table_aprove",{mediaid:t.MI}).then(e=>{if(e&&0===e.O9_media_file_approve_table_aprove.r){this.showToast("Approve ",!0);let e=this.state.needApproveMedia.filter(e=>e.MI!==t.MI);this.setState({needApproveMedia:e})}})},this.onClickModify=()=>{this.setState({isClickModify:!0})},this.onClickSave=()=>{if(void 0!==this.state.viewModifyTabData){const e=this.state.viewModifyTabData;let t=null;void 0!==e.expireDate&&(t=Object(V.a)(e.expireDate,this.dateFormat));let a={mediaid:e.mediaid,date:t,other:e.other};this.callAPI("O9_media_save_modify",a).then(e=>{e?(this.showToast("Save",!0),this.setState({isClickModify:!1})):this.showToast("Save",!1)})}},this.onInputChangeValue=(e,t)=>{let a=e.target.value;if(this.state.tab_active===this.tabIds.import){let{importTabData:i}=this.state;if("code"===t&&(a=a.replace(/\D/g,""),a=a.substring(0,11),a===i[t]||""===a))return!1;i[t]=e.target.value,this.setState({importTabData:i})}else{let{viewModifyTabData:e}=this.state;e[t]=a,this.setState({viewModifyTabData:e})}},this.onChangeValueSelect=(e,t,a)=>{if(this.state.tab_active===this.tabIds.import){let{importTabData:t}=this.state;t[a]=e,this.setState({importTabData:t})}else{let{viewModifyTabData:t}=this.state;t[a]=e,this.setState({viewModifyTabData:t})}},this.callAPI=(e,t)=>{let a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(T.b)(a,{}).then(e=>n.g.foGetData("data",e))},this.onClickGetInfo=(e,t)=>{if(void 0!==t){let e={code:t.CC,type:t.RT};this.callAPI("O9_media_get_infomation",e).then(t=>{void 0!==t&&void 0!==t.O9_media_get_infomation&&this.setState({O9_media_get_infomation:Object(r.a)(Object(r.a)({},t.O9_media_get_infomation),{},{customerType:e.type})||{},openModal:!0})})}},this.onSaveImportFile=()=>{let{importTabData:e,isImported:t}=this.state;if(t&&""!==e.code){let t={CC:e.code.replace(/-/g,""),CD:this.user_info.workingdate,ED:Object(V.a)(e.expireDate,this.dateFormat),file_name:e.fileName,FT:this.getFileType(e.fileType),RT:e.reference_type,OT:e.other,MD:this.user_info.workingdate};Object(T.a)(e.file).then(a=>{this.callAPI("O9_media_file_import_save",t).then(t=>{t&&t.O9_media_file_import_save&&0===t.O9_media_file_import_save.r?(e=this.getImportTabDataDefault(),this.showToast("Import file",!0),this.setState({isImported:!1,importTabData:e})):t&&t.O9_media_file_import_save&&t.O9_media_file_import_save.m?this.showToast(t.O9_media_file_import_save.m,!1,!1):this.showToast("Import file",!1)}).catch(e=>{n.g.isDebug()&&console.log("err",e),this.showToast("Import file",!1)})},e=>{this.showToast("Import file",!1)})}},this.showToast=function(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i={},s=e;switch(t){case!0:a&&(s+=" successfully"),i={class_:"success",icon:"fa fa-check",title:s,time:(new Date).getTime()+"",description:s,data:{},action:{}};break;case!1:a&&(s+=" error"),i={class_:"error",icon:"fa fa-check",title:s,time:(new Date).getTime()+"",description:s,data:{},action:{}}}n.g.pushNotify("notifyToast",i,{}),n.g.pushNotify("notifyDefault",i,{}),n.g.callAllScreenListen()},this.removeItemTable=e=>{window.confirm("Are you sure you want delete this item")&&this.callAPI("O9_admin_import_file_table_delete",e).then(e=>{e?(this.showToast("Delete",!0),this.onSearch()):this.showToast("Delete",!1)})},this.pageIndexChange=e=>{this.setState({page_index:e})},this.pageRecordChange=e=>{this.setState({record_index:this.record[e],page_index:1})},this.getInfoMedia=e=>{this.callAPI("O9_media_file_view_media",e).then(e=>{if(e){let t=e.O9_media_file_view_media,a=null!==t.data.ED?Object(V.b)(new Date(t.data.ED).getTime(),this.dateFormat):"",{viewModifyTabData:i}=this.state;i.mediaid=t.data.MI,i.code=t.data.CC,i.reference_type=t.data.RT,i.expireDate=a,i.other=t.data.OT;let s=e.O9_media_file_view_media;this.setState({tab_active:this.tabIds.viewModify,O9_media_file_view_media:s,viewModifyTabData:i,isClickModify:!1})}})},this.closeModal=()=>{this.setState({openModal:!1})},this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})};let t=this.changeKeyLanguage("start");this.dateFormat=n.g.getParameterSystem("DATE_FORMAT"),this.customerCdFormat=n.g.getParameterSystem("MASK_CUSTOMERCD"),this.key_form="003005",this.MediaFileForm=Object(d.b)("O9_FormMedia"),this.record=[5,10,15,50],this.tabIds={search:"1",import:"2",approve:"3",viewModify:"4"},this.prefixImage="data:image/png;base64,",this.referenceTypeData=[{title:"Single customer",value:"C"},{title:"Group of customer",value:"G"},{title:"Customer linkage",value:"L"}],this.user_info=n.g.context_get("user_acc"),this.logicViewModifyExpiredDate=new ve({abs_update:this.absViewModifyExpire,name:"Expire Date",code:"expireDate",mask_format:this.dateFormat,mask_mode:"date",class:"col-md-12"}),this.logicImportExpiredDate=new ve({abs_update:this.absImportExpire,name:"Expire Date",code:"expireDate",mask_format:this.dateFormat,mask_mode:"date",class:"col-md-12"}),this.logicImportCode=new ve({abs_update:this.absImportCode,name:"Code",code:"code",mask_format:this.customerCdFormat,mask_mode:"default",value_type:"number",class:"col-md-12"}),this.propsTemplate=this.getDefaultPropsTemplate(),this.state={invokeSearch:!1,openModal:!1,searchText:"",visibility:"",data:this.props.data||[],languages:t,tab_active:this.tabIds.search,file:"",infoA:{lang_form:{vi:n.g.getLang("customerMediaFiles_title"),en:n.g.getLang("customerMediaFiles_title")},title:"Customer media files",des:"Customer media files",openOne:"true",form_code:this.key_form,ofModal:!1},O9_media_file_table:[],needApproveMedia:[],O9_media_file_view_media:void 0,O9_media_get_infomation:void 0,page_index:1,record_index:this.record[0],viewModifyTabData:{mediaid:"",code:"",reference_type:"C",expireDate:"",other:""},importTabData:this.getImportTabDataDefault(),isClickModify:!1,isImported:!1}}getImportTabDataDefault(){return{file:"",img:"",fileName:"",fileType:"",code:"",reference_type:"C",expireDate:"",other:""}}getImportDataFileConfig(){return{isImported:!1,file:{dataFull:{config:{default:{title:"Choose file",att_content:"No file choose",accept:".xlsx, application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint,text/plain, application/pdf, image/*,video/mp4,video/x-m4v,video/*"}},abs_Change:this.handleImageChange},handleImageChange:this.handleImageChange},img_form:{link:"",title:""},code:{dataFull:this.logicImportCode.getDataFullLogic()},reference_type:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"Reference type",type:"text",class:"col-md-12",code_form_component:"reference_type"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},data:this.getReferenceTypeData(this.referenceTypeData[0].value)},abs_Change:this.onChangeValueSelect},expireDate:{dataFull:this.logicImportExpiredDate.getDataFullLogic()},other:{dataFull:{config:{default:{title:"Other",type:"text",class:"col-md-12",code_form_component:"other"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:this.onInputChangeValue},getInfo:{dataFull:{config:{default:{title:"Get information",type:"default",class:"col-sm-2"}}},abs_Click:this.onClickGetInfo},saveForm:{dataFull:{config:{default:{title:"Save",type:"submit",class:"col-sm-2"}}},abs_Click:this.onSaveImportFile}}}getApproveTabConfig(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>({img_form:{link:this.getImageTemplate(e.MCS),title:e.FN},code:{dataFull:{config:{default:{title:"Code",type:"text",class:"col-md-12",code_form_component:"code"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:e.CC}},reference_type:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"Reference type",type:"text",class:"col-md-12",code_form_component:"reference_type"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},data:this.getReferenceTypeData(e.RT)}},expireDate:{dataFull:{config:{default:{placeholder:this.dateFormat,title:"Expire date",class:"col-md-12",icon:""},cmd:{disable:!0,visible:!0,error:{message:"",type:""}},mode:{textAlign:"right",letterSpacing:""}},data:[],value:null!==e.ED?Object(V.b)(new Date(e.ED).getTime(),this.dateFormat):""}},other:{dataFull:{config:{default:{title:"Other",type:"text",class:"col-md-12",code_form_component:"other"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:e.OT}},getInfo:{dataFull:{config:{default:{title:"Get information",type:"default",class:"col-sm-2"}},dataItem:e},abs_Click:this.onClickGetInfo},approve:{dataFull:{config:{default:{title:"Approve",type:"submit",class:"col-sm-2"}},dataItem:e},abs_Click:this.onClickApproved}}))}getTabDataConfig(e){return[{title:"Search",id:this.tabIds.search},{title:"Import",id:this.tabIds.import},{title:"Approve",id:this.tabIds.approve},{title:"View - Modify",id:this.tabIds.viewModify}].map(t=>Object(r.a)(Object(r.a)({},t),{},{isShow:t.id===e}))}getReferenceTypeData(e){return this.referenceTypeData.map((t,a)=>Object(r.a)(Object(r.a)({},t),{},{selected:t.value===e}))}getTableConfig(){return[{type:"uTableColumnButtonHover"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}]}getHeaderConfig(){return{dataFull:{Header:{data:[{title:"",config:{hasCheck:!1,width:"",isFrozen:!1}},{title:"Customer code",config:{width:"",isFrozen:!1}},{title:"Customer type",config:{width:"",isFrozen:!1}},{title:"Media name",config:{width:"",isFrozen:!1}},{title:"Status",config:{width:"",isFrozen:!1}},{title:"Media type",config:{width:"",isFrozen:!1}},{title:"Open date",config:{width:"",isFrozen:!1}},{title:"Last date",config:{width:"",isFrozen:!1}},{title:"Expire date",config:{width:"",isFrozen:!1}},{title:"Other",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1}}},config:{mode:{noHeader:!1}},uPagination:{number_show:0,result_total:0,paging_index:1,mode:{noJumpPage:!1},paging_record:this.getRecordPageConfig(this.record[0]),abs_PagingActive:this.pageIndexChange,abs_setRecordActive:this.pageRecordChange}}}}getDataTableConfig(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>({data:[{dataFull:{icon:"three-dot"},data:[{icon_item:"fa-eye",title:"View",dataItem:e,abs_Click:this.getInfoMedia},{icon_item:"fa-trash-o",title:"Delete",dataItem:e,abs_Click:this.removeItemTable}]},{data:Object(V.c)(e.customercd,this.customerCdFormat)},{data:e.reftypect},{data:e.mdname},{data:e.caption},{data:e.mdtype},{data:Object(V.b)(e.opndt,this.dateFormat)},{data:Object(V.b)(e.lastdt,this.dateFormat)},{data:Object(V.b)(e.expdt,this.dateFormat)},{data:e.other}],dataItem:e}))}UNSAFE_componentWillUpdate(e,t){if(this.propsTemplate.stateData.table_header.dataFull.dataEmpty={isShow:!0,title:n.g.getLang("header_searchNoResult")},this.propsTemplate.stateData.table_header.dataFull.abs_autoCallBackData=this.abs_autoCallBackData,t.tab_active!==this.state.tab_active)this.propsTemplate.stateData.tab.data=this.getTabDataConfig(t.tab_active);else if(t.record_index!==this.state.record_index||t.page_index!==this.state.page_index||t.invokeSearch!==this.state.invokeSearch){let e=this.getDataPaging(t.O9_media_file_table,t.record_index,t.page_index);this.propsTemplate.stateData.table_data=this.getDataTableConfig(e),this.propsTemplate.stateData.table_header.dataFull.uPagination.result_total=t.O9_media_file_table.length,this.propsTemplate.stateData.table_header.dataFull.uPagination.paging_index=t.page_index,this.propsTemplate.stateData.table_header.dataFull.dataEmpty={isShow:!(null===e||void 0===e?void 0:e.length),title:n.g.getLang("header_searchNoResult")},t.record_index!==this.state.record_index&&(this.propsTemplate.stateData.table_header.dataFull.uPagination.paging_record=this.getRecordPageConfig(t.record_index))}if(t.searchText!==this.state.searchText&&(this.propsTemplate.stateData.search.value=t.searchText),t.isClickModify!==this.state.isClickModify&&(this.propsTemplate.stateData.expireDate.dataFull.config.cmd.disable=!t.isClickModify,this.propsTemplate.stateData.other.dataFull.config.cmd.disable=!t.isClickModify,this.propsTemplate.stateData.saveForm.dataFull.config.cmd.disable=!t.isClickModify,this.propsTemplate.stateData.modify.dataFull.config.cmd.disable=t.isClickModify),t.isClickModify||(this.propsTemplate.stateData.expireDate.dataFull.config.cmd.disable=!0),t.isImported){let e={CC:t.importTabData.code,RT:t.importTabData.reference_type};this.propsTemplate.stateData.importDataFile.isImported=!0,this.propsTemplate.stateData.importDataFile.file.dataFull.config.default.att_content="",this.propsTemplate.stateData.importDataFile.getInfo.dataFull.dataItem=e,this.propsTemplate.stateData.importDataFile.img_form.link="img"===this.getFileType(t.importTabData.fileType)?t.importTabData.img:void 0,this.propsTemplate.stateData.importDataFile.img_form.title=t.importTabData.fileName}else this.propsTemplate.stateData.importDataFile.isImported=!1,this.propsTemplate.stateData.importDataFile.file.dataFull.config.default.att_content="No file choose";if(void 0!==t.O9_media_file_view_media&&(this.propsTemplate.stateData.viewModifyTab.isHasData=!0,this.propsTemplate.stateData.code.dataFull.value=t.viewModifyTabData.code,this.propsTemplate.stateData.reference_type.dataFull.data=this.getReferenceTypeData(t.viewModifyTabData.reference_type),this.propsTemplate.stateData.expireDate.dataFull.value=t.viewModifyTabData.expireDate,this.propsTemplate.stateData.other.dataFull.value=t.viewModifyTabData.other),t.tab_active===this.tabIds.import&&(this.propsTemplate.stateData.importDataFile.code.dataFull.value=t.importTabData.code,this.propsTemplate.stateData.importDataFile.reference_type.dataFull.data=this.getReferenceTypeData(t.importTabData.reference_type),this.propsTemplate.stateData.importDataFile.other.dataFull.value=t.importTabData.other,this.propsTemplate.stateData.importDataFile.expireDate.dataFull.value=t.importTabData.expireDate),t.tab_active===this.tabIds.approve&&(this.propsTemplate.stateData.approveTab=this.getApproveTabConfig(t.needApproveMedia)),t.O9_media_file_view_media!==this.state.O9_media_file_view_media){let e={CC:t.O9_media_file_view_media.data.CC,RT:t.O9_media_file_view_media.data.RT};this.propsTemplate.stateData.img_form.link=this.getImageTemplate(t.O9_media_file_view_media.data.MCS),this.propsTemplate.stateData.img_form.title=t.O9_media_file_view_media.data.IH,this.propsTemplate.stateData.getInfo.dataFull.dataItem=e}}getImageTemplate(e){return void 0!==e&&null!==e&&this.isImage(e)?`${this.prefixImage}${e}`:"../rs/global/img/default_img.svg"}getRecordPageConfig(e){return this.record.map(t=>({number:t,selected:e===t}))}getDataPaging(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=[],s=parseInt(t)*(a-1),o=s+parseInt(t)-1;for(let l=s;l<=o;l++)void 0!==e[l]&&i.push(e[l]);return i}getFileType(e){if("application/pdf"===e)return"pdf";if("text/plain"===e)return"txt";if(/image.*/.test(e))return"img";let t=e.split("/");return t.length>2?t[1]:t[0]}isImage(e){let t=!1;try{t=btoa(atob(e))===e&&"/iR".includes(e[0])}catch(a){}return t}render(){const e=this.MediaFileForm;return s.a.createElement("div",{style:{display:this.state.visibility}},this.state.openModal&&s.a.createElement(Me,{data:this.state.O9_media_get_infomation,closeModal:this.closeModal}),s.a.createElement(e,this.propsTemplate))}componentDidMount(){n.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),n.g.form_addMapping(this.key_form,this.props.mapping_key)}}var Ee=ke;let xe=void 0;class Ie extends i.Component{constructor(e){super(e),this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})},this.callAPI=(e,t)=>{var a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(T.b)(a,{}).then(e=>n.g.foGetData("data",e))},this.clickLevel2=()=>{this.callAPI("O9_cash_flow_treeview_lv2_table").then(e=>{if(void 0!==e){let t=e.O9_cash_flow_treeview_lv2_table.data;this.setState({table:t},()=>{this.getTreeLv3(this.state.tree_lv2)})}})},this.getTreeLv3=e=>{let t={O9_cash_flow_treeview_lv2:e[0]};this.callAPI("O9_cash_flow_treeview_lv3",t).then(e=>{let t=e||{};this.setState({tree_lv3:t.O9_cash_flow_treeview_lv3||[]})})},this.clickLevel3=(e,t)=>{this.callAPI("O9_cash_flow_treeview_lv3_table",{id:t.id}).then(e=>{if(e){let t=e.O9_cash_flow_treeview_lv3_table.data;this.setState({table:t})}})},xe=Object(d.b)("O9_CashFlow"),this.key_form="011001",this.stateData=this.getDataForm(),this.state={visibility:"",data:this.props.data,infoA:{title:"csh-Cash flow",des:"O9_cashFlow!",openOne:"true",ofModal:!1},tree_lv1:[],tree_lv2:[],tree_lv3:[],table:[]},this.user_profile=n.g.context_get("user_acc")}async componentDidMount(){n.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),n.g.form_addMapping(this.key_form,this.props.mapping_key),await this.callAPI("O9_cash_flow_treeview_lv1").then(e=>{let t=[];e&&(t=e.O9_cash_flow_treeview_lv1.filter(e=>e.id===this.user_profile.branchid)),this.setState({tree_lv1:t})}),await this.callAPI("O9_cash_flow_treeview_lv2").then(e=>{let t=[];e&&(t=e.O9_cash_flow_treeview_lv2.filter(e=>e.cd===this.user_profile.departmentcode)),this.setState({tree_lv2:t},()=>this.getTreeLv3(t))})}convertCurrency(e){let t=Number(e);return Number.isNaN(t)?e:e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}getDataForm(){return{form:{dataFull:{config:{default:{title:"Cash Flow"}},cmd:{visibility:""}}},tree_data:{tree_data:[],config:{open_one:!0,is_has_dom:!0,noBorder:!0}},table:{dataFull:{Header:{data:[{title:"Currency",config:{width:"",isFrozen:!1}},{title:"Opening balance",config:{width:"",isFrozen:!1}},{title:"Internal In",config:{width:"",isFrozen:!1}},{title:"Customer deposit",config:{width:"",isFrozen:!1}},{title:"Total In",config:{width:"",isFrozen:!1}},{title:"Internal Out",config:{width:"",isFrozen:!1}},{title:"Customer withdrawal",config:{width:"",isFrozen:!1}},{title:"Total out",config:{width:"",isFrozen:!1}},{title:"Closing balance",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1}}}},table_data:[],table_config:[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}}]}}getTreeData(e,t,a){let i=e.map(e=>({title:`${e.cd} - ${e.name}`,parent_id:"0",is_open:!1,DOM_elm:null,id:e.id,dataItem:{}}));return void 0!==t&&t.forEach(t=>{var a;i.push({title:`${t.cd} - ${t.name}`,parent_id:null===(a=e[0])||void 0===a?void 0:a.id,is_open:!1,DOM_elm:null,id:t.id,dataItem:{},abs_click:this.clickLevel2})}),void 0!==a&&a.forEach(e=>{var a;i.push({title:`${e.cd} - ${e.name}`,parent_id:null===(a=t[0])||void 0===a?void 0:a.id,is_open:!1,DOM_elm:null,id:e.id,dataItem:{},abs_click:this.clickLevel3})}),i}getTableData(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>[{data:e.ccrcd},{data:this.convertCurrency(e.bday)},{data:this.convertCurrency(e.itnin)},{data:this.convertCurrency(e.ctmcdp)},{data:this.convertCurrency(e["itnin+ctmcdp"])},{data:this.convertCurrency(e.itnout)},{data:this.convertCurrency(e.ctmwdr)},{data:this.convertCurrency(e["itnout+ctmwdr"])},{data:this.convertCurrency(e.eday)}])}UNSAFE_componentWillUpdate(e,t){this.stateData.tree_data.tree_data=this.getTreeData(t.tree_lv1,t.tree_lv2,t.tree_lv3),this.stateData.table_data=this.getTableData(t.table)}render(){return s.a.createElement("div",{style:{display:this.state.visibility}},s.a.createElement(xe,{stateData:this.stateData}))}}var Te=Ie;let we;class Oe extends i.Component{constructor(e){super(e),this.abs_role_name_copying_select=(e,t,a)=>{this.setState({role_name_copying_selected:e.roleid,column2_role_select:e})},this.abs_Ckeck_invoke_approve_verification=(e,t)=>{this.callAPI("O9_Roles_Invoke_approve_Table_Change_save_approve",{roleid:e.roleid,data:[{roleid:e.roleid,cmdid:e.parentid,cmdiddt:e.cmdiddt,invoke:!1===t?1:0}]}).then(e=>{let t=e.O9_Roles_Invoke_approve_Table_Change_save_approve;this.reloadTableWithMenuInvokeApprove(),1===t[0].type?this.showToast("Save",!0):this.showToast("Error",!0)})},this.abs_Ckeck_invoke_approve_operation=(e,t)=>{this.callAPI("O9_Roles_Invoke_approve_Table_Change_save",{roleid:e.roleid,data:[{roleid:e.roleid,cmdid:e.parentid,cmdiddt:e.cmdiddt,invoke:!1===t?1:0}]}).then(e=>{let t=e.O9_Roles_Invoke_approve_Table_Change_save;this.reloadTableWithMenuInvokeApprove(),1===t[0].type?this.showToast("Save",!0):this.showToast("Error",!0)})},this.UNSAFE_componentWillUpdate=(e,t)=>{var a,i,s;this.stateData.tab.data=this.stateData.tab.data.map(e=>(e.isShow=e.id===t.menu_select,e)),this.stateData.column3.table_in_role_data=t.table_user_profile_user_in_role.map(e=>({config:{value:!1},data:[{data:e.rolename},{value:!1,abs_Click:this.abs_Ckeck},{data:e.usrcd},{data:e.usrname}]})),this.stateData.column1.tree_data.tree_data=null===(a=t.menu_invoke_aprrove)||void 0===a?void 0:a.map(e=>({title:e.caption,parent_id:e.parentid,is_open:!1,DOM_elm:null,id:e.cmdid,dataItem:e,abs_click:this.onClickTreeMenuInvokeApprove})),this.stateData.column1.table_up.dataFull.Header.data=t.O9_Roles_InvokeApprove_Table_header.map(e=>({title:e.caption,config:{width:"",isFrozen:!1}})),this.stateData.column1.table_down.dataFull.Header.data=n.g.cloneJson(this.stateData.column1.table_up.dataFull.Header.data),this.stateData.column1.table_down.dataFull.Header.data[1]&&(this.stateData.column1.table_down.dataFull.Header.data[1].title="Self Approve");let o=t.O9_Roles_InvokeApprove_Table_header;this.stateData.column1.table_up_config=o.map((e,t)=>0===t?{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}:{type:"uTableColumnCheckbox"}),this.stateData.column1.table_down_config=this.stateData.column1.table_up_config;let l=t.O9_Roles_InvokeApprove_Table_body;this.stateData.column1.table_up_data=[],this.stateData.column1.table_down_data=[];for(let n=0;n<l.length;n++){let e=o.length-1,t=[],a=[];for(let i=0;i<e;i++)0===i&&(t.push({data:l[n+i].rolename}),a.push({data:l[n+i].rolename})),t.push({value:1===l[n+i].invoke,dataItem:l[n+i],abs_Click:this.abs_Ckeck_invoke_approve_operation}),a.push({value:1===l[n+i].approve,dataItem:l[n+i],abs_Click:this.abs_Ckeck_invoke_approve_verification});this.stateData.column1.table_up_data.push(t),this.stateData.column1.table_down_data.push(a),n=n+e-1}if(this.stateData.column2.role_name_adding.dataFull.config.cmd.disable=!0!==t.addAndRemove_btnAddClick,this.stateData.column2.listButton[2].dataFull.config.cmd.disable=!0===t.addAndRemove_btnSaveClick,this.stateData.column2.role_name_copying.dataFull.search_value=t["column2.role_name_copying"],!t.role_name_copying_selected&&t.O9_Roles_Add_and_Remove_Role_Name.length>0)this.setState({role_name_copying_selected:t.O9_Roles_Add_and_Remove_Role_Name[0].roleid});else{var r;this.stateData.column2.role_name_copying.dataFull.input_value=null===(r=t.column2_role_select)||void 0===r?void 0:r.rolename;let e=t.O9_Roles_Add_and_Remove_Role_Name.filter(e=>e.rolename.toLowerCase().includes(t["column2.role_name_copying"].toLowerCase()));this.stateData.column2.role_name_copying.dataFull.data=e.map((e,a)=>{let i=!1;return e.roleid===t.role_name_copying_selected&&(i=!0),{title:e.rolename,value:e,selected:i}})}this.stateData.column2.role_name_adding.dataFull.value=t.role_name_adding_input;let c=this.unCheck_user_assign_table_left,d=this.unCheck_user_assign_table_right;!0===this.unCheck_user_assign_table_left&&(this.unCheck_user_assign_table_left=!1),!0===this.unCheck_user_assign_table_right&&(this.unCheck_user_assign_table_right=!1),this.stateData.column3.table_left_data=t.O9_Roles_User_assignment_table_left.map((e,t)=>{var a,i,s;return{data:[{data:t+1},{value:!0!==c&&((null===(a=this.stateData.column3.table_left_data[t])||void 0===a||null===(i=a.data)||void 0===i||null===(s=i[1])||void 0===s?void 0:s.value)||!1),abs_Click:this.abs_Check_role_profile_user_assign_left,dataItem:{value:e,index:t}},{data:e.usrcd},{data:e.usrname}],config:{value:!1}}}),this.stateData.column3.table_right_data=t.O9_Roles_User_assignment_table_right.map((e,t)=>{var a,i,s;return{data:[{data:t+1},{value:!0!==d&&((null===(a=this.stateData.column3.table_right_data[t])||void 0===a||null===(i=a.data)||void 0===i||null===(s=i[1])||void 0===s?void 0:s.value)||!1),abs_Click:this.abs_Check_role_profile_user_assign_right,dataItem:{value:e,index:t}},{data:e.usrcd},{data:e.usrname}],config:{value:!1}}}),this.stateData.column3.role_choose_left.dataFull.data=[],this.stateData.column3.role_choose_left.dataFull.search_value=t["column3.role_choose_left"],this.stateData.column3.role_choose_left.dataFull.input_value=null===(i=t.column3_role_left_select)||void 0===i?void 0:i.rolename,t.O9_RolesUser_assignment_Role_Name_Left.filter(e=>e.rolename.toLowerCase().includes(t["column3.role_choose_left"].toLowerCase())).forEach((e,a)=>{let i=!1;(t.column3_role_left_select.roleid===e.roleid||0===a&&void 0===t.column3_role_left_select.roleid)&&(i=!0),this.stateData.column3.role_choose_left.dataFull.data.push({title:e.rolename,value:{id:e.roleid,item:e,type:"left"},selected:i})}),this.stateData.column3.role_choose_right.dataFull.search_value=t["column3.role_choose_right"],this.stateData.column3.role_choose_right.dataFull.input_value=null===(s=t.column3_role_right_select)||void 0===s?void 0:s.rolename;let m=t.O9_RolesUser_assignment_Role_Name_Right.filter(e=>e.rolename.toLowerCase().includes(t["column3.role_choose_right"].toLowerCase()));this.stateData.column3.role_choose_right.dataFull.data=m.map((e,a)=>{let i=!1;return(t.column3_role_right_select.roleid===e.roleid||0===a&&void 0===t.column3_role_right_select.roleid)&&(i=!0),{title:e.rolename,value:{id:e.roleid,item:e,type:"right"},selected:i}}),this.stateData.column4.listItem=t.O9_Roles_Invoke_limit_menu.map(e=>{let a=!1;return t.Invoke_role_selected===e.roleid&&(a=!0),{dataFull:{title:e.rolename,dataItem:e,selected:a},abs_Click:this.onClickMenuInvokeLimit}}),this.stateData.column4.table.dataFull.Header.data=t.header_table_currency.map(e=>({title:e.title,config:{width:"",isFrozen:!1}})),this.stateData.column4.table_config=t.header_table_currency.map((e,t)=>t<2?{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}:{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}}),this.stateData.column4.table_data=t.O9_Roles_InvokeLimit_Table.map((e,a)=>t.header_table_currency.map((t,i)=>({data:e[t.code],dataItem:{header:t,row_idx:a,row_data:e},index_row:a,index_col:i,abs_Change:this.abs_change_invoke_table}))),this.stateData.column5.listItem=t.O9_Roles_Invoke_limit_menu.map(e=>{let a=!1;return t.Approve_role_selected===e.roleid&&(a=!0),{dataFull:{title:e.rolename,dataItem:e,selected:a},abs_Click:this.onClickMenuApproveLimit}}),this.stateData.column5.table.dataFull.Header.data=t.header_table_currency.map(e=>({title:e.title,config:{width:"",isFrozen:!1}})),this.stateData.column5.table_config=t.header_table_currency.map((e,t)=>t<2?{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}:{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}}),this.stateData.column5.table_data=t.O9_Roles_ApproveLimit_Table.map((e,a)=>t.header_table_currency.map((t,i)=>({data:e[t.code],dataItem:{header:t,row_idx:a,row_data:e},index_row:a,index_col:i,abs_Change:this.abs_change_approve_table})))},this.CheckAddRoleName=e=>{let t=e.target.value,a=!1;for(const i of this.stateData.column2.role_name_copying.dataFull.data)if(i.title===t||""===t){a=!0;break}this.setState({addAndRemove_btnSaveClick:a,role_name_adding_input:t})},this.abs_Check_role_profile_user_assign_left=e=>{this.onClickAssignLeftRow(e),this.stateData.column3.table_left_data[e.index].data[1].value=!0;for(let t=0;t<this.stateData.column3.table_left_data.length;t++)t!==e.index&&(this.stateData.column3.table_left_data[t].data[1].value=!1);this.setState({autoReload:!0})},this.abs_Check_role_profile_user_assign_right=e=>{let t=this.stateData.column3.table_right_data[e.index].data[1];t.value=!t.value,this.setState({autoReload:!0})},this.abs_CheckAll_left=()=>{let e=this.stateData.column3.table_left.dataFull.Header.data[1],t=0;this.stateData.column3.table_left_data.forEach(()=>{!0===e.data.value?this.stateData.column3.table_left_data[t].data[1].value=!1:this.stateData.column3.table_left_data[t].data[1].value=!0,t++}),e.data.value=!e.data.value,this.setState({autoReload:!0})},this.abs_CheckAll_right=()=>{let e=this.stateData.column3.table_right.dataFull.Header.data[1],t=0;this.stateData.column3.table_right_data.forEach(()=>{!0===e.data.value?this.stateData.column3.table_right_data[t].data[1].value=!1:this.stateData.column3.table_right_data[t].data[1].value=!0,t++}),e.data.value=!e.data.value,this.setState({autoReload:!0})},this.abs_change_approve_table=(e,t,a,i)=>{let s=e.target.value,o=this.state.O9_Roles_ApproveLimit_Table,l=this.onChangeCurrency(s);o[a][t.header.code]=l,this.setState({O9_Roles_ApproveLimit_Table:o},()=>{this.callAPI("O9_Roles_ApproveLimit_Table_Change_save",{roleid:this.state.O9_Roles_Approve_limit_menu_select.roleid,data:[{roleid:this.state.Invoke_role_selected,txcode:t.row_data.cmdid,ccrcd:t.header.code,amt:this.getValueCurrency(s)}]}).then(e=>{1===e.O9_Roles_ApproveLimit_Table_Change_save[0].type&&this.showToast("Save",!0)})})},this.abs_change_invoke_table=(e,t,a,i)=>{let s=e.target.value,o=this.state.O9_Roles_InvokeLimit_Table,l=this.onChangeCurrency(s);o[a][t.header.code]=l,this.setState({O9_Roles_InvokeLimit_Table:o},()=>{this.callAPI("O9_Roles_InvokeLimit_Table_Change_save",{roleid:this.state.Invoke_role_selected,data:[{roleid:this.state.Invoke_role_selected,txcode:t.row_data.cmdid,ccrcd:t.header.code,amt:this.getValueCurrency(s)}]}).then(e=>{1===e.O9_Roles_InvokeLimit_Table_Change_save[0].type&&this.showToast("Save",!0)})})},this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})},this.showToast=(e,t)=>{var a={};switch(t){case!0:a={class_:"success",icon:"fa fa-check",title:e+" successfully",time:(new Date).getTime()+"",description:e+" Successfully",data:{},action:{}};break;case!1:default:a={class_:"error",icon:"fa fa-check",title:e,time:(new Date).getTime()+"",description:e,data:{},action:{}}}n.g.pushNotify("notifyToast",a,{}),n.g.callAllScreenListen()},this.callAPI=(e,t)=>{var a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(T.b)(a,{}).then(e=>n.g.foGetData("data",e))},this.AddRoleName=()=>{let e=this.state.role_name_copying_selected,t=this.state.role_name_adding_input;""!==e&&""!==t&&this.callAPI("O9_Roles_User_Add_and_remove_add",{roleid:e,new_name:t}).then(e=>{1===e.O9_Roles_User_Add_and_remove_add[0].type&&(this.callAPI("O9_Roles_Add_and_Remove_Role_Name").then(e=>{let t=e.O9_Roles_Add_and_Remove_Role_Name;this.setState({O9_Roles_Add_and_Remove_Role_Name:t,isAdd_add_and_remove:!1,addAndRemove_btnAddClick:!1,role_name_adding_input:""})}),this.showToast("Save",!0))})},this.renderUserAssignment=()=>s.a.createElement("div",{className:"tab-content tab-pane fade in active"},s.a.createElement("div",{className:"col-md-12 col-lg-5"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},s.a.createElement("label",null,"Select user group"),s.a.createElement("div",{className:"select-box"},s.a.createElement("div",{className:"selectbox-wrap mrgn-b-lg"},s.a.createElement("div",{className:"selectbox"},s.a.createElement("select",{ref:"ref_assignment_list_role_name_left",name:"left",className:"form-control",onChange:e=>this.onChangeUserAgm(e)},s.a.createElement("option",{key:"all",value:0},"All"),this.state.O9_RolesUser_assignment_Role_Name_Left.map(e=>s.a.createElement("option",{key:e.roleid,value:e.roleid},e.rolename)))))),s.a.createElement("label",null,"List user to add"),s.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},s.a.createElement("table",{className:"table table-hover table-bordered"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"bg-primary"},s.a.createElement("th",null,"User Code"),s.a.createElement("th",null,"User Name"),s.a.createElement("th",null))),s.a.createElement("tbody",null,this.state.O9_Roles_User_assignment_table_left.map((e,t)=>s.a.createElement("tr",{key:t,onClick:()=>{this.onClickAssignLeftRow(e)}},s.a.createElement("td",null,e.usrcd),s.a.createElement("td",null,e.usrname),s.a.createElement("td",{onClick:()=>{this.onClickAssignLeftToRight(e)},style:{textAlign:"center",cursor:"pointer"}}," ",s.a.createElement("i",{className:"fa fa-angle-right fa-lg","aria-hidden":"true"})," "))))))))),s.a.createElement("div",{className:"col-md-12 col-lg-1"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b-lg RoleUserRoleProfile"},s.a.createElement("button",{onClick:()=>{this.onClickAssignLeftToRightArray()},type:"submit",className:"btn btn-primary"}," ",s.a.createElement("i",{className:"fa fa-angle-double-right fa-lg","aria-hidden":"true"})," "),s.a.createElement("button",{onClick:()=>{this.onClickAssignRightToLeftArray()},type:"submit",className:"btn btn-primary"}," ",s.a.createElement("i",{className:"fa fa-angle-double-left fa-lg","aria-hidden":"true"})," ")))),s.a.createElement("div",{className:"col-md-12 col-lg-5"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},s.a.createElement("label",null,"Select role"),s.a.createElement("div",{className:"select-box"},s.a.createElement("div",{className:"selectbox-wrap mrgn-b-lg"},s.a.createElement("div",{className:"selectbox"},s.a.createElement("select",{ref:"ref_assignment_list_role_name_right",name:"right",className:"form-control",onChange:e=>this.onChangeUserAgm(e)},this.state.O9_RolesUser_assignment_Role_Name_Right.map(e=>s.a.createElement("option",{key:e.roleid,value:e.roleid},e.rolename)))))),s.a.createElement("label",null,"Select user in role"),s.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},s.a.createElement("table",{className:"table table-hover table-bordered"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"bg-primary"},s.a.createElement("th",null),s.a.createElement("th",null,"User Code"),s.a.createElement("th",null,"User Name"))),s.a.createElement("tbody",null,this.state.O9_Roles_User_assignment_table_right.map((e,t)=>s.a.createElement("tr",{key:t},s.a.createElement("td",{style:{textAlign:"center"},onClick:()=>{this.onClickAssignRightToLeft(e)}}," ",s.a.createElement("i",{className:"fa fa-angle-left fa-lg","aria-hidden":"true"})," "),s.a.createElement("td",null,e.usrcd),s.a.createElement("td",null,e.usrname))))))))),s.a.createElement("div",{className:"col-md-12 col-lg-11"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("label",null,"User in role"),s.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},s.a.createElement("table",{className:"table table-hover table-bordered"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"bg-primary"},s.a.createElement("th",null,"Role Name"),s.a.createElement("th",null,"User Code"),s.a.createElement("th",null,"User Name"))),s.a.createElement("tbody",null,this.state.table_user_profile_user_in_role.map((e,t)=>s.a.createElement("tr",{key:t},s.a.createElement("td",null,e.rolename),s.a.createElement("td",null,e.usrcd),s.a.createElement("td",null,e.usrname))))))))),this.onSearch=(e,t)=>{this.setState({[t]:e.target.value})},this.abs_Click_next=()=>{this.onClickAssignLeftToRightArray()},this.abs_Click_next_all=()=>{this.onClickAssignLeftToRightAll()},this.abs_Click_previous=()=>{this.onClickAssignRightToLeftArray()},this.abs_Click_previous_all=()=>{this.onClickAssignRightToLeftAll()},this.onClickAssignLeftToRightAll=()=>{let e=this.state.O9_Roles_User_assignment_table_right,t=this.stateData.column3.table_left_data.filter(t=>0===e.filter(e=>e.usrcd===t.data[1].dataItem.value.usrcd).length).map(e=>e.data[1].dataItem.value),a=this.state.column3_role_right_select.roleid;""!==a&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:a,data:t}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:a}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.setState({jwebuiAutoReload:!0})});let i=this.stateData.column3.table_left.dataFull.Header.data[1],s=0;this.stateData.column3.table_left_data.forEach(()=>{!0===i.data.value&&(this.stateData.column3.table_left_data[s].data[1].value=!1),s++}),i.data.value=!1},this.onClickAssignRightToLeftAll=()=>{let e=this.stateData.column3.table_right_data.map(e=>e.data[1].dataItem.value),t=this.state.column3_role_right_select.roleid;this.unCheck_user_assign_table_right=!0,""!==t&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:-t,data:e}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:t}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.setState({jwebuiAutoReload:!0})});let a=this.stateData.column3.table_right.dataFull.Header.data[1],i=0;this.stateData.column3.table_right_data.forEach(()=>{!0===a.data.value&&(this.stateData.column3.table_right_data[i].data[1].value=!1),i++}),a.data.value=!1},this.onClickAssignLeftToRightArray=()=>{let e=this.state.O9_Roles_User_assignment_table_right,t=this.stateData.column3.table_left_data.filter(t=>!0===t.data[1].value&&0===e.filter(e=>e.usrcd===t.data[1].dataItem.value.usrcd).length).map(e=>e.data[1].dataItem.value),a=this.state.column3_role_right_select.roleid;this.unCheck_user_assign_table_left=!0,""!==a&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:a,data:t}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:a}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.setState({jwebuiAutoReload:!0})});let i=this.stateData.column3.table_left.dataFull.Header.data[1],s=0;this.stateData.column3.table_left_data.forEach(()=>{!0===i.data.value&&(this.stateData.column3.table_left_data[s].data[1].value=!1),s++}),i.data.value=!1},this.onClickAssignLeftRow=e=>{this.callAPI("user_profile_user_in_role",e.value).then(e=>{var t;let a=(null===e||void 0===e||null===(t=e.user_profile_user_in_role)||void 0===t?void 0:t.data)||[];this.setState({table_user_profile_user_in_role:a})})},this.onClickAssignLeftToRight=e=>{let t=this.state.column3_role_right_select.roleid,a=this.state.O9_Roles_User_assignment_table_right;for(let i=0;i<a.length;i++){if(a[i].usrcd===e.usrcd)return}""!==t&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:t,data:[{usrid:e.usrid}]}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type&&(this.callAPI("O9_Roles_User_assignment_table",{roleid:t}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0))})},this.onClickAssignRightToLeft=e=>{let t=this.refs.ref_assignment_list_role_name_right.value;""!==t&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:-t,data:[{usrid:e.usrid}]}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type&&(this.callAPI("O9_Roles_User_assignment_table",{roleid:t}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0))})},this.onClickAssignRightToLeftArray=e=>{let t=this.stateData.column3.table_right_data.filter(e=>!0===e.data[1].value).map(e=>e.data[1].dataItem.value),a=this.state.column3_role_right_select.roleid;this.unCheck_user_assign_table_right=!0,""!==a&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:-a,data:t}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:a}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.setState({jwebuiAutoReload:!0})});let i=this.stateData.column3.table_right.dataFull.Header.data[1],s=0;this.stateData.column3.table_right_data.forEach(()=>{!0===i.data.value&&(this.stateData.column3.table_right_data[s].data[1].value=!1),s++}),i.data.value=!1},this.onChangeUserAgm=(e,t)=>{switch(e.type){case"left":if(e.id===this.state.column3_role_right_select.roleid)break;this.callAPI("O9_Roles_User_assignment_table",{roleid:e.id}).then(t=>{let a=this.state.O9_RolesUser_assignment_Role_Name_Left.filter(t=>t.roleid===e.id),i=t.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_left:i,column3_role_left_select:a[0]})});break;case"right":if(e.id===this.state.column3_role_left_select.roleid)break;this.callAPI("O9_Roles_User_assignment_table",{roleid:e.id}).then(t=>{let a=this.state.O9_RolesUser_assignment_Role_Name_Right.filter(t=>t.roleid===e.id),i=t.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:i,column3_role_right_select:a[0]})})}},this.renderInvokeLimit=()=>s.a.createElement("div",{className:"tab-content tab-pane fade in active"},s.a.createElement("div",{className:"col-md-12 col-lg-3"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},s.a.createElement("div",{className:"check-list"},s.a.createElement("ul",{className:"list-unstyled"},this.state.O9_Roles_Invoke_limit_menu.map(e=>s.a.createElement("li",{key:e.roleid+"",className:"cashflowTextClick",onClick:()=>{this.onClickMenuInvokeLimit(e)}},s.a.createElement("span",null,s.a.createElement("i",{className:"fa fa-angle-right fa-lg text-default","aria-hidden":"true"})),s.a.createElement("span",{ref:"ref_menu_invoke",value:e.rolename,style:e.rolename===this.state.O9_Roles_Invoke_limit_menu_select.rolename?{fontWeight:"bold"}:{}},e.rolename)," "))))))),s.a.createElement("div",{className:"col-md-12 col-lg-9"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},s.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-12 col-lg-6"},s.a.createElement("div",{className:"check-box"},s.a.createElement("div",{className:"checkbox"},s.a.createElement("label",null,s.a.createElement("input",{type:"checkbox",defaultChecked:!0,disabled:!0}),s.a.createElement("span",{className:"mrgn-l-xs display-ib"},"Auto Save"))))),s.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},s.a.createElement("table",{className:"table table-hover table-bordered "},s.a.createElement("thead",null,s.a.createElement("tr",{className:"bg-primary"},this.state.header_table_currency.map(e=>s.a.createElement("th",{key:e.title},e.title)))),s.a.createElement("tbody",null,this.state.O9_Roles_InvokeLimit_Table.map((e,t)=>s.a.createElement("tr",{key:t},this.state.header_table_currency.map(e=>this.renderItemTableInvokeLimit(this.state.O9_Roles_InvokeLimit_Table,t,e))))))))))),this.onChangeCurrency=e=>{let t=e.split(".");return void 0===t[0]&&(t[0]="0"),void 0===t[1]&&(t[1]="0"),t[0]=t[0].replace(/[^\d]/gm,""),t[1]=t[1].replace(/[^\d]/gm,""),this.convertCurrency(t[0]+"."+t[1])},this.getValueCurrency=e=>{let t=e.split(".");return void 0===t[0]&&(t[0]="0"),void 0===t[1]&&(t[1]="0"),t[0]=t[0].replace(/[^\d]/gm,""),t[1]=t[1].replace(/[^\d]/gm,""),Number(t[0]+"."+t[1])},this.renderItemTableInvokeLimit=(e,t,a)=>{let i=e[t];return"text"===a.type?s.a.createElement("td",{key:a.code+t},i[a.code]||""):s.a.createElement("td",{key:a.code+t},s.a.createElement("input",{className:"RoleUserinputTable",value:i[a.code]||"",onChange:i=>{let s=i.target.value?this.onChangeCurrency(i.target.value):"";e[t][a.code]=s,this.setState({O9_Roles_InvokeLimit_Table:e})},onBlur:e=>{this.callAPI("O9_Roles_InvokeLimit_Table_Change_save",{roleid:this.state.O9_Roles_Invoke_limit_menu_select.roleid,data:[{roleid:this.state.O9_Roles_Invoke_limit_menu_select.roleid,txcode:i.cmdid,ccrcd:a.code,amt:e.target.value?this.onChangeCurrency(e.target.value):null}]}).then(e=>{if(1===e.O9_Roles_InvokeLimit_Table_Change_save[0].type){this.showToast("Save",!0);var t=[{txcode:"bo-autoRole-FormFO",input:{}}];t[0].input=Object.assign(t[0].input,{}),Object(T.b)(t,{})}})}}))},this.saveInvokeTable=()=>{},this.onClickMenuInvokeLimit=e=>{let t=e.dataFull.dataItem;this.callAPI("O9_Roles_InvokeLimit_Table",t).then(e=>{void 0===e&&(e=[]);let a=e.O9_Roles_InvokeLimit_Table;this.setState({O9_Roles_Invoke_limit_menu_select:t,Invoke_role_selected:t.roleid},()=>{this.reloadTableInvokeLimit(a)})})},this.reloadTableInvokeLimit=e=>{for(const t of this.state.header_table_currency)if("text"!==t.type)for(let a of e)a[t.code]=this.convertCurrency(a[t.code]);this.setState({O9_Roles_InvokeLimit_Table:e})},this.renderApproveLimit=()=>s.a.createElement("div",{className:"tab-content tab-pane fade in active"},s.a.createElement("div",{className:"col-md-12 col-lg-3"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},s.a.createElement("div",{className:"check-list"},s.a.createElement("ul",{className:"list-unstyled"},this.state.O9_Roles_Approve_limit_menu.map(e=>s.a.createElement("li",{key:e.roleid,className:"cashflowTextClick",onClick:()=>{this.onClickMenuApproveLimit(e)}}," ",s.a.createElement("span",null,s.a.createElement("i",{className:"fa fa-angle-right fa-lg text-default","aria-hidden":"true"})),s.a.createElement("span",{style:e.rolename===this.state.O9_Roles_Approve_limit_menu_select.rolename?{fontWeight:"bold"}:{}},e.rolename)," "))))))),s.a.createElement("div",{className:"col-md-12 col-lg-9"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},s.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-12 col-lg-6"},s.a.createElement("div",{className:"check-box"},s.a.createElement("div",{className:"checkbox"},s.a.createElement("label",null,s.a.createElement("input",{type:"checkbox",defaultChecked:!0,disabled:!0}),s.a.createElement("span",{className:"mrgn-l-xs display-ib"},"Auto Save"))))),s.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},s.a.createElement("table",{className:"table table-hover table-bordered "},s.a.createElement("thead",null,s.a.createElement("tr",{className:"bg-primary"},this.state.header_table_currency.map(e=>s.a.createElement("th",{key:e.title},e.title)))),s.a.createElement("tbody",null,this.state.O9_Roles_ApproveLimit_Table.map((e,t)=>s.a.createElement("tr",{key:t},this.state.header_table_currency.map(e=>this.renderItemTableApproveLimit(this.state.O9_Roles_ApproveLimit_Table,t,e))))))))))),this.onClickMenuApproveLimit=e=>{e=e.dataFull.dataItem,this.callAPI("O9_Roles_ApproveLimit_Table",e).then(t=>{if(t){let a=t.O9_Roles_ApproveLimit_Table;for(const e of this.state.header_table_currency)if("text"!==e.type)for(let t of a)t[e.code]=this.convertCurrency(t[e.code]);this.setState({O9_Roles_ApproveLimit_Table:a,O9_Roles_Approve_limit_menu_select:e,Approve_role_selected:e.roleid})}})},this.renderItemTableApproveLimit=(e,t,a)=>{let i=e[t];return"text"===a.type?s.a.createElement("td",{key:a.code+t},i[a.code]||""):s.a.createElement("td",{key:a.code+t},s.a.createElement("input",{className:"RoleUserinputTable",value:i[a.code]||"",onChange:i=>{let s=this.onChangeCurrency(i.target.value);e[t][a.code]=s,this.setState({O9_Roles_ApproveLimit_Table:e})},onBlur:e=>{this.callAPI("O9_Roles_ApproveLimit_Table_Change_save",{roleid:this.state.O9_Roles_Approve_limit_menu_select.roleid,data:[{roleid:this.state.O9_Roles_Approve_limit_menu_select.roleid,txcode:i.cmdid,ccrcd:a.code,amt:this.getValueCurrency(e.target.value)}]}).then(e=>{1===e.O9_Roles_ApproveLimit_Table_Change_save[0].type&&this.showToast("Save",!0)})}}))},this.onClickTreeMenuInvokeApprove=(e,t)=>{t=t.dataItem;let a=this.state.menu_invoke_aprrove;t.isOpen=!t.isOpen;let i=[],s=[];this.callAPI("O9_Roles_InvokeApprove_Table_header",t).then(e=>{i=[{cmdid:"0",caption:"Role Name"},{cmdid:"0",caption:"Self Invoke"}],i=i.concat(e.O9_Roles_InvokeApprove_Table_header),i=i.filter(e=>null!=e.cmdid),this.callAPI("O9_Roles_InvokeApprove_Table_body",t).then(e=>{s=e.O9_Roles_InvokeApprove_Table_body,this.setState({menu_invoke_aprrove:a,O9_Roles_InvokeApprove_Table_body:s,O9_Roles_InvokeApprove_Table_header:i,menu_invoke_aprrove_select:t})})})},this.removeRoleName=()=>{let e=this.state.role_name_copying_selected;""!==e&&this.callAPI("O9_Roles_User_Add_and_remove_delete",{roleid:e}).then(e=>{let t=e.O9_Roles_User_Add_and_remove_delete;1===t[0].type?(this.callAPI("O9_Roles_Add_and_Remove_Role_Name").then(e=>{let t=e.O9_Roles_Add_and_Remove_Role_Name;this.setState({O9_Roles_Add_and_Remove_Role_Name:t,isAdd_add_and_remove:!1,isDelete_add_and_remove:!1,delete_err:"",role_name_copying_selected:""})}),this.showToast("Save",!0)):(this.showToast(e.O9_Roles_User_Add_and_remove_delete[0].message,!1),this.setState({delete_err:t[0].message||""}))})},we=Object(d.b)("jwebui_roleProfile"),this.key_form="015003009",this.state={"column3.role_choose_right":"","column3.role_choose_left":"","column2.role_name_copying":"",column3_role_left_select:0,role_name_adding_input:"",role_name_copying_selected:"",isLoading:!0,visibility:"",data:this.props.data,infoA:{title:"Approve Limit",des:"Approve Limit",openOne:"true",ofModal:!1},addAndRemove_btnSaveClick:!0,menu_parent_select:"Approve Limit",menu_select:"column5",menu_invoke_aprrove:[],O9_Roles_InvokeApprove_Table_header:[],O9_Roles_InvokeApprove_Table_body:[],menu_invoke_aprrove_select:{},O9_Roles_Add_and_Remove_Role_Name:[],O9_Roles_Add_and_Remove_Role_Name_select:"",O9_Roles_User_assignment_table_left:[],O9_Roles_User_assignment_table_right:[],O9_RolesUser_assignment_Role_Name_Left:[],O9_RolesUser_assignment_Role_Name_Right:[],user_assignment_select:"",O9_Roles_Invoke_limit_menu:[],O9_Roles_Invoke_limit_menu_select:{},O9_Roles_Approve_limit_menu:[],O9_Roles_Approve_limit_menu_select:{},O9_Roles_InvokeLimit_Table:[],O9_Roles_ApproveLimit_Table:[],table_user_profile_user_in_role:[],header_table_currency:[{title:"Group",code:"module",type:"text"},{title:"Caption",code:"tranname",type:"text"},{title:"USD",code:"USD"},{title:"KHR",code:"KHR"},{title:"EUR",code:"EUR"},{title:"JPY",code:"JPY"},{title:"THB",code:"THB"},{title:"HKD",code:"HKD"},{title:"MYR",code:"MYR"},{title:"SGD",code:"SGD"},{title:"LAK",code:"LAK"},{title:"CNY",code:"CNY"},{title:"VND",code:"VND"}]},this.menu_form=[{title:"Roles Profile",child:["Invoke - Aprrove","Add - Remove","User Assignment"]},{title:"Invoke Limit",child:[]},{title:"Approve Limit",child:[]}],this.user_profile=n.g.context_get("user_acc"),this.stateData={form:{dataFull:{config:{default:{title:"Roles Profile"}},cmd:{visibility:""}}},tab:{data:[{id:"column1",title:"Role Profile - Invoke - Approve"},{id:"column2",title:"Role Profile - Add - Remove"},{id:"column3",title:"Role Profile - User - Assignment"},{id:"column4",title:"Invoke Limit"},{id:"column5",title:"Approve Limit",isShow:!0}],abs_select:(e,t)=>{this.setState({menu_select:t})}},column1:{tree_data:{tree_data:[],config:{open_one:!0,is_has_dom:!0,noBorder:!0}},title_table_up:"OPEARTION",table_up:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1}}}},table_up_data:[],table_up_config:[],title_table_down:"VERIFICATION",table_down:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1}}}},table_down_data:[],table_down_config:[]},column4:{auto_save:{dataFull:{abs_Click:this.test,value:!0,dataItem:{}}},listItem:[],table:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1}}},config:{mode:{noHeader:!1}}}},table_data:[],table_config:[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}}]},column5:{auto_save:{dataFull:{value:!0,dataItem:{}},abs_Click:this.test},listItem:[],table:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1}}},config:{mode:{noHeader:!1}}}},table_data:[],table_config:[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}}]},column2:{role_name_adding:{dataFull:{config:{default:{title:"Role Name (for adding)",type:"text",class:"col-sm-5",code_form_component:"role_name_adding"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:e=>{this.CheckAddRoleName(e)}},listButton:[{dataFull:{config:{default:{title:"Add",icon:"add_circle_outline"}}},abs_Click:()=>{this.setState({addAndRemove_btnAddClick:!0})}},{dataFull:{config:{default:{title:"Remove",icon:"highlight_off"}}},abs_Click:this.removeRoleName},{dataFull:{config:{default:{title:"Save",type:"primary",icon:"check_circle_outline"},cmd:{}}},abs_Click:this.AddRoleName}],role_name_copying:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"Role Name (for copying or deleting)",type:"text",class:"col-sm-5",code_form_component:"role_name_copying"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},data:[],input_value:"123",search_value:""},abs_Change:this.abs_role_name_copying_select,abs_search:e=>{this.onSearch(e,"column2.role_name_copying")}}},column3:{table_in_role:{dataFull:{Header:{data:[{title:"NO.",config:{width:"50px",isFrozen:!1}},{title:"",data:{value:!1,abs_Click:this.abs_CheckAll},config:{hasCheck:!0,width:"",isFrozen:!1}},{title:"User Code",config:{width:"",isFrozen:!1}},{title:"User Name",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1}}}},table_in_role_data:[{data:[{data:"2"},{value:!1,abs_Click:this.abs_Ckeck},{data:"ACT Manager"},{data:"abc@gmail.com"}],config:{value:!1}}],table_in_role_config:[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnCheckbox"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}],user_assignment:{title:"User assignment"},user_in_role:{title:"User in role"},role_choose_left:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"rrrrrrr",type:"text",class:"col-md-12",code_form_component:"language_default"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}},mode:{noTitle:!0}},data:[{title:"Viet Nam",value:"123",selected:!0},{title:"New acc",value:"1234"},{title:"New aa",value:"12345"},{title:"New pub",value:"122"}],search_value:""},abs_Change:this.onChangeUserAgm,abs_search:e=>{this.onSearch(e,"column3.role_choose_left")}},role_choose_right:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"rrrrrrr",type:"text",class:"col-md-12",code_form_component:"language_default"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}},mode:{noTitle:!0}},data:[{title:"Viet Nam",value:"123",selected:!0},{title:"New acc",value:"1234"},{title:"New aa",value:"12345"},{title:"New pub",value:"122"}],search_value:""},abs_Change:this.onChangeUserAgm,abs_search:e=>{this.onSearch(e,"column3.role_choose_right")}},preview:{dataFull:{config:{default:{title:"",type:"",icon:"keyboard_arrow_left"}}},abs_Click:this.abs_Click_previous},preview_all:{dataFull:{config:{default:{icondouble:"keyboard_arrow_left"}}},abs_Click:this.abs_Click_previous_all},next_all:{dataFull:{config:{default:{type:"",icondouble:"keyboard_arrow_right"}}},abs_Click:this.abs_Click_next_all},next:{dataFull:{config:{default:{type:"",icon:"keyboard_arrow_right"}}},abs_Click:this.abs_Click_next},table_left:{dataFull:{Header:{data:[{title:"NO.",config:{width:"50px",isFrozen:!1}},{title:"",data:{value:!1,abs_Click:this.abs_CheckAll_left},config:{hasCheck:!0,width:"",isFrozen:!1}},{title:"User Code",config:{width:"",isFrozen:!1}},{title:"User Name",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{height:"520px",noHeader:!1}}}},table_left_data:[{data:[{data:"2"},{value:!1,abs_Click:this.abs_Ckeck},{data:"ACT Manager"},{data:"abc@gmail.com"}],config:{value:!1}}],table_left_config:[{type:"uTableColumnDefault",config:{mode:"center",isFrozen:!1}},{type:"uTableColumnCheckbox"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}],table_right:{dataFull:{Header:{data:[{title:"NO.",config:{width:"50px",isFrozen:!1}},{title:"",data:{value:!1,abs_Click:this.abs_CheckAll_right},config:{hasCheck:!0,width:"",isFrozen:!1}},{title:"User code",config:{width:"",isFrozen:!1}},{title:"User Name",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{height:"520px",noHeader:!1}}}},table_right_data:[{data:[{data:"1"},{value:!1,abs_Click:this.abs_Ckeck},{data:"ACT Manager"},{data:"ACT Manager"}],config:{value:!0}}],table_right_config:[{type:"uTableColumnDefault",config:{mode:"center",isFrozen:!1}},{type:"uTableColumnCheckbox"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}]}}}async componentDidMount(){n.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),n.g.form_addMapping(this.key_form,this.props.mapping_key),await this.callAPI("O9_Roles_InvokeApprove_Menu").then(e=>{let{O9_Roles_InvokeApprove_Menu:t}=e||[];this.setState({menu_invoke_aprrove:t})});let e=[],t=[{roleid:0,rolename:"All"}],a=[],i=[],s=[];await this.callAPI("O9_Roles_Add_and_Remove_Role_Name").then(t=>{e=t.O9_Roles_Add_and_Remove_Role_Name}),await this.callAPI("O9_RolesUser_assignment_Role_Name_Left").then(e=>{t=t.concat(e.O9_RolesUser_assignment_Role_Name_Left)}),await this.callAPI("O9_RolesUser_assignment_Role_Name_Right").then(e=>a=e.O9_RolesUser_assignment_Role_Name_Right),t.length>0&&await this.callAPI("O9_Roles_User_assignment_table",{roleid:0}).then(e=>{i=e.O9_Roles_User_assignment_table}),a.length>0&&await this.callAPI("O9_Roles_User_assignment_table",a[0]).then(e=>{s=e.O9_Roles_User_assignment_table}),this.setState({role_left:t[0],column3_role_right_select:a[0],column3_role_left_select:t[0],column2_role_select:e[0],O9_Roles_Add_and_Remove_Role_Name:e,O9_RolesUser_assignment_Role_Name_Left:t,O9_RolesUser_assignment_Role_Name_Right:a,O9_Roles_User_assignment_table_left:i,O9_Roles_User_assignment_table_right:s,O9_Roles_Invoke_limit_menu:e,O9_Roles_Approve_limit_menu:e,isLoading:!1},()=>{})}render(){return s.a.createElement("div",{style:{display:this.state.visibility}},s.a.createElement(we,{stateData:this.stateData}))}convertCurrency(e){if(void 0===e||null===e||""===e)return"";if((e+="").length>16)return"";let t=e.split(".")[0]||"0",a=e.split(".")[1]||"0";return a=Number("0."+a).toFixed(2).split(".")[1],Number.isNaN(t+"."+a)?"":(t+"."+a).replace(/\d(?=(\d{3})+\.)/g,"$&,")}reloadTableWithMenuInvokeApprove(){let e=this.state.menu_invoke_aprrove_select,t=[];this.callAPI("O9_Roles_InvokeApprove_Table_body",e).then(e=>{t=e.O9_Roles_InvokeApprove_Table_body,this.setState({O9_Roles_InvokeApprove_Table_body:t})})}}var Se=Oe;let Fe;class je extends i.Component{constructor(e){super(e),this.abs_role_name_copying_select=(e,t,a)=>{this.setState({role_name_copying_selected:e.roleid,column2_role_select:e})},this.abs_Ckeck_invoke_approve_verification=(e,t)=>{this.callAPI("O9_Roles_Invoke_approve_Table_Change_save_approve",{roleid:e.roleid,data:[{roleid:e.roleid,cmdid:e.parentid,cmdiddt:e.cmdiddt,invoke:!1===t?1:0}]}).then(e=>{let t=e.O9_Roles_Invoke_approve_Table_Change_save_approve;this.reloadTableWithMenuInvokeApprove(),1===t[0].type?this.showToast("Save",!0):this.showToast("Error",!0)})},this.abs_Ckeck_invoke_approve_operation=(e,t)=>{this.callAPI("O9_Roles_Invoke_approve_Table_Change_save",{roleid:e.roleid,data:[{roleid:e.roleid,cmdid:e.parentid,cmdiddt:e.cmdiddt,invoke:!1===t?1:0}]}).then(e=>{let t=e.O9_Roles_Invoke_approve_Table_Change_save;this.reloadTableWithMenuInvokeApprove(),1===t[0].type?this.showToast("Save",!0):this.showToast("Error",!0)})},this.UNSAFE_componentWillUpdate=(e,t)=>{var a,i,s;this.stateData.tab.data=this.stateData.tab.data.map(e=>(e.isShow=e.id===t.menu_select,e)),this.stateData.column3.table_in_role_data=t.table_user_profile_user_in_role.map(e=>({config:{value:!1},data:[{data:e.rolename},{value:!1,abs_Click:this.abs_Ckeck},{data:e.usrcd},{data:e.usrname}]})),this.stateData.column1.tree_data.tree_data=null===(a=t.menu_invoke_aprrove)||void 0===a?void 0:a.map(e=>({title:e.caption,parent_id:e.parentid,is_open:!1,DOM_elm:null,id:e.cmdid,dataItem:e,abs_click:this.onClickTreeMenuInvokeApprove})),this.stateData.column1.table_up.dataFull.Header.data=t.O9_Roles_InvokeApprove_Table_header.map(e=>({title:e.caption,config:{width:"",isFrozen:!1}})),this.stateData.column1.table_down.dataFull.Header.data=n.g.cloneJson(this.stateData.column1.table_up.dataFull.Header.data),this.stateData.column1.table_down.dataFull.Header.data[1]&&(this.stateData.column1.table_down.dataFull.Header.data[1].title="Self Approve");let o=t.O9_Roles_InvokeApprove_Table_header;this.stateData.column1.table_up_config=o.map((e,t)=>0===t?{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}:{type:"uTableColumnCheckbox"}),this.stateData.column1.table_down_config=this.stateData.column1.table_up_config;let l=t.O9_Roles_InvokeApprove_Table_body;this.stateData.column1.table_up_data=[],this.stateData.column1.table_down_data=[];for(let n=0;n<l.length;n++){let e=o.length-1,t=[],a=[];for(let i=0;i<e;i++)0===i&&(t.push({data:l[n+i].rolename}),a.push({data:l[n+i].rolename})),t.push({value:1===l[n+i].invoke,dataItem:l[n+i],abs_Click:this.abs_Ckeck_invoke_approve_operation}),a.push({value:1===l[n+i].approve,dataItem:l[n+i],abs_Click:this.abs_Ckeck_invoke_approve_verification});this.stateData.column1.table_up_data.push(t),this.stateData.column1.table_down_data.push(a),n=n+e-1}if(this.stateData.column2.role_name_adding.dataFull.config.cmd.disable=!0!==t.addAndRemove_btnAddClick,this.stateData.column2.listButton[2].dataFull.config.cmd.disable=!0===t.addAndRemove_btnSaveClick,this.stateData.column2.role_name_copying.dataFull.search_value=t["column2.role_name_copying"],!t.role_name_copying_selected&&t.O9_Roles_Add_and_Remove_Role_Name.length>0)this.setState({role_name_copying_selected:t.O9_Roles_Add_and_Remove_Role_Name[0].roleid});else{var r;this.stateData.column2.role_name_copying.dataFull.input_value=null===(r=t.column2_role_select)||void 0===r?void 0:r.rolename;let e=t.O9_Roles_Add_and_Remove_Role_Name.filter(e=>e.rolename.toLowerCase().includes(t["column2.role_name_copying"].toLowerCase()));this.stateData.column2.role_name_copying.dataFull.data=e.map((e,a)=>{let i=!1;return e.roleid===t.role_name_copying_selected&&(i=!0),{title:e.rolename,value:e,selected:i}})}this.stateData.column2.role_name_adding.dataFull.value=t.role_name_adding_input;let c=this.unCheck_user_assign_table_left,d=this.unCheck_user_assign_table_right;!0===this.unCheck_user_assign_table_left&&(this.unCheck_user_assign_table_left=!1),!0===this.unCheck_user_assign_table_right&&(this.unCheck_user_assign_table_right=!1),this.stateData.column3.table_left_data=t.O9_Roles_User_assignment_table_left.map((e,t)=>{var a,i,s;return{data:[{data:t+1},{value:!0!==c&&((null===(a=this.stateData.column3.table_left_data[t])||void 0===a||null===(i=a.data)||void 0===i||null===(s=i[1])||void 0===s?void 0:s.value)||!1),abs_Click:this.abs_Check_role_profile_user_assign_left,dataItem:{value:e,index:t}},{data:e.usrcd},{data:e.usrname}],config:{value:!1}}}),this.stateData.column3.table_right_data=t.O9_Roles_User_assignment_table_right.map((e,t)=>{var a,i,s;return{data:[{data:t+1},{value:!0!==d&&((null===(a=this.stateData.column3.table_right_data[t])||void 0===a||null===(i=a.data)||void 0===i||null===(s=i[1])||void 0===s?void 0:s.value)||!1),abs_Click:this.abs_Check_role_profile_user_assign_right,dataItem:{value:e,index:t}},{data:e.usrcd},{data:e.usrname}],config:{value:!1}}}),this.stateData.column3.role_choose_left.dataFull.data=[],this.stateData.column3.role_choose_left.dataFull.search_value=t["column3.role_choose_left"],this.stateData.column3.role_choose_left.dataFull.input_value=null===(i=t.column3_role_left_select)||void 0===i?void 0:i.rolename,t.O9_RolesUser_assignment_Role_Name_Left.filter(e=>e.rolename.toLowerCase().includes(t["column3.role_choose_left"].toLowerCase())).forEach((e,a)=>{let i=!1;(t.column3_role_left_select.roleid===e.roleid||0===a&&void 0===t.column3_role_left_select.roleid)&&(i=!0),this.stateData.column3.role_choose_left.dataFull.data.push({title:e.rolename,value:{id:e.roleid,item:e,type:"left"},selected:i})}),this.stateData.column3.role_choose_right.dataFull.search_value=t["column3.role_choose_right"],this.stateData.column3.role_choose_right.dataFull.input_value=null===(s=t.column3_role_right_select)||void 0===s?void 0:s.rolename;let m=t.O9_RolesUser_assignment_Role_Name_Right.filter(e=>e.rolename.toLowerCase().includes(t["column3.role_choose_right"].toLowerCase()));this.stateData.column3.role_choose_right.dataFull.data=m.map((e,a)=>{let i=!1;return(t.column3_role_right_select.roleid===e.roleid||0===a&&void 0===t.column3_role_right_select.roleid)&&(i=!0),{title:e.rolename,value:{id:e.roleid,item:e,type:"right"},selected:i}}),this.stateData.column4.listItem=t.O9_Roles_Invoke_limit_menu.map(e=>{let a=!1;return t.Invoke_role_selected===e.roleid&&(a=!0),{dataFull:{title:e.rolename,dataItem:e,selected:a},abs_Click:this.onClickMenuInvokeLimit}}),this.stateData.column4.table.dataFull.Header.data=t.header_table_currency.map(e=>({title:e.title,config:{width:"",isFrozen:!1}})),this.stateData.column4.table_config=t.header_table_currency.map((e,t)=>t<2?{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}:{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}}),this.stateData.column4.table_data=t.O9_Roles_InvokeLimit_Table.map((e,a)=>t.header_table_currency.map((t,i)=>({data:e[t.code],dataItem:{header:t,row_idx:a,row_data:e},index_row:a,index_col:i,abs_Change:this.abs_change_invoke_table}))),this.stateData.column5.listItem=t.O9_Roles_Invoke_limit_menu.map(e=>{let a=!1;return t.Approve_role_selected===e.roleid&&(a=!0),{dataFull:{title:e.rolename,dataItem:e,selected:a},abs_Click:this.onClickMenuApproveLimit}}),this.stateData.column5.table.dataFull.Header.data=t.header_table_currency.map(e=>({title:e.title,config:{width:"",isFrozen:!1}})),this.stateData.column5.table_config=t.header_table_currency.map((e,t)=>t<2?{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}:{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}}),this.stateData.column5.table_data=t.O9_Roles_ApproveLimit_Table.map((e,a)=>t.header_table_currency.map((t,i)=>({data:e[t.code],dataItem:{header:t,row_idx:a,row_data:e},index_row:a,index_col:i,abs_Change:this.abs_change_approve_table})))},this.CheckAddRoleName=e=>{let t=e.target.value,a=!1;for(const i of this.stateData.column2.role_name_copying.dataFull.data)if(i.title===t||""===t){a=!0;break}this.setState({addAndRemove_btnSaveClick:a,role_name_adding_input:t})},this.abs_Check_role_profile_user_assign_left=e=>{this.onClickAssignLeftRow(e),this.stateData.column3.table_left_data[e.index].data[1].value=!0;for(let t=0;t<this.stateData.column3.table_left_data.length;t++)t!==e.index&&(this.stateData.column3.table_left_data[t].data[1].value=!1);this.setState({autoReload:!0})},this.abs_Check_role_profile_user_assign_right=e=>{let t=this.stateData.column3.table_right_data[e.index].data[1];t.value=!t.value,this.setState({autoReload:!0})},this.abs_CheckAll_left=()=>{let e=this.stateData.column3.table_left.dataFull.Header.data[1],t=0;this.stateData.column3.table_left_data.forEach(()=>{!0===e.data.value?this.stateData.column3.table_left_data[t].data[1].value=!1:this.stateData.column3.table_left_data[t].data[1].value=!0,t++}),e.data.value=!e.data.value,this.setState({autoReload:!0})},this.abs_CheckAll_right=()=>{let e=this.stateData.column3.table_right.dataFull.Header.data[1],t=0;this.stateData.column3.table_right_data.forEach(()=>{!0===e.data.value?this.stateData.column3.table_right_data[t].data[1].value=!1:this.stateData.column3.table_right_data[t].data[1].value=!0,t++}),e.data.value=!e.data.value,this.setState({autoReload:!0})},this.abs_change_approve_table=(e,t,a,i)=>{let s=e.target.value,o=this.state.O9_Roles_ApproveLimit_Table,l=this.onChangeCurrency(s);o[a][t.header.code]=l,this.setState({O9_Roles_ApproveLimit_Table:o},()=>{this.callAPI("O9_Roles_ApproveLimit_Table_Change_save",{roleid:this.state.O9_Roles_Approve_limit_menu_select.roleid,data:[{roleid:this.state.Invoke_role_selected,txcode:t.row_data.cmdid,ccrcd:t.header.code,amt:this.getValueCurrency(s)}]}).then(e=>{1===e.O9_Roles_ApproveLimit_Table_Change_save[0].type&&this.showToast("Save",!0)})})},this.abs_change_invoke_table=(e,t,a,i)=>{let s=e.target.value,o=this.state.O9_Roles_InvokeLimit_Table,l=this.onChangeCurrency(s);o[a][t.header.code]=l,this.setState({O9_Roles_InvokeLimit_Table:o},()=>{this.callAPI("O9_Roles_InvokeLimit_Table_Change_save",{roleid:this.state.Invoke_role_selected,data:[{roleid:this.state.Invoke_role_selected,txcode:t.row_data.cmdid,ccrcd:t.header.code,amt:this.getValueCurrency(s)}]}).then(e=>{1===e.O9_Roles_InvokeLimit_Table_Change_save[0].type&&this.showToast("Save",!0)})})},this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})},this.showToast=(e,t)=>{var a={};switch(t){case!0:a={class_:"success",icon:"fa fa-check",title:e+" successfully",time:(new Date).getTime()+"",description:e+" Successfully",data:{},action:{}};break;case!1:default:a={class_:"error",icon:"fa fa-check",title:e,time:(new Date).getTime()+"",description:e,data:{},action:{}}}n.g.pushNotify("notifyToast",a,{}),n.g.callAllScreenListen()},this.callAPI=(e,t)=>{var a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(T.b)(a,{}).then(e=>n.g.foGetData("data",e))},this.AddRoleName=()=>{let e=this.state.role_name_copying_selected,t=this.state.role_name_adding_input;""!==e&&""!==t&&this.callAPI("O9_Roles_User_Add_and_remove_add",{roleid:e,new_name:t}).then(e=>{1===e.O9_Roles_User_Add_and_remove_add[0].type&&(this.callAPI("O9_Roles_Add_and_Remove_Role_Name").then(e=>{let t=e.O9_Roles_Add_and_Remove_Role_Name;this.setState({O9_Roles_Add_and_Remove_Role_Name:t,isAdd_add_and_remove:!1,addAndRemove_btnAddClick:!1,role_name_adding_input:""})}),this.showToast("Save",!0))})},this.renderUserAssignment=()=>s.a.createElement("div",{className:"tab-content tab-pane fade in active"},s.a.createElement("div",{className:"col-md-12 col-lg-5"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},s.a.createElement("label",null,"Select user group"),s.a.createElement("div",{className:"select-box"},s.a.createElement("div",{className:"selectbox-wrap mrgn-b-lg"},s.a.createElement("div",{className:"selectbox"},s.a.createElement("select",{ref:"ref_assignment_list_role_name_left",name:"left",className:"form-control",onChange:e=>this.onChangeUserAgm(e)},s.a.createElement("option",{key:"all",value:0},"All"),this.state.O9_RolesUser_assignment_Role_Name_Left.map(e=>s.a.createElement("option",{key:e.roleid,value:e.roleid},e.rolename)))))),s.a.createElement("label",null,"List user to add"),s.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},s.a.createElement("table",{className:"table table-hover table-bordered"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"bg-primary"},s.a.createElement("th",null,"User Code"),s.a.createElement("th",null,"User Name"),s.a.createElement("th",null))),s.a.createElement("tbody",null,this.state.O9_Roles_User_assignment_table_left.map((e,t)=>s.a.createElement("tr",{key:t,onClick:()=>{this.onClickAssignLeftRow(e)}},s.a.createElement("td",null,e.usrcd),s.a.createElement("td",null,e.usrname),s.a.createElement("td",{onClick:()=>{this.onClickAssignLeftToRight(e)},style:{textAlign:"center",cursor:"pointer"}}," ",s.a.createElement("i",{className:"fa fa-angle-right fa-lg","aria-hidden":"true"})," "))))))))),s.a.createElement("div",{className:"col-md-12 col-lg-1"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b-lg RoleUserRoleProfile"},s.a.createElement("button",{onClick:()=>{this.onClickAssignLeftToRightArray()},type:"submit",className:"btn btn-primary"}," ",s.a.createElement("i",{className:"fa fa-angle-double-right fa-lg","aria-hidden":"true"})," "),s.a.createElement("button",{onClick:()=>{this.onClickAssignRightToLeftArray()},type:"submit",className:"btn btn-primary"}," ",s.a.createElement("i",{className:"fa fa-angle-double-left fa-lg","aria-hidden":"true"})," ")))),s.a.createElement("div",{className:"col-md-12 col-lg-5"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},s.a.createElement("label",null,"Select role"),s.a.createElement("div",{className:"select-box"},s.a.createElement("div",{className:"selectbox-wrap mrgn-b-lg"},s.a.createElement("div",{className:"selectbox"},s.a.createElement("select",{ref:"ref_assignment_list_role_name_right",name:"right",className:"form-control",onChange:e=>this.onChangeUserAgm(e)},this.state.O9_RolesUser_assignment_Role_Name_Right.map(e=>s.a.createElement("option",{key:e.roleid,value:e.roleid},e.rolename)))))),s.a.createElement("label",null,"Select user in role"),s.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},s.a.createElement("table",{className:"table table-hover table-bordered"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"bg-primary"},s.a.createElement("th",null),s.a.createElement("th",null,"User Code"),s.a.createElement("th",null,"User Name"))),s.a.createElement("tbody",null,this.state.O9_Roles_User_assignment_table_right.map((e,t)=>s.a.createElement("tr",{key:t},s.a.createElement("td",{style:{textAlign:"center"},onClick:()=>{this.onClickAssignRightToLeft(e)}}," ",s.a.createElement("i",{className:"fa fa-angle-left fa-lg","aria-hidden":"true"})," "),s.a.createElement("td",null,e.usrcd),s.a.createElement("td",null,e.usrname))))))))),s.a.createElement("div",{className:"col-md-12 col-lg-11"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("label",null,"User in role"),s.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},s.a.createElement("table",{className:"table table-hover table-bordered"},s.a.createElement("thead",null,s.a.createElement("tr",{className:"bg-primary"},s.a.createElement("th",null,"Role Name"),s.a.createElement("th",null,"User Code"),s.a.createElement("th",null,"User Name"))),s.a.createElement("tbody",null,this.state.table_user_profile_user_in_role.map((e,t)=>s.a.createElement("tr",{key:t},s.a.createElement("td",null,e.rolename),s.a.createElement("td",null,e.usrcd),s.a.createElement("td",null,e.usrname))))))))),this.onSearch=(e,t)=>{this.setState({[t]:e.target.value})},this.abs_Click_next=()=>{this.onClickAssignLeftToRightArray()},this.abs_Click_next_all=()=>{this.onClickAssignLeftToRightAll()},this.abs_Click_previous=()=>{this.onClickAssignRightToLeftArray()},this.abs_Click_previous_all=()=>{this.onClickAssignRightToLeftAll()},this.onClickAssignLeftToRightAll=()=>{let e=this.state.O9_Roles_User_assignment_table_right,t=this.stateData.column3.table_left_data.filter(t=>0===e.filter(e=>e.usrcd===t.data[1].dataItem.value.usrcd).length).map(e=>e.data[1].dataItem.value),a=this.state.column3_role_right_select.roleid;""!==a&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:a,data:t}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:a}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.setState({jwebuiAutoReload:!0})});let i=this.stateData.column3.table_left.dataFull.Header.data[1],s=0;this.stateData.column3.table_left_data.forEach(()=>{!0===i.data.value&&(this.stateData.column3.table_left_data[s].data[1].value=!1),s++}),i.data.value=!1},this.onClickAssignRightToLeftAll=()=>{let e=this.stateData.column3.table_right_data.map(e=>e.data[1].dataItem.value),t=this.state.column3_role_right_select.roleid;this.unCheck_user_assign_table_right=!0,""!==t&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:-t,data:e}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:t}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.setState({jwebuiAutoReload:!0})});let a=this.stateData.column3.table_right.dataFull.Header.data[1],i=0;this.stateData.column3.table_right_data.forEach(()=>{!0===a.data.value&&(this.stateData.column3.table_right_data[i].data[1].value=!1),i++}),a.data.value=!1},this.onClickAssignLeftToRightArray=()=>{let e=this.state.O9_Roles_User_assignment_table_right,t=this.stateData.column3.table_left_data.filter(t=>!0===t.data[1].value&&0===e.filter(e=>e.usrcd===t.data[1].dataItem.value.usrcd).length).map(e=>e.data[1].dataItem.value),a=this.state.column3_role_right_select.roleid;this.unCheck_user_assign_table_left=!0,""!==a&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:a,data:t}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:a}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.setState({jwebuiAutoReload:!0})});let i=this.stateData.column3.table_left.dataFull.Header.data[1],s=0;this.stateData.column3.table_left_data.forEach(()=>{!0===i.data.value&&(this.stateData.column3.table_left_data[s].data[1].value=!1),s++}),i.data.value=!1},this.onClickAssignLeftRow=e=>{this.callAPI("user_profile_user_in_role",e.value).then(e=>{var t;let a=(null===e||void 0===e||null===(t=e.user_profile_user_in_role)||void 0===t?void 0:t.data)||[];this.setState({table_user_profile_user_in_role:a})})},this.onClickAssignLeftToRight=e=>{let t=this.state.column3_role_right_select.roleid,a=this.state.O9_Roles_User_assignment_table_right;for(let i=0;i<a.length;i++){if(a[i].usrcd===e.usrcd)return}""!==t&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:t,data:[{usrid:e.usrid}]}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type&&(this.callAPI("O9_Roles_User_assignment_table",{roleid:t}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0))})},this.onClickAssignRightToLeft=e=>{let t=this.refs.ref_assignment_list_role_name_right.value;""!==t&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:-t,data:[{usrid:e.usrid}]}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type&&(this.callAPI("O9_Roles_User_assignment_table",{roleid:t}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0))})},this.onClickAssignRightToLeftArray=e=>{let t=this.stateData.column3.table_right_data.filter(e=>!0===e.data[1].value).map(e=>e.data[1].dataItem.value),a=this.state.column3_role_right_select.roleid;this.unCheck_user_assign_table_right=!0,""!==a&&this.callAPI("O9_Roles_User_Assignment_left_to_right",{roleid:-a,data:t}).then(e=>{1===e.O9_Roles_User_Assignment_left_to_right[0].type?(this.callAPI("O9_Roles_User_assignment_table",{roleid:a}).then(e=>{let t=e.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:t})}),this.showToast("Save",!0)):this.setState({jwebuiAutoReload:!0})});let i=this.stateData.column3.table_right.dataFull.Header.data[1],s=0;this.stateData.column3.table_right_data.forEach(()=>{!0===i.data.value&&(this.stateData.column3.table_right_data[s].data[1].value=!1),s++}),i.data.value=!1},this.onChangeUserAgm=(e,t)=>{switch(e.type){case"left":if(e.id===this.state.column3_role_right_select.roleid)break;this.callAPI("O9_Roles_User_assignment_table",{roleid:e.id}).then(t=>{let a=this.state.O9_RolesUser_assignment_Role_Name_Left.filter(t=>t.roleid===e.id),i=t.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_left:i,column3_role_left_select:a[0]})});break;case"right":if(e.id===this.state.column3_role_left_select.roleid)break;this.callAPI("O9_Roles_User_assignment_table",{roleid:e.id}).then(t=>{let a=this.state.O9_RolesUser_assignment_Role_Name_Right.filter(t=>t.roleid===e.id),i=t.O9_Roles_User_assignment_table;this.setState({O9_Roles_User_assignment_table_right:i,column3_role_right_select:a[0]})})}},this.renderInvokeLimit=()=>s.a.createElement("div",{className:"tab-content tab-pane fade in active"},s.a.createElement("div",{className:"col-md-12 col-lg-3"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},s.a.createElement("div",{className:"check-list"},s.a.createElement("ul",{className:"list-unstyled"},this.state.O9_Roles_Invoke_limit_menu.map(e=>s.a.createElement("li",{key:e.roleid+"",className:"cashflowTextClick",onClick:()=>{this.onClickMenuInvokeLimit(e)}},s.a.createElement("span",null,s.a.createElement("i",{className:"fa fa-angle-right fa-lg text-default","aria-hidden":"true"})),s.a.createElement("span",{ref:"ref_menu_invoke",value:e.rolename,style:e.rolename===this.state.O9_Roles_Invoke_limit_menu_select.rolename?{fontWeight:"bold"}:{}},e.rolename)," "))))))),s.a.createElement("div",{className:"col-md-12 col-lg-9"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},s.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-12 col-lg-6"},s.a.createElement("div",{className:"check-box"},s.a.createElement("div",{className:"checkbox"},s.a.createElement("label",null,s.a.createElement("input",{type:"checkbox",defaultChecked:!0,disabled:!0}),s.a.createElement("span",{className:"mrgn-l-xs display-ib"},"Auto Save"))))),s.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},s.a.createElement("table",{className:"table table-hover table-bordered "},s.a.createElement("thead",null,s.a.createElement("tr",{className:"bg-primary"},this.state.header_table_currency.map(e=>s.a.createElement("th",{key:e.title},e.title)))),s.a.createElement("tbody",null,this.state.O9_Roles_InvokeLimit_Table.map((e,t)=>s.a.createElement("tr",{key:t},this.state.header_table_currency.map(e=>this.renderItemTableInvokeLimit(this.state.O9_Roles_InvokeLimit_Table,t,e))))))))))),this.onChangeCurrency=e=>{let t=e.split(".");return void 0===t[0]&&(t[0]="0"),void 0===t[1]&&(t[1]="0"),t[0]=t[0].replace(/[^\d]/gm,""),t[1]=t[1].replace(/[^\d]/gm,""),this.convertCurrency(t[0]+"."+t[1])},this.getValueCurrency=e=>{let t=e.split(".");return void 0===t[0]&&(t[0]="0"),void 0===t[1]&&(t[1]="0"),t[0]=t[0].replace(/[^\d]/gm,""),t[1]=t[1].replace(/[^\d]/gm,""),Number(t[0]+"."+t[1])},this.renderItemTableInvokeLimit=(e,t,a)=>{let i=e[t];return"text"===a.type?s.a.createElement("td",{key:a.code+t},i[a.code]||""):s.a.createElement("td",{key:a.code+t},s.a.createElement("input",{className:"RoleUserinputTable",value:i[a.code]||"",onChange:i=>{let s=i.target.value?this.onChangeCurrency(i.target.value):"";e[t][a.code]=s,this.setState({O9_Roles_InvokeLimit_Table:e})},onBlur:e=>{this.callAPI("O9_Roles_InvokeLimit_Table_Change_save",{roleid:this.state.O9_Roles_Invoke_limit_menu_select.roleid,data:[{roleid:this.state.O9_Roles_Invoke_limit_menu_select.roleid,txcode:i.cmdid,ccrcd:a.code,amt:e.target.value?this.onChangeCurrency(e.target.value):null}]}).then(e=>{if(1===e.O9_Roles_InvokeLimit_Table_Change_save[0].type){this.showToast("Save",!0);var t=[{txcode:"bo-autoRole-FormFO",input:{}}];t[0].input=Object.assign(t[0].input,{}),Object(T.b)(t,{})}})}}))},this.saveInvokeTable=()=>{},this.onClickMenuInvokeLimit=e=>{let t=e.dataFull.dataItem;this.callAPI("O9_Roles_InvokeLimit_Table",t).then(e=>{void 0===e&&(e=[]);let a=e.O9_Roles_InvokeLimit_Table;this.setState({O9_Roles_Invoke_limit_menu_select:t,Invoke_role_selected:t.roleid},()=>{this.reloadTableInvokeLimit(a)})})},this.reloadTableInvokeLimit=e=>{for(const t of this.state.header_table_currency)if("text"!==t.type)for(let a of e)a[t.code]=this.convertCurrency(a[t.code]);this.setState({O9_Roles_InvokeLimit_Table:e})},this.renderApproveLimit=()=>s.a.createElement("div",{className:"tab-content tab-pane fade in active"},s.a.createElement("div",{className:"col-md-12 col-lg-3"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},s.a.createElement("div",{className:"check-list"},s.a.createElement("ul",{className:"list-unstyled"},this.state.O9_Roles_Approve_limit_menu.map(e=>s.a.createElement("li",{key:e.roleid,className:"cashflowTextClick",onClick:()=>{this.onClickMenuApproveLimit(e)}}," ",s.a.createElement("span",null,s.a.createElement("i",{className:"fa fa-angle-right fa-lg text-default","aria-hidden":"true"})),s.a.createElement("span",{style:e.rolename===this.state.O9_Roles_Approve_limit_menu_select.rolename?{fontWeight:"bold"}:{}},e.rolename)," "))))))),s.a.createElement("div",{className:"col-md-12 col-lg-9"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b-lg"},s.a.createElement("div",{className:"col-xs-6 col-sm-6 col-md-12 col-lg-6"},s.a.createElement("div",{className:"check-box"},s.a.createElement("div",{className:"checkbox"},s.a.createElement("label",null,s.a.createElement("input",{type:"checkbox",defaultChecked:!0,disabled:!0}),s.a.createElement("span",{className:"mrgn-l-xs display-ib"},"Auto Save"))))),s.a.createElement("div",{className:"RoleUserRoleProfileTableScoll"},s.a.createElement("table",{className:"table table-hover table-bordered "},s.a.createElement("thead",null,s.a.createElement("tr",{className:"bg-primary"},this.state.header_table_currency.map(e=>s.a.createElement("th",{key:e.title},e.title)))),s.a.createElement("tbody",null,this.state.O9_Roles_ApproveLimit_Table.map((e,t)=>s.a.createElement("tr",{key:t},this.state.header_table_currency.map(e=>this.renderItemTableApproveLimit(this.state.O9_Roles_ApproveLimit_Table,t,e))))))))))),this.onClickMenuApproveLimit=e=>{e=e.dataFull.dataItem,this.callAPI("O9_Roles_ApproveLimit_Table",e).then(t=>{if(t){let a=t.O9_Roles_ApproveLimit_Table;for(const e of this.state.header_table_currency)if("text"!==e.type)for(let t of a)t[e.code]=this.convertCurrency(t[e.code]);this.setState({O9_Roles_ApproveLimit_Table:a,O9_Roles_Approve_limit_menu_select:e,Approve_role_selected:e.roleid})}})},this.renderItemTableApproveLimit=(e,t,a)=>{let i=e[t];return"text"===a.type?s.a.createElement("td",{key:a.code+t},i[a.code]||""):s.a.createElement("td",{key:a.code+t},s.a.createElement("input",{className:"RoleUserinputTable",value:i[a.code]||"",onChange:i=>{let s=this.onChangeCurrency(i.target.value);e[t][a.code]=s,this.setState({O9_Roles_ApproveLimit_Table:e})},onBlur:e=>{this.callAPI("O9_Roles_ApproveLimit_Table_Change_save",{roleid:this.state.O9_Roles_Approve_limit_menu_select.roleid,data:[{roleid:this.state.O9_Roles_Approve_limit_menu_select.roleid,txcode:i.cmdid,ccrcd:a.code,amt:this.getValueCurrency(e.target.value)}]}).then(e=>{1===e.O9_Roles_ApproveLimit_Table_Change_save[0].type&&this.showToast("Save",!0)})}}))},this.onClickTreeMenuInvokeApprove=(e,t)=>{t=t.dataItem;let a=this.state.menu_invoke_aprrove;t.isOpen=!t.isOpen;let i=[],s=[];this.callAPI("O9_Roles_InvokeApprove_Table_header",t).then(e=>{i=[{cmdid:"0",caption:"Role Name"},{cmdid:"0",caption:"Self Invoke"}],i=i.concat(e.O9_Roles_InvokeApprove_Table_header),i=i.filter(e=>null!=e.cmdid),this.callAPI("O9_Roles_InvokeApprove_Table_body",t).then(e=>{s=e.O9_Roles_InvokeApprove_Table_body,this.setState({menu_invoke_aprrove:a,O9_Roles_InvokeApprove_Table_body:s,O9_Roles_InvokeApprove_Table_header:i,menu_invoke_aprrove_select:t})})})},this.removeRoleName=()=>{let e=this.state.role_name_copying_selected;""!==e&&this.callAPI("O9_Roles_User_Add_and_remove_delete",{roleid:e}).then(e=>{let t=e.O9_Roles_User_Add_and_remove_delete;1===t[0].type?(this.callAPI("O9_Roles_Add_and_Remove_Role_Name").then(e=>{let t=e.O9_Roles_Add_and_Remove_Role_Name;this.setState({O9_Roles_Add_and_Remove_Role_Name:t,isAdd_add_and_remove:!1,isDelete_add_and_remove:!1,delete_err:"",role_name_copying_selected:""})}),this.showToast("Save",!0)):(this.showToast(e.O9_Roles_User_Add_and_remove_delete[0].message,!1),this.setState({delete_err:t[0].message||""}))})},Fe=Object(d.b)("jwebui_roleProfile"),this.key_form="015003008",this.state={"column3.role_choose_right":"","column3.role_choose_left":"","column2.role_name_copying":"",column3_role_left_select:0,role_name_adding_input:"",role_name_copying_selected:"",isLoading:!0,visibility:"",data:this.props.data,infoA:{title:"Invoke Limit",des:"Invoke Limit",openOne:"true",ofModal:!1},addAndRemove_btnSaveClick:!0,menu_parent_select:"Invoke Limit",menu_select:"column4",menu_invoke_aprrove:[],O9_Roles_InvokeApprove_Table_header:[],O9_Roles_InvokeApprove_Table_body:[],menu_invoke_aprrove_select:{},O9_Roles_Add_and_Remove_Role_Name:[],O9_Roles_Add_and_Remove_Role_Name_select:"",O9_Roles_User_assignment_table_left:[],O9_Roles_User_assignment_table_right:[],O9_RolesUser_assignment_Role_Name_Left:[],O9_RolesUser_assignment_Role_Name_Right:[],user_assignment_select:"",O9_Roles_Invoke_limit_menu:[],O9_Roles_Invoke_limit_menu_select:{},O9_Roles_Approve_limit_menu:[],O9_Roles_Approve_limit_menu_select:{},O9_Roles_InvokeLimit_Table:[],O9_Roles_ApproveLimit_Table:[],table_user_profile_user_in_role:[],header_table_currency:[{title:"Group",code:"module",type:"text"},{title:"Caption",code:"tranname",type:"text"},{title:"USD",code:"USD"},{title:"KHR",code:"KHR"},{title:"EUR",code:"EUR"},{title:"JPY",code:"JPY"},{title:"THB",code:"THB"},{title:"HKD",code:"HKD"},{title:"MYR",code:"MYR"},{title:"SGD",code:"SGD"},{title:"LAK",code:"LAK"},{title:"CNY",code:"CNY"},{title:"VND",code:"VND"}]},this.menu_form=[{title:"Roles Profile",child:["Invoke - Aprrove","Add - Remove","User Assignment"]},{title:"Invoke Limit",child:[]},{title:"Approve Limit",child:[]}],this.user_profile=n.g.context_get("user_acc"),this.stateData={form:{dataFull:{config:{default:{title:"Roles Profile"}},cmd:{visibility:""}}},tab:{data:[{id:"column1",title:"Role Profile - Invoke - Approve"},{id:"column2",title:"Role Profile - Add - Remove"},{id:"column3",title:"Role Profile - User - Assignment"},{id:"column4",title:"Invoke Limit",isShow:!0},{id:"column5",title:"Approve Limit"}],abs_select:(e,t)=>{this.setState({menu_select:t})}},column1:{tree_data:{tree_data:[],config:{open_one:!0,is_has_dom:!0,noBorder:!0}},title_table_up:"OPEARTION",table_up:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1}}}},table_up_data:[],table_up_config:[],title_table_down:"VERIFICATION",table_down:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1}}}},table_down_data:[],table_down_config:[]},column4:{auto_save:{dataFull:{value:!0,dataItem:{}},abs_Click:this.test},listItem:[],table:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1}}},config:{mode:{noHeader:!1}}}},table_data:[],table_config:[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnEditInput",config:{mode:"right",isFrozen:!1}}]},column5:{auto_save:{dataFull:{value:!0,dataItem:{}},abs_Click:this.test},listItem:[],table:{dataFull:{Header:{data:[],config:{mode:{hasSearch:!1}}},config:{mode:{noHeader:!1}}}},table_data:[],table_config:[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"right",isFrozen:!1}}]},column2:{role_name_adding:{dataFull:{config:{default:{title:"Role Name (for adding)",type:"text",class:"col-sm-5",code_form_component:"role_name_adding"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:e=>{this.CheckAddRoleName(e)}},listButton:[{dataFull:{config:{default:{title:"Add",icon:"add_circle_outline"}}},abs_Click:()=>{this.setState({addAndRemove_btnAddClick:!0})}},{dataFull:{config:{default:{title:"Remove",icon:"highlight_off"}}},abs_Click:this.removeRoleName},{dataFull:{config:{default:{title:"Save",type:"primary",icon:"check_circle_outline"},cmd:{}}},abs_Click:this.AddRoleName}],role_name_copying:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"Role Name (for copying or deleting)",type:"text",class:"col-sm-5",code_form_component:"role_name_copying"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},data:[],input_value:"123",search_value:""},abs_Change:this.abs_role_name_copying_select,abs_search:e=>{this.onSearch(e,"column2.role_name_copying")}}},column3:{table_in_role:{dataFull:{Header:{data:[{title:"NO.",config:{width:"50px",isFrozen:!1}},{title:"",data:{value:!1,abs_Click:this.abs_CheckAll},config:{hasCheck:!0,width:"",isFrozen:!1}},{title:"User Code",config:{width:"",isFrozen:!1}},{title:"User Name",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{noHeader:!1}}}},table_in_role_data:[{data:[{data:"2"},{value:!1,abs_Click:this.abs_Ckeck},{data:"ACT Manager"},{data:"abc@gmail.com"}],config:{value:!1}}],table_in_role_config:[{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnCheckbox"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}],user_assignment:{title:"User assignment"},user_in_role:{title:"User in role"},role_choose_left:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"rrrrrrr",type:"text",class:"col-md-12",code_form_component:"language_default"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}},mode:{noTitle:!0}},data:[{title:"Viet Nam",value:"123",selected:!0},{title:"New acc",value:"1234"},{title:"New aa",value:"12345"},{title:"New pub",value:"122"}],search_value:""},abs_Change:this.onChangeUserAgm,abs_search:e=>{this.onSearch(e,"column3.role_choose_left")}},role_choose_right:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:"rrrrrrr",type:"text",class:"col-md-12",code_form_component:"language_default"},cmd:{disable:!1,visible:!0,error:{message:"",type:""}},mode:{noTitle:!0}},data:[{title:"Viet Nam",value:"123",selected:!0},{title:"New acc",value:"1234"},{title:"New aa",value:"12345"},{title:"New pub",value:"122"}],search_value:""},abs_Change:this.onChangeUserAgm,abs_search:e=>{this.onSearch(e,"column3.role_choose_right")}},preview:{dataFull:{config:{default:{title:"",type:"",icon:"keyboard_arrow_left"}}},abs_Click:this.abs_Click_previous},preview_all:{dataFull:{config:{default:{icondouble:"keyboard_arrow_left"}}},abs_Click:this.abs_Click_previous_all},next_all:{dataFull:{config:{default:{type:"",icondouble:"keyboard_arrow_right"}}},abs_Click:this.abs_Click_next_all},next:{dataFull:{config:{default:{type:"",icon:"keyboard_arrow_right"}}},abs_Click:this.abs_Click_next},table_left:{dataFull:{Header:{data:[{title:"NO.",config:{width:"50px",isFrozen:!1}},{title:"",data:{value:!1,abs_Click:this.abs_CheckAll_left},config:{hasCheck:!0,width:"",isFrozen:!1}},{title:"User Code",config:{width:"",isFrozen:!1}},{title:"User Name",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{height:"520px",noHeader:!1}}}},table_left_data:[{data:[{data:"2"},{value:!1,abs_Click:this.abs_Ckeck},{data:"ACT Manager"},{data:"abc@gmail.com"}],config:{value:!1}}],table_left_config:[{type:"uTableColumnDefault",config:{mode:"center",isFrozen:!1}},{type:"uTableColumnCheckbox"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}],table_right:{dataFull:{Header:{data:[{title:"NO.",config:{width:"50px",isFrozen:!1}},{title:"",data:{value:!1,abs_Click:this.abs_CheckAll_right},config:{hasCheck:!0,width:"",isFrozen:!1}},{title:"User code",config:{width:"",isFrozen:!1}},{title:"User Name",config:{width:"",isFrozen:!1}}],config:{mode:{hasSearch:!1,isFrozenHeader:!0}}},config:{mode:{height:"520px",noHeader:!1}}}},table_right_data:[{data:[{data:"1"},{value:!1,abs_Click:this.abs_Ckeck},{data:"ACT Manager"},{data:"ACT Manager"}],config:{value:!0}}],table_right_config:[{type:"uTableColumnDefault",config:{mode:"center",isFrozen:!1}},{type:"uTableColumnCheckbox"},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}},{type:"uTableColumnDefault",config:{mode:"left",isFrozen:!1}}]}}}async componentDidMount(){n.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),n.g.form_addMapping(this.key_form,this.props.mapping_key),await this.callAPI("O9_Roles_InvokeApprove_Menu").then(e=>{let{O9_Roles_InvokeApprove_Menu:t}=e||[];this.setState({menu_invoke_aprrove:t})});let e=[],t=[{roleid:0,rolename:"All"}],a=[],i=[],s=[];await this.callAPI("O9_Roles_Add_and_Remove_Role_Name").then(t=>{e=t.O9_Roles_Add_and_Remove_Role_Name}),await this.callAPI("O9_RolesUser_assignment_Role_Name_Left").then(e=>{t=t.concat(e.O9_RolesUser_assignment_Role_Name_Left)}),await this.callAPI("O9_RolesUser_assignment_Role_Name_Right").then(e=>a=e.O9_RolesUser_assignment_Role_Name_Right),t.length>0&&await this.callAPI("O9_Roles_User_assignment_table",{roleid:0}).then(e=>{i=e.O9_Roles_User_assignment_table}),a.length>0&&await this.callAPI("O9_Roles_User_assignment_table",a[0]).then(e=>{s=e.O9_Roles_User_assignment_table}),this.setState({role_left:t[0],column3_role_right_select:a[0],column3_role_left_select:t[0],column2_role_select:e[0],O9_Roles_Add_and_Remove_Role_Name:e,O9_RolesUser_assignment_Role_Name_Left:t,O9_RolesUser_assignment_Role_Name_Right:a,O9_Roles_User_assignment_table_left:i,O9_Roles_User_assignment_table_right:s,O9_Roles_Invoke_limit_menu:e,O9_Roles_Approve_limit_menu:e,isLoading:!1},()=>{})}render(){return s.a.createElement("div",{style:{display:this.state.visibility}},s.a.createElement(Fe,{stateData:this.stateData}))}convertCurrency(e){if(void 0===e||null===e||""===e)return"";if((e+="").length>16)return"";let t=e.split(".")[0]||"0",a=e.split(".")[1]||"0";return a=Number("0."+a).toFixed(2).split(".")[1],Number.isNaN(t+"."+a)?"":(t+"."+a).replace(/\d(?=(\d{3})+\.)/g,"$&,")}reloadTableWithMenuInvokeApprove(){let e=this.state.menu_invoke_aprrove_select,t=[];this.callAPI("O9_Roles_InvokeApprove_Table_body",e).then(e=>{t=e.O9_Roles_InvokeApprove_Table_body,this.setState({O9_Roles_InvokeApprove_Table_body:t})})}}var Le=je;const ze=e=>{switch(e.form_code){case"myProfile":return E.a.quickPost([{txcode:"#sys:bo-load-myProfile",input:{}}],{}),!0;case"015003011":return function(){var e=n.g.autoID();n.g.newForm(s.a.createElement(i.Suspense,{key:e,fallback:s.a.createElement("div",null)},s.a.createElement(Ce,{key:e,mapping_key:e})))}(),!0;case"016002":return function(){var e=n.g.autoID();n.g.newForm(s.a.createElement(i.Suspense,{key:e,fallback:s.a.createElement("div",null)},s.a.createElement(q,{key:e,mapping_key:e})))}(),!0;case"015003003":return function(){var e=n.g.autoID();n.g.newForm(s.a.createElement(i.Suspense,{key:e,fallback:s.a.createElement("div",null)},s.a.createElement(X,{key:e,mapping_key:e})))}(),!0;case"015001005":return function(){var e=n.g.autoID();n.g.newForm(s.a.createElement(i.Suspense,{key:e,fallback:s.a.createElement("div",null)},s.a.createElement(De,{key:e,mapping_key:e})))}(),!0;case"003005":return function(){let e=n.g.autoID();n.g.newForm(s.a.createElement(i.Suspense,{key:e,fallback:s.a.createElement("div",null)},s.a.createElement(Ee,{key:e,mapping_key:e})))}(),!0;case"011001":return function(){let e=n.g.autoID();n.g.newForm(s.a.createElement(i.Suspense,{key:e,fallback:s.a.createElement("div",null)},s.a.createElement(Te,{key:e,mapping_key:e})))}(),!0;case"015003009":return function(){var e=n.g.autoID();n.g.newForm(s.a.createElement(i.Suspense,{key:e,fallback:s.a.createElement("div",null)},s.a.createElement(Se,{key:e,mapping_key:e})))}(),!0;case"015003008":return function(){var e=n.g.autoID();n.g.newForm(s.a.createElement(i.Suspense,{key:e,fallback:s.a.createElement("div",null)},s.a.createElement(Le,{key:e,mapping_key:e})))}(),!0;case"mangerFeedback":return E.a.quickPost([{txcode:"#sys:bo-feedback-loadData",input:{}}],{}),!0}return!1};var Re=a(52);const Ue=(e,t,a,i,o)=>{if(null!=e.form_code&&!n.g.openForm(e.form_code)){if(ze(e))return;switch(e.form_code){case"designForm":E.a.quickPost([{txcode:"#sys:bo-load-designForm",input:{}}],{});break;case"paraServer":E.a.quickPost([{txcode:"#sys:bo-load-allParaServer",input:{}}],{});break;case"flow_bo":E.a.quickPost([{txcode:"#sys:bo-load-allTxBo",input:{}}],{});break;case"flow_fo":E.a.quickPost([{txcode:"#sys:bo-load-allTxFo",input:{}}],{});break;case"roleMatrix":E.a.quickPost([{txcode:"#sys:bo-load-allRoleSystem",input:{para_data:"role_system"}}],{});break;case"roleUser":E.a.quickPost([{txcode:"#sys:bo-load-roleUser",input:{}}],{});break;case"roleBo":E.a.quickPost([{txcode:"#sys:bo-load-roleBo",input:{}}],{});break;case"myDevice":E.a.quickPost([{txcode:"#sys:bo-load-device",input:{token_webui:Object(n.w)()}}],{});break;case"langApplication":!function(){for(var e=n.g.getConfigUserDefault("list_lang_config"),t="",a=0;a<e.length;a++)t+=""===t?e[a].key:";"+e[a].key;E.a.quickPost([{txcode:"#sys:bo-load-langAll",input:{lang_data:t}}],{})}();break;case"eLearning":Object(T.b)([{txcode:"#sys:bo-load-eLearning",input:{}}],{}).then(e=>{var t=n.g.foGetData("temple_elearning",e),a=n.g.foGetData("data",e),i=n.g.autoID();n.g.newForm(s.a.createElement(Re.default,{temple_elearning:t,data:a,key:i,mapping_key:i}))},e=>{});break;default:const l=Object(n.p)(e.form_code);if(void 0===l)Object(T.b)([{txcode:"#sys:bo-load-formRole",input:{form_id:e.form_code}},{txcode:"#sys:bo-load-formId",input:{form_id:e.form_code}}],{}).then(s=>{var l=n.g.foGetData("form_design_detail",s),r=n.g.foGetData("loadRoleTask",s);if(void 0!==r?Object(n.b)(e.form_code,r):Object(n.b)(e.form_code,{}),null!=l){Object(n.a)(e.form_code,l);const s=Object(n.p)(e.form_code),r=Qe(e);let c={data_form:"",learnapi_form:"",learnsql_form:"",bo_data_form:"",lazy_load:Object(n.l)(e.form_code)};void 0!==r.data&&(c.data_form=r.data),void 0!==r.learnapi&&(c.learnapi_form=r.learnapi),void 0!==r.learnsql&&(c.learnsql_form=r.learnsql),void 0!==r.bodata&&(c.bo_data_form=r.bodata),Ve(c,e.form_code,s,r,void 0,t,a,i,o)}},e=>{});else{const s=Qe(e);let r={data_form:"",learnapi_form:"",learnsql_form:"",bo_data_form:"",lazy_load:Object(n.l)(e.form_code)};void 0!==s.data&&(r.data_form=s.data),void 0!==s.learnapi&&(r.learnapi_form=s.learnapi),void 0!==s.learnsql&&(r.learnsql_form=s.learnsql),void 0!==s.bodata&&(r.bo_data_form=s.bodata),Ve(r,e.form_code,l,s,void 0,t,a,i,o)}}}},Pe=(e,t,a,i,o)=>{void 0===a&&(a={});var r=Object(n.p)(e);if(void 0===r)Object(T.b)([{txcode:"#sys:bo-load-formRole",input:{form_id:e}},{txcode:"#sys:bo-load-formId",input:{form_id:e}}],{}).then(r=>{var c=n.g.foGetData("form_design_detail",r),d=n.g.foGetData("loadRoleTask",r);if(void 0!==d&&Object(n.b)(e,d),void 0!==c){Object(n.a)(e,c);const r=Object(n.p)(e),d=Object(n.q)(e);let m={data_form:"",learnapi_form:"",learnsql_form:"",bo_data_form:"",lazy_load:Object(n.l)(e)};void 0!==d.data&&(m.data_form=d.data),void 0!==d.learnapi&&(m.learnapi_form=d.learnapi),void 0!==d.learnsql&&(m.learnsql_form=d.learnsql),void 0!==d.bodata&&(m.bo_data_form=d.bodata),""===m.data_form&&""===m.learnapi_form&&""===m.learnsql_form&&""===m.bo_data_form&&"{}"===JSON.stringify(m.lazy_load)?void 0===t?l.a.render(s.a.createElement(P,{key:Object(n.c)(),form_code:e,conf:r,infoA:d}),t):l.a.render(s.a.createElement(P,{key:Object(n.c)(),form_code:e,infoA_parent:a,ofModal:!0,set_call_form_back:o,componentConfigDefault:i,conf:r,infoA:d}),t):Ve(m,e,r,d,t,a,i,o)}},e=>{});else{const c=Object(n.q)(e);let d={data_form:"",learnapi_form:"",learnsql_form:"",bo_data_form:"",lazy_load:Object(n.l)(e)};void 0!==c.data&&(d.data_form=c.data),void 0!==c.learnapi&&(d.learnapi_form=c.learnapi),void 0!==c.learnsql&&(d.learnsql_form=c.learnsql),void 0!==c.bodata&&(d.bo_data_form=c.bodata),""===d.data_form&&""===d.learnapi_form&&""===d.learnsql_form&&""===d.bo_data_form&&"{}"===JSON.stringify(d.lazy_load)?void 0===t?l.a.render(s.a.createElement(P,{key:Object(n.c)(),form_code:e,conf:r,infoA:c}),t):l.a.render(s.a.createElement(P,{key:Object(n.c)(),form_code:e,infoA_parent:a,ofModal:!0,set_call_form_back:o,componentConfigDefault:i,conf:r,infoA:c}),t):Ve(d,e,r,c,t,a,i,o)}};function Ve(e,t,a,i,o,r,c,d,m){var u=[];void 0!==e.data_form&&(u=e.data_form.split(";"));for(var h={},g=0;g<u.length;g++)void 0===h[u[g]]&&""!==u[g]&&(h[u[g]]=u[g]);var _="";for(var p in h)n.g.checkHasData(p)||(""===_?_=p:_+=";"+p);var f="";if(""!==e.learnapi_form){var v=[];void 0!==e.learnapi_form&&(v=e.learnapi_form.split(";"));for(var b={},y=0;y<v.length;y++)""!==v[y].trim()&&(b[v[y].trim()]="one");for(var D in b)f+=""===f?D:";"+D}var A="";if(""!==e.learnsql_form){var C=[];void 0!==e.learnsql_form&&(C=e.learnsql_form.split(";"));for(var N={},M=0;M<C.length;M++)""!==C[M].trim()&&(N[C[M].trim()]="one");for(var k in N)A+=""===A?k:";"+k}if(void 0===e.bo_data_form&&(e.bo_data_form=""),void 0===e.lazy_load&&(e.lazy_load={}),e.data_form=_,e.learnapi_form=f,e.learnsql_form=A,""===e.data_form&&""===e.learnsql_form&&""===e.learnapi_form&&""===e.bo_data_form&&"{}"===JSON.stringify(e.lazy_load)){var E=n.g.autoID();void 0===o?n.g.newForm(s.a.createElement(P,{key:E,mapping_key:E,data_select:m,form_code:t,conf:a,infoA:i,set_call_form_back:d,infoA_parent:r,componentConfigDefault:c,ofModal:!1})):l.a.render(s.a.createElement(P,{key:E,mapping_key:E,data_select:m,form_code:t,set_call_form_back:d,infoA_parent:r,componentConfigDefault:c,ofModal:!0,conf:a,infoA:i}),o)}else""===e.bo_data_form?Ye(t,a,i,o,r,c,d,m,e):Object(T.b)([{txcode:e.bo_data_form,input:{}}],{}).then(s=>{Ye(t,a,i,o,r,c,d,m,e)},e=>{})}function Ye(e,t,a,i,o,r,c,d,m){Object(T.b)([{txcode:"#sys:bo-load-data",input:{table_code:m.data_form,request_data:m,data_select:d}},{txcode:"#sys:bo-load-dataLazy",input:{request_data:m}}],{}).then(m=>{let u=n.g.foGetData("data_select_result",m);if(void 0===d&&(d={}),void 0!==u)for(var h in u)d[h]=u[h];var g=n.g.autoID();void 0===i?n.g.newForm(s.a.createElement(P,{key:g,mapping_key:g,form_error:m.form_error,data_select:d,form_code:e,conf:t,infoA:a,set_call_form_back:c,infoA_parent:o,componentConfigDefault:r,ofModal:!1})):l.a.render(s.a.createElement(P,{key:g,mapping_key:g,form_error:m.form_error,data_select:d,set_call_form_back:c,form_code:e,infoA_parent:o,componentConfigDefault:r,ofModal:!0,conf:t,infoA:a}),i)},e=>{})}const Qe=e=>null!=e.form_code?Object(n.q)(e.form_code):[]},function(e,t,a){"use strict";function i(e,t){if(void 0!==t&&void 0!==e){switch(t.trim()){case"dd/mm/yyyy":return function(e){let t=e.split("/");if(t.length>=3){let e=new Date(`${t[2]}/${t[1]}/${t[0]}`);if(void 0!==e&&null!=e)return e.getTime()}return null}(e)}}return null}function s(e,t){if(void 0!==e&&void 0!==t){let a=new Date(e),i=t.trim();if(null!=a)switch(i){case"ISOString":return a.toISOString()}}return null}function o(e,t){return window.moment(e).format(t)}function l(e,t){e=Number(e);var a=window.moment(e);for(const i in t)if(t.hasOwnProperty(i)){const e=t[i];a=window.moment(a.add(e,i))}return a.valueOf()}a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return l}))},,function(e,t,a){"use strict";function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".";if(i||"."===a||(i="."),void 0===e||null===e||""===e)return;let s=e=e.toString(),o="",l=e.lastIndexOf(i);-1!==l&&(s=e.substring(0,l),s=s.replace(/^-0+/,""),s=s.replace(/^0+/,""),o=e.substring(l,e.length),""===s&&(s="0")),s=s.replace(/\D/g,""),o=o.replace(/\D/g,"");let n=`${s}.${Number("0."+o).toFixed(t).split(".")[1]||""}`;s=n.split(".")[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+a),e.includes("-")&&(s="-"+s),o=n.split(".")[1];let r=`${s}${i}${o}`;return""===o&&(r=s),""!==r?r:void 0}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",i=e+"";if(t){let e=new RegExp("\\"+t,"g");i=i.replace(e,"")}if(a){let e=new RegExp("\\"+a,"g");i=i.replace(e,".")}let s=Number(i);if(!Number.isNaN(s)&&""!==e)return s}a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s}))},function(e,t,a){"use strict";var i=a(0),s=a.n(i);class o extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};try{t.txFoActions=void 0!==e?JSON.stringify(JSON.parse(e),null,4):JSON.stringify([{function:"",status:"A",para:[]}],null,4)}catch(a){t.txFoActions=JSON.stringify([{function:"",status:"A",para:[]}],null,4)}return t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}onBlur(e,t){var a=this.state.data;if("txFoActions"===e)try{var i=JSON.parse(t.target.value);a[e]=JSON.stringify(i,null,4)}catch(s){alert(s)}this.setState({data:a})}render(){return s.a.createElement("div",{hidden:!this.props.hidden,className:"form-group col-sm-12 col-md-12"},s.a.createElement("label",null,"Actions"),s.a.createElement("textarea",{className:"form-control",rows:"12",onChange:e=>{this.onChange("txFoActions",e)},value:this.state.data.txFoActions,onBlur:e=>{this.onBlur("txFoActions",e)},placeholder:"txFoActions"}))}}t.a=o},function(e,t,a){"use strict";var i=a(0),s=a.n(i);class o extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};try{t.txFo=void 0!==e?JSON.stringify(JSON.parse(e),null,4):JSON.stringify([{txcode:"",input:{}}],null,4)}catch(a){t.txFo=JSON.stringify([{txcode:"",input:{}}],null,4)}return t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}onBlur(e,t){var a=this.state.data;if("txFo"===e)try{var i=JSON.parse(t.target.value);a[e]=JSON.stringify(i,null,4)}catch(s){alert(s)}this.setState({data:a})}render(){return s.a.createElement("div",{hidden:!this.props.hidden,className:"form-group col-sm-12 col-md-12"},s.a.createElement("label",null,"Actions"),s.a.createElement("textarea",{className:"form-control",rows:"12",onChange:e=>{this.onChange("txFo",e)},value:this.state.data.txFo,onBlur:e=>{this.onBlur("txFo",e)},placeholder:"txFo"}))}}t.a=o},function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return n}));var i=a(5),s=a(6),o=a(1);function l(e,t,a){Object(i.b)([{txcode:"#sys:bo-load-templePrint",input:{templates:null===e||void 0===e?void 0:e.replace("n*","")}}],{}).then(i=>{let l=o.g.foGetData("list_templates",i),n={templates:l,ob_data:t,node_print:e,form:a.infoA.key_form};void 0!==l&&s.a.fo([{txcode:"#sys:fo-print-voucher",input:{ob_config:n}}],n)},e=>{})}function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=[];e.split(",").forEach(e=>{void 0===o.g.template_getFromStore(e)&&a.push(e)}),a.length>0?Object(i.b)([{txcode:"#sys:bo-load-templePrint",input:{templates:a.join(",")}}],{}).then(e=>{let a=o.g.foGetData("list_templates",e);void 0!==a&&a.forEach(e=>{o.g.template_addToStore(e.id,e)}),t()},e=>{}):t()}},function(e,t,a){"use strict";var i=a(0),s=a.n(i),o=a(4);class l extends i.Component{render(){const e=Object(o.a)("uTableColumnDefault");return s.a.createElement(e,{title:this.props.title,dataFull:{title_parent:this.props.title_parent,data:null===this.props.data?"":String(this.props.data),config:{mode:"number"===typeof this.props.data?"right":"left"}}})}}t.a=l},function(e,t,a){"use strict";var i=a(0),s=a.n(i),o=a(1),l=a(6),n=a(4);const r={btn_delete:{color:"danger",icon:"fa-trash-o"},btn_view:{color:"info",icon:"fa-eye"},btn_select:{color:"primary",icon:"fa-check"},btn_print:{color:"base",icon:"fa-print"},view:{color:"info",icon:"fa-eye"},delete:{color:"danger",icon:"fa-trash-o"}};class c extends i.Component{constructor(e){super(e),this.onClickButton=async e=>{var t,a,i;if(!0===((null===(t=this.props)||void 0===t||null===(a=t.tableContext)||void 0===a||null===(i=a.state)||void 0===i?void 0:i.CMD)||{}).disabled)return;let s=e.default,n=e.config;var r=o.g.getFormAppAuto(this.props.infoA.key_form);if(await r.runRuleFunction(s,JSON.parse(this.row_data),this.props.infoA_parent,"on_click"),void 0!==n.useAction)if("true"===n.useAction){var c=o.g.parseJson(n.txFoActions);void 0!==c?l.a.runActionWithContext(c,JSON.parse(this.row_data),this.props.infoA,this.props.infoA_parent,s):o.g.AppException("#cColumnAction.onClick","config_fo is undefined")}else if(void 0!==n.txFo){var d=o.g.parseJson(n.txFo);void 0!==d?l.a.runFoWithContext(d,JSON.parse(this.row_data),this.props.infoA,this.props.infoA_parent,s):o.g.AppException("#cColumnAction.onClick","Error Json is undefined")}else o.g.AppException("#cColumnAction.onClick","txFo is undefined");else o.g.AppException("#cColumnAction.onClick","useAction is undefined");o.g.isDebug()&&o.g.copyToClipboard(n.txFo)},this.row_data={},this.state={lang_select:this.props.lang_select,data:this.callBuildColumn(!0)}}callBuildColumn(e){this.row_data=JSON.stringify(this.props.value);let t=this.props.data.filter(e=>o.g.checkDynamicCondition(this.props.value,e.default.condition));if(void 0!==e&&e)return t;this.setState({data:t})}onClick(e,t){}componentDidUpdate(e){this.props.lang_select!==e.lang_select&&this.setState({lang_select:this.props.lang_select}),this.props.value===e.value&&this.props.data===e.data||this.callBuildColumn()}getIcon(e){var t,a;return(null===(t=r[e.default.code])||void 0===t?void 0:t.icon)?null===(a=r[e.default.code])||void 0===a?void 0:a.icon:e.config.icon?e.config.icon:""}render(){var e;const t=Object(n.a)("uTableColumnButtonHover");return 0===(null===(e=this.state.data)||void 0===e?void 0:e.length)?s.a.createElement("td",null):s.a.createElement(t,{title_parent:"title",dataFull:{icon:"more_vert",data:[...this.state.data].map(e=>({icon_item:this.getIcon(e),title:e.default.name,dataItem:e,abs_Click:this.onClickButton}))}})}}t.a=c},function(e,t,a){"use strict";a.r(t);var i=a(0),s=a.n(i);class o extends i.Component{render(){let e=s.a.lazy(()=>a(153)("./"+this.props.template_select+"/"+this.props.screen_working));return s.a.createElement(i.Suspense,{fallback:s.a.createElement("div",null,"Loading...")},s.a.createElement(e,null))}}t.default=o},function(e,t,a){"use strict";var i=a(0),s=a.n(i),o=a(1);class l extends i.Component{constructor(e){super(e),this.state={title:this.props.title,html:this.callBuildColumn(!0)}}componentDidUpdate(e){this.props.value===e.value&&this.props.data===e.data&&this.props.title===e.title||this.callBuildColumn()}callBuildColumn(e){var t="",a="",i=this.props.data;if(this.data_copy=JSON.stringify(this.props.value),void 0!==this.props.config){if(void 0!==this.props.config.data&&void 0!==this.props.config.data[this.props.data]){var l=this.props.config.data[this.props.data];l.color&&(t=l.color),l.icon_img&&(a=l.icon_img)}if(void 0!==this.props.config.cdname&&void 0!==this.props.config.cdgrp&&""!==this.props.config.cdname&&""!==this.props.config.cdgrp){let e=o.g.data_cdList(this.props.config.cdgrp,this.props.config.cdname)||[];for(var n=0;n<e.length;n++){var r=e[n];if(void 0!==r.c_cdlist.cdid&&r.c_cdlist.cdid===i){i=r.c_cdlist.caption;break}}}}let c=null;if(a.includes("data:image/png;base64")||a.includes("http")&&a.includes("//")?c=s.a.createElement("img",{src:a,alt:this.props.title,title:i}):a.includes("fa-")&&(c=s.a.createElement("i",{className:"fa "+a,"aria-hidden":"true",style:{color:t},title:i})),void 0!==e&&e)return c;this.setState({title:this.props.title,html:c})}render(){return s.a.createElement("td",{"data-title":this.state.title,className:"text-center",style:{textAlign:"center"}},this.state.html)}}t.a=l},function(e,t,a){"use strict";var i=a(0),s=a.n(i),o=a(4);class l extends i.Component{getNumber(e){return 0===e||e?Number.isNaN(Number(e))?"--":String(Number(e)):"--"}render(){const e=Object(o.a)("uTableColumnDefault");return s.a.createElement(e,{title:this.props.title,dataFull:{title_parent:this.props.title_parent,data:this.getNumber(this.props.data),config:{mode:"right"}}})}}t.a=l},function(e,t,a){"use strict";var i=a(0),s=a.n(i);class o extends i.Component{render(){return null===this.props.data||void 0===this.props.data?s.a.createElement("td",null," "):s.a.createElement("td",{"data-title":this.props.title,style:{textAlign:"center"}},s.a.createElement("img",{style:{width:"10rem",height:"10rem"},src:"data:image/png;base64,"+this.props.data}))}}t.a=o},function(e,t,a){"use strict";var i=a(0),s=a.n(i),o=a(4),l=a(9);class n extends i.Component{constructor(e){var t;super(e),this.convertMaskToValue=e=>this.isDate?l.b(this.props.data,e):l.c(this.props.data,e);let a=this.props.config.mask;this.isDate=a.includes("DD")&&a.includes("MM")&&a.includes("YY")||!0===(null===(t=this.props.config)||void 0===t?void 0:t.isDate)}render(){const e=Object(o.a)("uTableColumnDefault");return s.a.createElement(e,{title:this.props.title,dataFull:{title_parent:this.props.title_parent,data:this.convertMaskToValue(this.props.config.mask)||"",config:{mode:this.isDate?"center":"left"}}})}}t.a=n},function(e,t,a){"use strict";var i=a(0),s=a.n(i),o=a(1),l=a(4),n=a(9);class r extends i.Component{constructor(e){super(e),this.decimal_length=o.g.getNodeJson(this.props,"config.decimal_length")||o.g.getNodeJson(this.props,"config.decimal")}checkConfigColor(e){if(0!==e&&!e)return"--";let t=this.decimal_length;return 0===t||t||(t=2),t=Number(t)||0,e=Math.round(Number(e)*Math.pow(10,t))/Math.pow(10,t),Object(n.d)(e,t)}render(){const e=Object(l.a)("uTableColumnDefault");return s.a.createElement(e,{dataFull:{title_parent:this.props.title_parent,data:this.checkConfigColor(this.props.data),config:{mode:"right"}}})}}t.a=r},function(e,t,a){"use strict";var i=a(0),s=a.n(i),o=a(1),l=a(4);class n extends i.Component{constructor(){super(...arguments),this.onChange=e=>{const t=this.props.tableContext.props;o.g.getFormAppAuto(t.infoA.key_form).runRuleFunction(t.default,{value:e,rown_data:this.props.rowData},t.infoA_parent,"checked")}}render(){var e,t,a;const i=(null===(e=this.props)||void 0===e||null===(t=e.tableContext)||void 0===t||null===(a=t.state)||void 0===a?void 0:a.CMD)||{};let o=Object(l.a)("uTableColumnCheckbox");return s.a.createElement(o,{dataFull:{title_parent:this.props.title_parent,value:!!this.props.data,config:{cmd:{disable:!0===i.disabled}},abs_Click:(e,t)=>{this.onChange(!t)}}})}}t.a=n},function(e,t,a){"use strict";var i=a(0),s=a.n(i),o=a(40);class l extends i.Component{constructor(){super(...arguments),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}}}render(){return s.a.createElement("div",{style:{color:"red"}},"Nothing! ",this.props.inputType," is undefined. Contact admin, pls!")}}var n=l,r=a(1);class c extends i.Component{render(){const e=o.a[this.props.inputType];return void 0!==e?(r.g.isDebug()&&(this.props.default.name+=` (${this.props.default.code})`),s.a.createElement(e,Object.assign({},this.props,{key:this.props.index,index:this.props.index,config:this.props.config}))):s.a.createElement(n,{inputType:this.props.inputType})}}t.a=c},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return checkConditions}));const checkConditions=(data,condition)=>{if(""!==condition.trim())try{return eval("let wf="+JSON.stringify(data)+";"+condition)}catch(_unused){return!1}return!0},checkConditionsNoContext=condition=>{if(""!==condition.trim())try{return eval(condition)}catch(_unused2){return!1}return!0};class libConditions{}},,,,,,,,,,function(e,t,a){"use strict";var i=a(17),s=a(20),o=a(21),l=a(22),n=a(23),r=a(24),c=a(25);const d={ColumnString:i.a,ColumnStatus:s.a,ColumnNumber:o.a,columnImg:l.a,columnMask:n.a,columnCurrency:r.a,ColumnDefault:i.a,ColumnCheckbox:c.a};t.a=d},function(e,t,a){"use strict";var i=a(17),s=a(20),o=a(21),l=a(22),n=a(23),r=a(0),c=a.n(r),d=a(1),m=a(4);class u extends r.Component{render(){let e=this.props.data||{},t=d.g.getLangKey();e=this.props.data[t];const a=Object(m.a)("uTableColumnDefault");return c.a.createElement(a,{title:this.props.title,dataFull:{title_parent:this.props.title_parent,data:e,config:{mode:"number"===typeof this.props.data?"right":"left"}}})}}var h=u,g=a(24),_=a(25);const p={Normal:"active",Draft:"default",Editing:"warning","Require NRC change":"success",Close:"danger",Block:"purple"};class f extends r.Component{render(){const e=Object(m.a)("uTableColumnAction");return c.a.createElement(e,{dataFull:{title_parent:this.props.title_parent,data:{title:this.props.data,type:p[this.props.data]},config:{isFrozen:!1}}})}}var v=f;const b={ColumnString:i.a,ColumnStatus:s.a,ColumnNumber:o.a,columnImg:l.a,columnMask:n.a,columnLang:h,columnCurrency:g.a,ColumnCheckbox:_.a,ColumnStatusTitle:v};t.a=b},function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var i=a(1);class s{static getMenu(e){var t=i.g.getRoleCache(),a=i.g.getData("group_menu_role");let s=i.g.cloneJson(a);for(let i=0;i<s.length;i++){const e=s[i];e.group_menu.group_menu_order?s[i].group_menu.group_menu_order=Number(e.group_menu.group_menu_order):s[i].group_menu.group_menu_order=0}if(void 0!==(a=(a=s).sort((e,t)=>e.group_menu.group_menu_order-t.group_menu.group_menu_order))){switch(e){case 1:for(let e=0;e<a.length;e++)"I"===a[e].group_menu.group_menu_status&&a.splice(e,1)}return function e(t,a,i){var s=[];if(void 0!==i)for(var o=0;o<a.length;o++){var l=a[o];if(l.group_menu.group_menu_parent===i){var n=e(t,a,l.group_menu.group_menu_id);if(n.length>0){s[s.length]=l;for(var r=0;r<n.length;r++)s[s.length]=n[r]}else void 0!==t[l.group_menu.group_menu_function_code]&&!0===t[l.group_menu.group_menu_function_code]&&(s[s.length]=l)}}return s}(t,a,"0")}}}},function(e,t,a){"use strict";var i=a(7),s=a(0),o=a.n(s),l=a(1),n=a(2),r=a(3),c=a(14),d=a(15);class m extends s.Component{constructor(e){super(e),this.getValue=()=>{var e=this.state.data;if(void 0!==this.refs.txFo){var t=this.refs.txFo.getValue();void 0!==t.txFo&&(e.txFo=t.txFo)}if(void 0!==this.refs.txFoAction){var a=this.refs.txFoAction.getValue();void 0!==a.txFoActions&&(e.txFoActions=a.txFoActions)}return e},this.state={data:this.readConfig(this.props.data),private_key_config:l.g.autoID()}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.txFoActions?t.txFoActions=e.txFoActions:t.txFoActions="",null!=e.txFo?t.txFo=e.txFo:t.txFo="",null!=e.useAction?t.useAction=e.useAction:t.useAction="true",void 0!==e.is_upperCase?t.is_upperCase=e.is_upperCase:t.is_upperCase="false",void 0!==e.action?t.action=e.action:t.action="",void 0!==e.structable?t.structable=e.structable:t.structable="",void 0!==e.structable_read?t.structable_read=e.structable_read:t.structable_read="",void 0!==e.data_default?t.data_default=e.data_default:t.data_default="",void 0!==e.isLookup?t.isLookup=e.isLookup:t.isLookup="false",void 0!==e.callform?t.callform=e.callform:t.callform="",void 0!==e.callform_detail?t.callform_detail=e.callform_detail:t.callform_detail="",void 0!==e.callform_detail_mode?t.callform_detail_mode=e.callform_detail_mode:t.callform_detail_mode="modal",void 0!==e.data_view?t.data_view=e.data_view:t.data_view="",void 0!==e.data_value?t.data_value=e.data_value:t.data_value="",void 0!==e.is_password?t.is_password=e.is_password:t.is_password="false",void 0!==e.is_upper?t.is_upper=e.is_upper:t.is_upper="false",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"is_password",value:this.state.data.is_password,data:[{title:"false",code:"false"},{title:"true",code:"true"}],onChange:e=>this.onChange_Value("is_password",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"In hoa t\u1ea5t c\u1ea3 k\xfd t\u1ef1",value:this.state.data.is_upperCase,data:[{title:"false",code:"false"},{title:"true",code:"true"}],onChange:e=>this.onChange_Value("is_upperCase",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"D\xf9ng lookup",value:this.state.data.isLookup,data:[{title:"Kh\xf4ng d\xf9ng",code:"false"},{title:"D\xf9ng lookup",code:"true"}],onChange:e=>this.onChange_Value("isLookup",e)}),"true"===this.state.data.isLookup&&o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"L\u1ea5y data t\u1eeb form",value:this.state.data.callform,onChange:e=>this.onChange_Value("callform",e)}),"true"===this.state.data.isLookup&&o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"OOP gi\xe1 tr\u1ecb",value:this.state.data.data_value,onChange:e=>this.onChange_Value("data_value",e)}),o.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"panel panel-primary"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-8 col-sm-8 col-md-8"},o.a.createElement("h3",{className:"panel-title text-capitalize"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-left","data-toggle":"collapse"},"H\xe0nh \u0111\u1ed9ng"))),o.a.createElement("div",{className:"col-xs-4 col-sm-4 col-md-4"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-right","data-toggle":"collapse"},o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"}))))),o.a.createElement("div",{id:this.state.private_key_config+"_function",className:"collapse"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"H\xe0nh \u0111\u1ed9ng click",value:this.state.data.useAction,data:[{title:"G\u1ecdi tx fo",code:"false"},{title:"G\xf5 nhanh",code:"true"}],onChange:e=>this.onChange_Value("useAction",e)}),o.a.createElement(d.a,{ref:"txFo",hidden:"false"===this.state.data.useAction,data:this.state.data.txFo}),o.a.createElement(c.a,{hidden:"true"===this.state.data.useAction,ref:"txFoAction",data:this.state.data.txFoActions}))))))}}var u=m;class h extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),null!=e.regex_format&&(t.regex_format=e.regex_format),void 0!==e.validate_html?t.validate_html=e.validate_html:t.validate_html="true",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Cho ph\xe9p nh\u1eadp th\u1ebb html"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.validate_html&&this.state.data.validate_html,onChange:e=>{var t=this.state.data;t.validate_html=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng nh\u1ecf h\u01a1n"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng v\u01b0\u1ee3t qu\xe1"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"C\u1ea5u tr\xfac regex"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.regex_format?this.state.data.regex_format:"",type:"text",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.regex_format=e.target.value:t.regex_format="",this.setState({data:t})}}))))))))}}var g=h,_=a(42);class p extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var f=p,v=a(4);class b extends s.Component{constructor(e){super(e),this.modalClose=()=>{this.setState({show:"none"})},this.getElementContentModal=()=>this.refs.content_modal,this.getDatafull=()=>({config:{default:{title:"",size:"M"},cmd:{visibility:"block"===this.state.show}},abs_Close:this.modalClose}),this.state={show:"none",class:"modal_webui"},this.title="",this.props.info_component&&(this.title=this.props.info_component.name),this.ref_modal=Object(s.createRef)()}componentDidUpdate(e){var t,a;this.props.show!==e.show&&setTimeout(()=>{"none"===this.props.show?this.setState({show:"none"}):this.setState({show:"block"})},300),(null===(t=this.ref_modal)||void 0===t||null===(a=t.current)||void 0===a?void 0:a.abs_Focus)&&"block"===this.state.show&&setTimeout(()=>{this.ref_modal.current.abs_Focus()},100)}render(){let e=Object(v.a)("uModal");return o.a.createElement(e,{dataFull:this.getDatafull(),ref:this.ref_modal},o.a.createElement("div",{className:"modal-body",ref:"content_modal"}))}}var y=b,D=a(10);const A={txFOActions:"",txFo:"",useAction:"true",is_upperCase:"false",action:"",structable:"",structable_read:"",data_default:"",isLookup:"false",callform:"",callform_detail:"",callform_detail_mode:"",data_view:"",data_value:"",is_password:"false"};var C=class{constructor(e,t,a){this.getProperty=()=>this.property,this.setCMD=e=>{void 0!==e.visible&&("true"!==e.visible&&"false"!==e.visible||(this.property.cmd.visible=e.visible)),void 0!==e.disabled&&("true"!==e.disabled&&"false"!==e.disabled||(this.property.cmd.disabled=e.disabled)),void 0!==e.block&&("true"!==e.block&&"false"!==e.block||(this.property.cmd.block=e.block))},this.getCMD=()=>this.property.cmd,this.setCMD_visible=e=>{this.property.cmd.visible=e},this.getCMD_visible=()=>this.property.cmd.visible,this.setCMD_enable=e=>{this.property.cmd.disabled=e},this.getCMD_enable=()=>this.property.cmd.disabled,this.getConfig=()=>{let e=this.property.config,t=Object(i.a)({},A);for(let a in t)e[a]&&(""!==e[a]&&""===e[a]||(t[a]=e[a]));return t||{}},this.getDefault=()=>this.property.default,this.property={inputType:e,config:a,default:t,main:[],position:[],cmd:{visible:"true",disabled:"false",block:"false"}}}},N=a(6);class M extends s.Component{constructor(e){var t,a,s,n;super(e),this.setLoadingAction=(e,t)=>{const a=(null===t||void 0===t?void 0:t.isLoading)||!1;this.setState({isLoading:a})},this.getUInputConfig=()=>({code:this.props_smooth.default.code,dataFull:{abs_ClickIcon:()=>{this.modalToggle()},abs_Change:e=>this.handleChange(e),abs_Blur:e=>this.onBlur(),abs_KeyUp:this.onKeyUp,config:{default:{placeholder:"true"===String(this.state.CMD.disabled)?" ":"",title:this.props_smooth.default.name,type:"true"===this.props_smooth.config.is_password?"password":"text",class:this.props_smooth.default.class,required:this.props_smooth.validate.request,icon:!0===this.state.isLookup?"search":""},cmd:{disable:this.state.CMD.disabled+""==="true",visible:this.state.CMD.visible+""!=="false",error:{message:this.renderMess(this.state.help_mess),type:""},isFocus:this.state.isFocus,isLoading:this.state.isLoading},mode:{textAlign:""}},mode:{isSearch:"true"===String(this.props.config.isSearch),readOnly:!1},valueTitleHover:"true"===this.props_smooth.config.is_password||this.state.CMD.disabled+""!=="true"?"":this.state.value,value:this.state.value}}),this.convertStringWithContext=e=>{let t=l.g.getlistCodeContext(e);for(let a=0;a<t.length;a++){const i=t[a];let s=l.g.context_get(i.code);void 0!==s&&(e=e.replace(i.key,s))}return e},this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props_smooth.infoView,default:this.props_smooth.default,layout:this.props_smooth.infoLayout,block:e.block}},this.setCMD=(e,t)=>{const{CMD:a}=this.state;let i=Object.assign(l.g.cloneJson(a),t);a.disabled===i.disabled&&a.visible===i.visible&&a.block===i.block||this.setState({CMD:i})},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(u,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(f,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(g,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(_.a,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}),this.closeModal=(e,t)=>{this.refs.b_modal.modalClose()},this.set=(e,t)=>{this.clearError();let a=l.g.getFormAppAuto(this.props_smooth.infoA.key_form);if(void 0!==t&&null!==t){if(void 0!==this.props_smooth.config.structable_read&&this.props_smooth.config.structable_read.includes(".")){let e=this.props_smooth.config.structable_read.split(".");if(e.length>0&&void 0!==t[e[0]]&&null!==t[e[0]]&&(this.data_debug.data_cpn=t[e[0]][e[1]],void 0!==t[e[0]][e[1]]&&null!==t[e[0]][e[1]]))return void this.setState({value:t[e[0]][e[1]]},()=>{void 0!==a&&a.runRuleFunction(this.props_smooth.default,this.data_select,this.props_smooth.infoA_parent,"on_change")})}this.data_debug.data_cpn="undefined",this.setState({value:this.props_smooth.config.structable_read?"":this.props_smooth.config.data_default},()=>{void 0!==a&&a.runRuleFunction(this.props_smooth.default,this.data_select,this.props_smooth.infoA_parent,"on_change")})}},this.getAdvanced=(e,t)=>this.state.value,this.getDataOOP=(e,t)=>this.data_select,this.setAdvanced=(e,t)=>{if(e.codeHidden){if(e.codeHidden===this.props_smooth.default.codeHidden&&(this.data_select=t,void 0!==this.data_select)){let e="";void 0!==this.props_smooth.config.data_view&&(e=": "+l.g.getOOP(this.data_select,this.props_smooth.config.data_view.trim()));let t="";void 0!==this.props_smooth.config.data_value&&(t=l.g.getOOP(this.data_select,this.props_smooth.config.data_value.trim())+""),this.setState({value:t,data_view:e},()=>{let e=l.g.getFormAppAuto(this.props_smooth.infoA.key_form);void 0!==e&&e.runRuleFunction(this.props_smooth.default,this.data_select,this.props_smooth.infoA_parent,"enter_tab")})}}else if(e.list_component){const{list_component:a}=e,{code:i}=this.props_smooth.default;if(a){a.split(";").includes(i)&&this.setState({value:t},()=>{let e=l.g.getFormAppAuto(this.props_smooth.infoA.key_form);void 0!==e&&e.runRuleFunction(this.props_smooth.default,this.data_select,this.props_smooth.infoA_parent,"enter_tab")})}}this.clearError()},this.get=(e,t)=>{let a=this.props_smooth.config.structable;if(a.includes("|")){let t=a.split("|");for(let a=0;a<t.length;a++)this.readData(t[a],e.inform)}else this.readData(a,e.inform)},this.checkValidate=()=>{let e="",t=this.state.value;if(void 0===t||null===t)return!1;t=t.toString().trim();let{min:a,max:i,request:s,regex_format:o,validate_html:n}=this.state.validate;if(Number.isInteger(a)&&a>t.length&&(e="validateStringMin"),Number.isInteger(i)&&0!==i?i<t.length&&(e="validateStringMax"):i=500,s&&""===t.trim()&&(e="validateRequest"),o&&""!==t){new RegExp(o,"gm").test(t)||(e="validateFormat")}if(void 0===n||"true"===n){/<\/?[a-z][\s\S]*>/g.test(t)&&(e="validateHtml")}if(""!==e){let t=l.g.getFormAppAuto(this.props_smooth.infoA.key_form);return void 0!==t&&t.setFormValidateFromComponent(!0,this.props_smooth.default),this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:e}),!0}return this.setState({help_css:"",help_icon:"",help_mess:""}),!1},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{this.data_select={},this.setState({value:this.props_smooth.config.data_default},()=>{let e=l.g.getFormAppAuto(this.props_smooth.infoA.key_form);void 0!==e&&e.runRuleFunction(this.props_smooth.default,this.data_select,this.props_smooth.infoA_parent,"reload")})},this.modalToggle=e=>{this.buildFormChild(),!0!==this.state.CMD.disabled&&(void 0===e?this.setState({show_modal:l.g.autoID()}):e&&this.setState({show_modal:"none"}))},this.eventEnter=()=>{if(void 0!==this.props_smooth.config.useAction)if("true"===this.props_smooth.config.useAction){let e=l.g.parseJson(this.props_smooth.config.txFoActions);void 0!==e?N.a.runActionWithContext(e,{},this.props_smooth.infoA,this.props_smooth.infoA_parent,this.props_smooth.default):l.g.AppException("#CTEXTINPUT.onKeyDown","config_fo is undefined")}else if(void 0!==this.props_smooth.config.txFo){let e=l.g.parseJson(this.props_smooth.config.txFo);void 0!==e?N.a.runFoWithContext(e,{},this.props_smooth.infoA,this.props_smooth.infoA_parent,this.props_smooth.default):l.g.AppException("#CTEXTINPUT.onKeyDown","Error Json is undefined")}else l.g.AppException("#CTEXTINPUT.onKeyDown","txFo is undefined");else l.g.AppException("#CTEXTINPUT.onKeyDown","useAction is undefined");l.g.getFormAppAuto(this.props_smooth.infoA.key_form).runRuleFunction(this.props_smooth.default,{},this.props_smooth.infoA_parent,"tab_enter")},this.onKeyUp=e=>{if("Enter"===e.key){this.hasEnter=!0,this.eventEnter(),l.g.getFormAppAuto(this.props_smooth.infoA.key_form).runRuleFunction(this.props_smooth.default,{},this.props_smooth.infoA_parent,"enter")}},this.onBlur=()=>{if(!1===this.checkValidate()){let e=l.g.getFormAppAuto(this.props_smooth.infoA.key_form);void 0!==e&&"true"!==String(this.props.config.isSearch)&&e.runRuleFunction(this.props_smooth.default,{},this.props_smooth.infoA_parent,"enter_tab")}},this.onFocus=e=>{e.target.select()},this.checkDisable=()=>{let e=this.props_smooth.config.is_disabled;return"true"===e||!0===e},this.getInfoErrror=()=>{if(""!==this.state.help_mess){let e=void 0!==this.state.lang&&void 0!==this.state.lang[this.state.lang_select]?this.state.lang[this.state.lang_select]:this.props_smooth.default.name;return{info:this.renderMess(this.state.help_mess),key:e,infoComponent:this.props_smooth.default}}return""},this.renderDebug=()=>{if(l.g.isDebug()){this.props_smooth.config.structable=this.props_smooth.config.structable||"";let e=this.props_smooth.config.structable.split(".")[1],t=this.data_debug.data_cpn;return null===t&&(t="NULL"),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{color:"#f17316"}},`DATA-> |${e}|:|${t}|`))}},this.renderMess=e=>{switch(e){case"validateStringMin":return l.g.getLang(e).replace("{count}",this.state.validate.min);case"validateStringMax":return l.g.getLang(e).replace("{count}",this.state.validate.max);case"validateRequest":case"validateFormat":default:return l.g.getLang(e)}},this.setFocus=()=>{var e,t;(null===(e=this.myRef)||void 0===e||null===(t=e.current)||void 0===t?void 0:t.ref_myInput)&&this.myRef.current.ref_myInput.focus()},this.propertyConstructor=new C(e.inputType,e.default,e.config),this.props_smooth=Object(i.a)({},this.props),(null===(t=this.props_smooth)||void 0===t||null===(a=t.validate)||void 0===a?void 0:a.max)&&(this.props_smooth.validate.max=Number(null===(s=this.props_smooth)||void 0===s||null===(n=s.validate)||void 0===n?void 0:n.max)),this.props_smooth.config=this.propertyConstructor.getConfig(),this.props_smooth.default=this.propertyConstructor.getDefault(),this._enterTimeout=void 0,this.data_default="",void 0!==this.props_smooth.config.data_default&&(this.props_smooth.config.data_default=this.convertStringWithContext(this.props_smooth.config.data_default),this.data_default=this.props_smooth.config.data_default);let r=this.props_smooth.validate;void 0===r&&(r={});let c="true"===this.props_smooth.config.isLookup;this.callform_detail="",this.callform="",this.data_select={};let d=this.props_smooth.lang;void 0===d&&(d={});let m={mode:"",col_text:"",col_input:""};void 0!==e.infoA.mode_form&&(m=e.infoA.mode_form);let h={parent:"",child:""},p={class:""},v=void 0!==this.props_smooth.ofgroup&&""!==this.props_smooth.ofgroup&&"false"!==this.props_smooth.ofgroup,b=void 0!==e.infoA.mode_form&&"1"===e.infoA.mode_form.mode,y=!!this.props_smooth.ofgroup_child;if(b)if(y)h={parent:"",child:void 0!==this.props_smooth.default.class&&""!==this.props_smooth.default.class?this.props_smooth.default.class:void 0!==this.props_smooth.css_default.class&&""!==this.props_smooth.css_default.class?this.props_smooth.css_default.class:"col-sm-4"};else if(v){let e=4/(this.props_smooth.ofgroup_data.length+1);p={class:"col-sm-"+parseInt(e<0?1:e)},h={parent:void 0!==this.props_smooth.default.class&&""!==this.props_smooth.default.class?this.props_smooth.default.class:"col-sm-6",child:""}}else h={parent:void 0!==this.props_smooth.default.class&&""!==this.props_smooth.default.class?this.props_smooth.default.class:"col-sm-6",child:""};else h=y?{parent:"",child:this.props_smooth.default.class+" jwebui-ofgroup"}:v?0===this.props_smooth.ofgroup_data.length?{parent:this.props_smooth.default.class,child:""}:{parent:this.props_smooth.default.class_ofgroup,child:this.props_smooth.default.class+" jwebui-ofgroup-fisrt"}:{parent:this.props_smooth.default.class,child:""};this.state={value:this.data_default,value_old:"",lang:d,lang_select:l.g.getLangKey(),validate:r,isLookup:c,data_view:"",show_modal:"none",show_modal_detail:"none",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",CMD:this.propertyConstructor.getCMD(),check_upper_case:this.props_smooth.config.is_upperCase,config_mode:m,class_config:h,css_default:p,isFocus:!1,isLoading:!1},this.data_debug={},this.myRef=o.a.createRef()}buildPaging(e,t){let a=[],i=1;if(e>0)for(let s=0;s<e;s+=parseInt(t.paging_record))a[a.length]=i,i++;else a[a.length]=1;return a}componentDidUpdate(e){void 0===this.state.value&&this.setState({value:""})}buildFormChild(){if(this.state.isLookup){if(this.props_smooth.config.callform&&""!==this.props_smooth.config.callform.trim()){let e=l.g.cloneJson(this.props_smooth.infoA);e.componentParent=this.props_smooth.default,Object(D.b)(this.props_smooth.config.callform,this.refs.b_modal.getElementContentModal(),e,this.props_smooth.default,"callform")}this.props_smooth.config.callform_detail&&""!==this.props_smooth.config.callform_detail.trim()&&void 0!==this.props_smooth.config.callform_detail_mode&&"modal"===this.props_smooth.config.callform_detail_mode&&Object(D.b)(this.props_smooth.config.callform_detail,this.refs.b_modal_detail.getElementContentModal(),this.props_smooth.infoA,this.props_smooth.default,"callform_detail")}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props_smooth.infoA.key_form,this)},l.g.getTimeAddComponent())}readData(e,t){if(e.includes(".")){let a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.value,this.props_smooth.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.value):l.g.putDataGB(a[0],a[1],"")}}handleChange(e){if(this.state.isLoading)return;let t=e.target.value,a=Number(this.props_smooth.validate.max)||0;t.length>a+100||("true"===this.state.check_upper_case&&(t=t.toUpperCase()),"true"===String(this.props.config.isSearch)&&(void 0===this._enterTimeout?this._enterTimeout=setTimeout(()=>{if(!0!==this.hasEnter){this.eventEnter(),l.g.getFormAppAuto(this.props_smooth.infoA.key_form).runRuleFunction(this.props_smooth.default,{},this.props_smooth.infoA_parent,"enter"),this.hasEnter=!0}else this.hasEnter=!1},1e3):(clearTimeout(this._enterTimeout),this._enterTimeout=setTimeout(()=>{if(!0!==this.hasEnter){this.eventEnter(),l.g.getFormAppAuto(this.props_smooth.infoA.key_form).runRuleFunction(this.props_smooth.default,{},this.props_smooth.infoA_parent,"enter"),this.hasEnter=!0}else this.hasEnter=!1},1e3))),this.setState({value:t}))}openDetail(){if(""!==this.callform_detail&&void 0!==this.props_smooth.infoA){let e=l.g.getFormAppAuto(this.callform_detail);if(void 0!==e)return void("modal"===this.props_smooth.config.callform_detail_mode?(e.putDataAll_andSet(this.data_select),this.setState({show_modal_detail:l.g.autoID()})):(e.putDataAll_andSet(this.data_select),l.g.openForm(this.callform_detail)))}Object(D.a)({form_code:this.props_smooth.config.callform_detail},this.props_smooth.infoA,this.props_smooth.default,"callform_detail",this.data_select)}listenHandlerUser(e){this.setState({value_old:e}),void 0===this.data_select&&(this.data_select={}),this.data_select.new_value=e;let t=l.g.getFormAppAuto(this.props_smooth.infoA.key_form);void 0!==t&&t.runRuleFunction(this.props_smooth.default,this.state.value,this.props_smooth.infoA_parent,"on_change")}render(){const e=Object(v.a)("uInput");return this.state.CMD.visible+""==="false"?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(e,Object.assign({ref:this.myRef},this.getUInputConfig())),this.state.isLookup&&o.a.createElement(y,{info_component:this.props.default,show:this.state.show_modal,infoA_call_form:this.state.infoA_call_form,ref:"b_modal",callform:this.state.callform}),this.state.isLookup&&o.a.createElement(y,{info_component:this.props.default,show:this.state.show_modal_detail,infoA_call_form:this.state.infoA_call_form,ref:"b_modal_detail",callform:this.state.callform}))}}var k=M;class E extends s.Component{async _onChange(e,t){void 0!==this.props.onChange&&this.props.onChange(t)}render(){return o.a.createElement("div",{className:"form-group "+this.props.class},o.a.createElement("label",null,this.props.name),o.a.createElement("textarea",{className:"form-control",rows:this.props.rows?this.props.rows:9,value:this.props.value,onChange:e=>{this._onChange(this.props,e)},placeholder:this.props.name,required:""}))}}var x=E;class I extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.structable?t.structable=e.structable:t.structable="",null!=e.structable_read?t.structable_read=e.structable_read:t.structable_read="",null!=e.data_default?t.data_default=e.data_default:t.data_default="",null!=e.isjson?t.isjson=e.isjson:t.isjson="false",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},"C\u1ea5u h\xecnh chuy\xean text area:",o.a.createElement("br",null),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"\u0110\u1ecbnh d\u1ea1ng json",value:this.state.data.isjson,data:[{title:"Kh\xf4ng d\xf9ng",code:"false"},{title:"D\xf9ng",code:!0}],onChange:e=>this.onChange_Value("isjson",e)}),o.a.createElement(x,{class:"col-sm-12 col-md-12",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}))}}var T=I;class w extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var O=w;const S={},F={},j={disabled:["false","true"],visible:["false","true"],other:["fooA","fooB","fooC"],other2:["foo1","foo2","foo3"]};class L{}L.get=()=>({main:S,position:F,cmd:j}),L.getCmd=()=>j,L.getValueCmd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return void 0!==e.infoA.form_code&&(t=l.g.role_getComponent(e.infoA.form_code,e.default.codeHidden)||{},t=t.role||{}),t};var z=L;class R extends s.Component{constructor(e){super(e),this.getUTextareaConfig=()=>({config:{default:{title:this.props.default.name,class:this.props.default.class,rows:10,required:"true"===this.props.validate.request},cmd:{disable:!1,visible:!0},error:{message:l.g.getLang(this.state.help_mess),type:""!==this.state.help_mess?"danger":""},mode:{}},data:[],value:this.state.value}),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.setCMD=(e,t)=>{const{CMD:a}=this.state;let i=Object.assign(l.g.cloneJson(a),t);for(let s in i)"true"===i[s]&&(i[s]=!0),"false"===i[s]&&(i[s]=!1);this.setState({CMD:i})},this.getFormConfig=e=>o.a.createElement(T,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(O,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}),this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.callDir=()=>this,this.setAdvanced=(e,t)=>{try{t||(t=JSON.stringify(JSON.parse(this.data_default),null,4))}catch(a){t=this.data_default}this.setState({value:t})},this.set=(e,t)=>{if(void 0!==t){if(void 0!==this.props.config.structable_read&&this.props.config.structable_read.includes(".")){var a=this.props.config.structable_read.split(".");if(a.length>0&&void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]])return void this.setState({value:t[a[0]][a[1]]})}this.setState({value:""})}},this.get=(e,t)=>{let a=this.props.config.structable;if(a.includes("|")){let t=a.split("|");for(let a=0;a<t.length;a++)this.readData(t[a],e.inform)}else this.readData(a,e.inform)},this.reload=(e,t)=>{this.setState({value:this.data_default})},this.onBlur=e=>{if(!this.checkValidate()&&void 0!==this.props.config.isjson&&"true"===this.props.config.isjson)try{this.setState({value:JSON.stringify(JSON.parse(e.target.value),null,4)})}catch(t){alert(t)}},this.data_default="",void 0!==this.props.config.data_default&&(this.data_default=this.props.config.data_default);var t=this.props.lang;void 0===t&&(t={});let a={mode:"",col_text:"",col_input:""};void 0!==e.infoA.mode_form&&(a=e.infoA.mode_form);let i={parent:"",child:""},s={class:""},n=void 0!==this.props.ofgroup&&""!==this.props.ofgroup&&"false"!==this.props.ofgroup,r=void 0!==e.infoA.mode_form&&"1"===e.infoA.mode_form.mode,c=!!this.props.ofgroup_child;if(r)if(c)i={parent:"",child:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:void 0!==this.props.css_default.class&&""!==this.props.css_default.class?this.props.css_default.class:"col-sm-4"};else if(n){let e="col-sm-"+parseInt(10/(this.props.ofgroup_data.length+1));s={class:e},i={parent:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:e,child:""}}else i={parent:"col-sm-6",child:""};else i=c?{parent:"",child:this.props.default.class+" jwebui-ofgroup"}:n?0===this.props.ofgroup_data.length?{parent:this.props.default.class,child:""}:{parent:this.props.default.class_ofgroup,child:this.props.default.class+" jwebui-ofgroup-fisrt"}:{parent:this.props.default.class,child:""};this.state={value:this.data_default,lang:t,lang_select:l.g.getLangKey(),help_css:"",help_icon:"",help_mess:"",CMD:z.getValueCmd(this.props),config_mode:a,class_config:i,css_default:s},this.handleChange=this.handleChange.bind(this)}componentDidUpdate(e){this.props.default!==e.default&&this.setState({default:this.props.default}),this.props.config!==e.config&&this.setState({config:this.props.config}),this.props.role!==e.role&&this.setState({role:this.props.role}),this.props.property!==e.property&&this.setState({property:this.props.property})}readData(e,t){if(e.includes(".")){var a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.value,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.value):l.g.putDataGB(a[0],a[1],"")}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}handleChange(e){this.setState({value:e.target.value})}checkValidate(){let e="",t=this.state.value.trim();if("true"===this.props.validate.request&&""===t&&(e="validateRequest"),void 0===this.props.validate.validate_html||"true"===this.props.validate.validate_html){/<\/?[a-z][\s\S]*>/g.test(t)&&(e="validateHtml")}if(""!==e){let t=l.g.getFormAppAuto(this.props.infoA.key_form);return void 0!==t&&t.setFormValidateFromComponent(!0,this.props.default),this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:e}),!0}return this.setState({help_css:"",help_icon:"",help_mess:""}),!1}render(){const e=Object(v.a)("uTextArea");return o.a.createElement(e,{dataFull:Object(i.a)(Object(i.a)({},this.getUTextareaConfig()),{},{abs_Change:this.handleChange,abs_Blur:this.onBlur})})}}var U=R;class P extends s.Component{constructor(e){super(e),this.getValue=()=>{var e=this.state.data;if(void 0!==this.refs.txFo){var t=this.refs.txFo.getValue();void 0!==t.txFo&&(e.txFo=t.txFo)}if(void 0!==this.refs.txFoAction){var a=this.refs.txFoAction.getValue();void 0!==a.txFoActions&&(e.txFoActions=a.txFoActions)}return e};var t=this.readConfig(this.props.data),a=this.changDataSchemaToDataSelect(),i=[];if(a.length>0&&void 0!==t.tableMasterData&&""!==t.tableMasterData){var s=this.changDataSchemaTo_privateKeyTableMasterData(t.tableMasterData,t);void 0!==s.data_schema_pk&&(i=s.data_schema_pk)}this.state={data:t,data_schema:a,data_schema_pk:i,private_key_config:l.g.autoID()}}changDataSchemaToDataSelect(){for(var e=Object(l.n)().all_id_button,t=[{title:"Ch\u01b0a ch\u1ecdn",code:""}],a=0;a<e.length;a++)t[t.length]={title:e[a].title,code:e[a].type};return t.sort((function(e,t){var a=e.title.toUpperCase(),i=t.title.toUpperCase();return a<i?-1:a>i?1:0})),t}changDataSchemaTo_privateKeyTableMasterData(e,t){var a=Object(l.n)(),i=[],s="";if(void 0!==a&&void 0!==a.all_id_button)for(var o=a.all_id_button,n=0;n<o.length;n++){var r=o[n];if(void 0!==r.type&&void 0!==r.detail&&""!==r.type.trim()&&r.type.trim()===e){for(var c=0;c<r.detail.length;c++){var d=r.detail[c];void 0!==d.datapk&&"true"===d.datapk&&(""===s&&(s=d.code),i[i.length]={title:d.title,code:d.code})}break}}var m=t;return m.privateKeyTableMasterData=s,{data_schema_pk:i,data:m}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.action?t.action=e.action:t.action="",null!=e.txFoActions?t.txFoActions=e.txFoActions:t.txFoActions="",null!=e.txFo?t.txFo=e.txFo:t.txFo="",null!=e.useAction?t.useAction=e.useAction:t.useAction="true",null!=e.icon?t.icon=e.icon:t.icon="fa-floppy-o",null!=e.color?t.color=e.color:t.color="info",null!=e.onTable?t.onTable=e.onTable:t.onTable="",null!=e.isMasterData?t.isMasterData=e.isMasterData:t.isMasterData="false",null!=e.tableMasterData?t.tableMasterData=e.tableMasterData:t.tableMasterData="",null!=e.privateKeyTableMasterData?t.privateKeyTableMasterData=e.privateKeyTableMasterData:t.privateKeyTableMasterData="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;if(a[e]=t.target.value,"tableMasterData"===e){var i=this.changDataSchemaTo_privateKeyTableMasterData(t.target.value,a);this.setState({data_schema_pk:i.data_schema_pk,data:i.data})}else this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"Thu\u1ed9c grid",value:this.state.data.onTable,onChange:e=>this.onChange_Value("onTable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"Icon",value:this.state.data.icon,onChange:e=>this.onChange_Value("icon",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"Color",value:this.state.data.color,onChange:e=>this.onChange_Value("color",e)}),o.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"panel panel-primary"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-8 col-sm-8 col-md-8"},o.a.createElement("h3",{className:"panel-title text-capitalize"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-left","data-toggle":"collapse"},"H\xe0nh \u0111\u1ed9ng"))),o.a.createElement("div",{className:"col-xs-4 col-sm-4 col-md-4"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-right","data-toggle":"collapse"},o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"}))))),o.a.createElement("div",{id:this.state.private_key_config+"_function",className:"collapse"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"H\xe0nh \u0111\u1ed9ng click",value:this.state.data.useAction,data:[{title:"G\u1ecdi tx fo",code:"false"},{title:"G\xf5 nhanh",code:"true"}],onChange:e=>this.onChange_Value("useAction",e)}),o.a.createElement(d.a,{ref:"txFo",hidden:"false"===this.state.data.useAction,data:this.state.data.txFo}),o.a.createElement(c.a,{hidden:"true"===this.state.data.useAction,ref:"txFoAction",data:this.state.data.txFoActions}))))),o.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"panel panel-primary"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-8 col-sm-8 col-md-8"},o.a.createElement("h3",{className:"panel-title text-capitalize"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_master",className:"pull-left","data-toggle":"collapse"},"Master data"))),o.a.createElement("div",{className:"col-xs-4 col-sm-4 col-md-4"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_master",className:"pull-right","data-toggle":"collapse"}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," ")))),o.a.createElement("div",{id:this.state.private_key_config+"_master",className:"collapse"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(r.a,{className:"col-sm-12 col-md-12",name:"L\xe0 master data",value:this.state.data.isMasterData,data:[{title:"Kh\xf4ng",code:"false"},{title:"\u0110\xfang",code:"true"}],onChange:e=>this.onChange_Value("isMasterData",e)}),"true"===this.state.data.isMasterData&&o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u",value:this.state.data.tableMasterData,data:this.state.data_schema,onChange:e=>this.onChange_Value("tableMasterData",e)}),"true"===this.state.data.isMasterData&&o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Kh\xf3a ch\xednh",value:this.state.data.privateKeyTableMasterData,data:this.state.data_schema_pk,onChange:e=>this.onChange_Value("privateKeyTableMasterData",e)}))))))}}var V=P;class Y extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var Q=Y;class B extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var H=B;class G extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Kh\xf4ng",t[0].code="false",t[1]={},t[1].title="D\xf9ng",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.danger?t.danger=e.danger:t.danger="",null!=e.warning?t.warning=e.warning:t.warning="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Danger",data:this.state.list_true_false,value:this.state.data.danger,hasNew:!1,onChange:e=>this.onChange_Value("danger",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Warning",data:this.state.list_true_false,value:this.state.data.warning,hasNew:!1,onChange:e=>this.onChange_Value("warning",e)}))}}var J=G;var q=class{constructor(e,t,a){this.getProperty=()=>this.property,this.setCMD=e=>{void 0!==e.visible&&("true"!==e.visible&&"false"!==e.visible||(this.property.cmd.visible=e.visible)),void 0!==e.disabled&&("true"!==e.disabled&&"false"!==e.disabled||(this.property.cmd.disabled=e.disabled)),void 0!==e.block&&("true"!==e.block&&"false"!==e.block||(this.property.cmd.block=e.block))},this.getCMD=()=>this.property.cmd,this.setCMD_visible=e=>{this.property.cmd.visible=e},this.getCMD_visible=()=>this.property.cmd.visible,this.setCMD_disable=e=>{this.property.cmd.disabled=e},this.getCMD_disable=()=>this.property.cmd.disabled,this.property={main:[],position:[],cmd:{visible:"true",disabled:"false",block:"false"}}}},W=a(5);class K extends s.Component{constructor(e){if(super(e),this.modalToggle=e=>{void 0===e?this.setState({show_modal:l.g.autoID()}):e&&this.setState({show_modal:"none"})},this.setDataOOP=(e,t)=>{this.setState({dataOOP:t},()=>{l.g.getFormAppAuto(this.props.infoA.key_form).runRuleFunction(this.props.default,t,this.props.infoA_parent,"update")})},this.getDataOOP=(e,t)=>{const{list_component:a}=e,{code:i}=this.props.default;if(a){if(a.split(";").includes(i))return this.state.dataOOP}},this.setCMD=(e,t)=>{if(void 0!==e&&void 0!==t){const a=e.list_component;if(a&&a.includes(this.props.default.code)){this.propertyConstructor.setCMD(t);let{dataFull:e}=this.state;e.config.cmd.disable="true"===String(this.propertyConstructor.getCMD_disable()),e.config.cmd.visible=this.propertyConstructor.getCMD_visible(),this.setState({dataFull:e})}}},this.getInfoCheckRun=()=>{let e=this.propertyConstructor.getCMD();return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.getFormConfig=e=>o.a.createElement(V,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(H,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormProperty=e=>o.a.createElement(J,{data:e,ref:e=>l.g.setConfigComponent("property",e)}),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(Q,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}),this.changeKeyLanguage=()=>{this.state.lang_default?this.setState({lang:l.g.getLang(this.props.default.code),lang_select:l.g.getLangKey()}):this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.get=(e,t)=>{void 0!==this.props.config.uploadfile&&"true"===this.props.config.uploadfile.active&&l.g.putData(this.props.default.code,"uploadFile",this.uploadfile_result,this.props.infoA)},this.runFO=(e,t)=>{t.action&&N.a.runActionWithContext(t.action,{},this.props.infoA,this.props.infoA_parent,this.props.default),t.txFo&&N.a.runFoWithContext(t.txFo,{},this.props.infoA,this.props.infoA_parent,this.props.default)},this.setLoadingAction=(e,t)=>{const a=(null===t||void 0===t?void 0:t.isLoading)||!1;let i=this.state.dataFull;i.config.cmd.isLoading=a,i.config.cmd.disable=a,this.setState({dataFull:i})},this.fileSelectHandler=e=>{console.log("fileSelectHandler======",e.target)},this.reload=()=>{this.setState({test:"",isLoading:!1})},this.set=()=>{this.setState({test:""})},this.showToast=function(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i={},s=e;switch(t){case!0:a&&(s+=" successfully"),i={class_:"success",icon:"fa fa-check",title:s,time:(new Date).getTime()+"",description:s,data:{},action:{}};break;case!1:a&&(s+=" error"),i={class_:"error",icon:"fa fa-check",title:s,time:(new Date).getTime()+"",description:s,data:{},action:{}}}l.g.pushNotify("notifyToast",i,{}),l.g.pushNotify("notifyDefault",i,{}),l.g.callAllScreenListen()},this.propertyConstructor=new q(e.inputType,e.default,e.config),this.uploadfile_result={},this.disabled=!1,void 0!==this.props.infoA.form_code){var t=l.g.role_getComponent(this.props.infoA.form_code,this.props.default.codeHidden);null!=t&&void 0!==t.role&&(void 0!==t.role.disabled&&(!0===t.role.disabled?this.disabled=!0:this.disabled=!1),void 0!==t.role.visible&&(!0===t.role.visible?this.propertyConstructor.setCMD_visible(e.visibility&&!0):this.propertyConstructor.setCMD_visible(e.visibility&&!1)))}var a=this.props.lang;void 0===a&&(a={});let i={color:this.props.config.color,icon:this.props.config.icon},s={btn_remove:{color:"danger",icon:"fa-trash-o"},btn_save:{color:"success",icon:"fa-save"},btn_add:{color:"primary",icon:"fa-plus"},btn_modified:{color:"warning",icon:"fa-pencil-square-o"},btn_update:{color:"warning",icon:"fa-cloud-upload"},btn_cancel:{color:"default",icon:"fa-ban"},btn_clear:{color:"default",icon:"fa-times"},btn_import:{color:"primary",icon:"fa-upload"},btn_export:{color:"primary",icon:"fa-download"},btn_accept:{color:"primary",icon:"fa-check"},btn_apply:{color:"primary",icon:"fa-check"},btn_search:{color:"primary",icon:"fa-search"},btn_copy:{color:"primary",icon:"fa-files-o"},btn_print:{color:"base",icon:"fa-print"},btn_printVoucher:{color:"base",icon:"fa-file-text-o"}},n=!1;void 0!==s[this.props.default.code]&&(i=s[this.props.default.code],a=l.g.getLang(this.props.default.code),n=!0);var r=!1;void 0!==this.props.config.isLookup&&"true"===this.props.config.isLookup&&(r=!0),this.state={lang:a,lang_select:l.g.getLangKey(),lang_default:n,dataOOP:{},count:1,config_btn:i,show_modal:"none",isLookup:r,dataFull:{config:{default:{title:this.props.default.name,type:this.props.config.color,class:this.props.default.class,icon:this.props.config.icon},cmd:{disable:"true"===String(this.propertyConstructor.getCMD_disable()),isLoading:!1}}}}}componentDidUpdate(e){this.props.default!==e.default&&this.setState({default:this.props.default}),this.props.config!==e.config&&this.setState({config:this.props.config}),this.props.role!==e.role&&this.setState({role:this.props.role}),this.props.property!==e.property&&this.setState({property:this.props.property})}componentDidMount(){if(this.state.isLookup&&this.props.config.callform&&""!==this.props.config.callform.trim()){let e=l.g.cloneJson(this.props.infoA);e.componentParent=this.props.default,Object(D.b)(this.props.config.callform,this.refs.b_modal.getElementContentModal(),e,this.props.default,"callform")}setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}onClick(){void 0!==this.props.config.uploadfile&&"true"===this.props.config.uploadfile.active?this.refs.uploadfile_hidden.click():this.this_redirect()}this_redirect(){if(this.propertyConstructor.getCMD_visible())if(void 0!==this.props.config.useAction)if("true"===this.props.config.useAction){var e=l.g.parseJson(this.props.config.txFoActions);void 0!==e?N.a.runActionWithContext(e,{},this.props.infoA,this.props.infoA_parent,this.props.default):l.g.AppException("#CBUTTON.onClick","config_fo is undefined")}else if(void 0!==this.props.config.txFo){var t=l.g.parseJson(this.props.config.txFo);void 0!==t?N.a.runFoWithContext(t,{},this.props.infoA,this.props.infoA_parent,this.props.default):l.g.AppException("#CBUTTON.onClick","Error Json is undefined")}else l.g.AppException("#CBUTTON.onClick","txFo is undefined");else l.g.AppException("#CBUTTON.onClick","useAction is undefined");else alert(l.g.getLang("#sysDontLoveMe"));var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.runRuleFunction(this.props.default,{},this.props.infoA_parent,"on_click"),l.g.isDebug()&&l.g.copyToClipboard(JSON.stringify(this.props.config.txFo))}render(){var e;const t=Object(v.a)("uButton");return"false"===this.state.dataFull.config.cmd.visible?null:o.a.createElement("div",null,"true"===(null===(e=this.props.config.uploadfile)||void 0===e?void 0:e.active)&&o.a.createElement("input",{type:"file",ref:"uploadfile_hidden",accept:void 0!==this.props.config.uploadfile&&this.props.config.uploadfile.filetype,onChange:e=>{void 0!==this.refs.uploadfile_hidden&&(this.refs.uploadfile_hidden.files.length>0?Object(W.a)(this.refs.uploadfile_hidden.files[0]).then(e=>{this.uploadfile_result=e,this.this_redirect()},e=>{}):this.showToast("buttonNotSelectFile",!1))},hidden:!0}),o.a.createElement(t,{dataFull:Object(i.a)(Object(i.a)({},this.state.dataFull),{},{abs_Click:(e,t)=>{this.onClick()}})}))}}var Z=K,X=a(38),$=a(18);class ee extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.structable?t.structable=e.structable:t.structable="",null!=e.query_data?t.query_data=e.query_data:t.query_data="",null!=e.paging_record?t.paging_record=e.paging_record:t.paging_record="5",null!=e.columns?t.columns=JSON.stringify(JSON.parse(e.columns),null,4):t.columns=JSON.stringify([{code:"table.name",title:"T\xean",inputtype:"ColumnString",config:{}}],null,4),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}onBlur(e,t){var a=this.state.data;try{var i=JSON.parse(t.target.value);a[e]=JSON.stringify(i,null,4)}catch(s){alert(s)}this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{className:"col-sm-12 col-md-11",name:"Query data",value:this.state.data.query_data,placeholder:"select * from group_menu",onChange:e=>this.onChange_Value("query_data",e)}),o.a.createElement("button",{onClick:()=>{var e=l.g.getDataLimited(this.state.data.query_data,0,1e3);l.g.log(e,"Check")}},"Check"),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"C\u1ea5u h\xecnh c\u1ed9t (JSON)"),o.a.createElement("textarea",{className:"form-control",rows:"12",onChange:e=>{this.onChange_Value("columns",e)},value:this.state.data.columns,onBlur:e=>{this.onBlur("columns",e)}})),o.a.createElement(n.a,{className:"col-sm-12 col-md-12",name:"Data m\u1ed7i trang",value:this.state.data.paging_record,onChange:e=>this.onChange_Value("paging_record",e)}),o.a.createElement(n.a,{className:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}))}}var te=ee;class ae extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];void 0!==this.props.config&&void 0!==this.props.config.columns&&(t=JSON.parse(this.props.config.columns)),this.state={data:this.joinTableColumnAndLang(l.g.getConfigUserDefault("list_lang_config"),t),columns:t,lang_system:l.g.getConfigUserDefault("list_lang_config")}}joinTableColumnAndLang(e,t){var a=t;void 0===a&&(a=[]);var i=this.props.data;void 0===i&&(i={});for(var s={},o=0;o<a.length;o++)for(var l=0;l<e.length;l++)if(void 0!==a[o].title){var n=e[l].key;void 0===i[n]&&(i[n]={}),void 0===s[n]&&(s[n]={});var r=a[o].title.trim();void 0===i[n][r]?s[n][r]=r:s[n][r]=i[n][r]}return s}componentDidUpdate(e){if(this.props.config!==e.config&&this.setState({config:this.props.config}),this.props.data!==e.data){var t=[];void 0!==this.props.config&&void 0!==this.props.config.columns&&(t=JSON.parse(this.props.config.columns)),this.setState({data:this.joinTableColumnAndLang(this.state.lang_system,t)})}}render(){return o.a.createElement("div",{className:"col-md-12 col-lg-12"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("div",{className:"no-more-tables"},o.a.createElement("table",{className:"table table-bordered table-middle"},o.a.createElement("tbody",null,this.state.columns.map((e,t)=>o.a.createElement("tr",{key:t},o.a.createElement("td",null,e.title),o.a.createElement("td",null,this.state.lang_system.map((t,a)=>o.a.createElement(n.a,{key:a,class:"col-sm-12 col-md-12",name:t.view,value:this.state.data[t.key][e.title],onChange:a=>{var i=this.state.data;void 0===i[t.key]&&(i[t.key]={}),i[t.key][e.title]=a.target.value,this.setState({data:i})}}))))))))))}}var ie=ae;const se={},oe={},le={disabled:["false","true"],visible:["false","true"],other:["fooA","fooB","fooC"],other2:["foo1","foo2","foo3"]};class ne{}ne.get=()=>({main:se,position:oe,cmd:le}),ne.getCmd=()=>le,ne.getValueCmd=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return void 0!==e.infoA.form_code&&(t=l.g.role_getComponent(e.infoA.form_code,e.default.codeHidden)||{},t=t.role||{}),t};var re=ne;class ce extends s.Component{constructor(e){super(e),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.getFormConfig=e=>o.a.createElement(te,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(ie,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}),this.callDir=()=>this,this.setCMD=(e,t)=>{const{CMD:a}=this.state;let i=Object.assign(l.g.cloneJson(a),t);for(let s in i)"true"===i[s]&&(i[s]=!0),"false"===i[s]&&(i[s]=!1);this.setState({CMD:i})},this.set=(e,t)=>{},this.reload=(e,t)=>{this.dataGlobal=l.g.getDataLimited(this.state.config_table.query_data,0,999999999);let a={data:this.dataGlobal.data.slice(0,this.state.config_table.paging_record)||[],total:this.dataGlobal.total},i=[],s=0;void 0!==a.total&&(s=a.total);let o=this.buildPaging(s,this.state.config_table);void 0!==a.data&&(i=a.data),this.setState({columnSearchValue:{},dataFilter:this.dataGlobal.data,data:i,paging:o,page_index:1,total_record:s})},this.get=(e,t)=>{if(null!==e&&void 0!==e&&e.list_component&&(";"+e.list_component+";").includes(";"+this.props.default.code+";")){let t=this.props.config.structable;if(t.includes("|")){let a=t.split("|");for(let t=0;t<a.length;t++)this.readData(a[t],e.inform)}else this.readData(t,e.inform)}},this.abs_getDataLimited=function(e,t){let a={data:this.state.dataFilter.slice(e,e+t)||[],total:this.state.dataFilter.length},i=a.data;if(!0===this.state.hasCheck)for(let l=0;l<i.length;l++)i[l].hasCheck__=!1;let s=1;void 0!==a.total&&(s=a.total);let o=this.buildPaging(s,this.state.config_table);this.setState({data:i,total_record:s,paging:o})},this.recordChangeHandler=e=>{let t=this.state.config_table;t.paging_record=this.state.paging_record[e];let a=this.buildPaging(this.state.total_record,t);this.setState({paging:a,page_index:1,selectedRecordIndex:e,config_table:t},()=>{this.abs_getDataLimited(0,this.state.paging_record[e])})},this.abs_PagingActive=e=>{let t=(e-1)*this.state.config_table.paging_record,a=this.state.config_table.paging_record;this.setState({page_index:e},()=>{this.abs_getDataLimited(t,a)})},this.getHeaderConfig=e=>{let t=[];return!0===e&&t.push({title:"",config:{width:"20px",isFrozen:!1}}),t=t.concat(this.state.columns.map(e=>{var t,a;return{title:(null===(t=this.state.lang)||void 0===t||null===(a=t[this.state.lang_select])||void 0===a?void 0:a[e.title])||e.title,id:e.code,config:{width:"",isFrozen:!1},value_search:this.state.columnSearchValue[e.code]}})),t},this.search=(e,t)=>{let a=this.state.columnSearchValue;a[t]=e.target.value;let i=this.dataGlobal.data.filter(e=>{let t=!0;for(const i in a)!1===String(l.g.getOOP(e,i)).toLowerCase().includes(a[i].toLowerCase())&&(t=!1);return t}),s=i.slice(0,this.state.config_table.paging_record),o=i.length,n=this.buildPaging(o,this.state.config_table);this.setState({data:s,dataFilter:i,paging:n,page_index:1,total_record:o,columnSearchValue:a})},this.abs_autoCallBackData=()=>{let e=this.state.paging_record;e[this.state.selectedRecordIndex]+=5,this.setState({paging_record:e},()=>{this.recordChangeHandler(0)})};let t=[5,10,15,20,50];if(void 0!==this.props.config.paging_record){let e=this.props.config.paging_record.split(",");e.length>1&&(t=e)}let a={paging_record:t[0],query_data:this.props.config.query_data};this.dataGlobal=l.g.getDataLimited(a.query_data,0,999999999)||{};let i={data:this.dataGlobal.data.slice(0,a.paging_record)||[],total:this.dataGlobal.total};void 0===i&&(i={});let s=0;void 0!==i.total&&(s=i.total);let n=this.buildPaging(s,a),r=[];void 0!==i.data&&(r=i.data);let c=[],d=e.default.code.trim();if(void 0!==e.btn_of_grid&&""!==d)for(let o=0;o<e.btn_of_grid.length;o++){d===e.btn_of_grid[o].config.onTable.trim()&&(c[c.length]=e.btn_of_grid[o])}let m=this.props.lang;void 0===m&&(m={}),this.state={dataFilter:this.dataGlobal.data,data:r,lang:m,lang_select:l.g.getLangKey(),paging:n,total_record:s,paging_record:t,selectedRecordIndex:0,page_index:1,STT:!1,hasCheck:!1,columns:void 0===this.props.config.columns?[]:JSON.parse(this.props.config.columns),action:c,config_table:a,CMD:re.getValueCmd(this.props),columnSearchValue:{}}}buildPaging(e,t){let a=[],i=1;if(e>0)for(let s=0;s<e;s+=parseInt(t.paging_record))a[a.length]=i,i++;else a[a.length]=1;return a}pageIndexChange(e){this.setState({page_index:e.target.value}),this.abs_getDataLimited((parseInt(e.target.value)-1)*this.state.config_table.paging_record,this.state.config_table.paging_record)}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}componentDidUpdate(e){this.props.default!==e.default&&this.setState({default:this.props.default}),this.props.config!==e.config&&this.setState({columns:JSON.parse(this.props.config.columns)}),this.props.role!==e.role&&this.setState({role:this.props.role}),this.props.property!==e.property&&this.setState({property:this.props.property})}readData(e,t){if(e.includes(".")){let a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.value,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.value):l.g.putDataGB(a[0],a[1],"")}}checkAll(e){if(this.state.hasCheck){let t=this.state.data;for(let a=0;a<t.length;a++)t[a].hasCheck__=e.target.checked;this.setState({checkAll:e.target.checked,data:t})}}render(){var e,t;let a=this.state.action.length>0,i=this.getHeaderConfig(a);const s=Object(v.a)("uTable"),n=Object(v.a)("uTableBodyRow");return"false"===String(this.state.CMD.visible)?null:o.a.createElement(s,{dataFull:{abs_autoCallBackData:this.abs_autoCallBackData,abs_search:this.search,Header:{data:i,config:{mode:{hasSearch:!0}}},dataEmpty:{isShow:!(null===(e=this.state)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length),title:l.g.getLang("header_searchNoResult")},config:{search:{placeholder:"Search"},mode:{modeTitle:"center",isFrozenHeader:!1}},uPagination:{config:{show:l.g.getLang("cTable_Paging_show"),in:l.g.getLang("cTable_Paging_in"),jump_to_page:l.g.getLang("cTable_Paging_jump_to_page"),results:l.g.getLang("cTable_Paging_results")},result_total:this.state.total_record,abs_PagingActive:this.abs_PagingActive,abs_setRecordActive:this.recordChangeHandler,paging_index:this.state.page_index,paging_record:this.state.paging_record.map((e,t)=>({number:e,selected:t===this.state.selectedRecordIndex}))}}},this.state.data.map((e,t)=>o.a.createElement(n,{key:t},!0===a&&o.a.createElement($.a,{tableContext:this,key:t,lang_select:this.state.lang_select,infoA:this.props.infoA,infoA_parent:this.props.infoA_parent,data:this.state.action,value:e,title:"Action"}),this.state.columns.map((t,a)=>{var i,s;let n=X.a[t.inputtype];return void 0===n&&(n=X.a.ColumnDefault),o.a.createElement(n,{tableContext:this,title_parent:t.title,rowData:e,key:a,title:(null===(i=this.state.lang)||void 0===i||null===(s=i[this.state.lang_select])||void 0===s?void 0:s[t.title])||t.title,config:t.config,data:l.g.getOOP(e,t.code),value:e})}))))}}var de=ce;const me={structable:"table.col",structable_read:"table.col",data_default:"",format:"#,###.00",decimal_length:2},ue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.a)({},me);for(let a in t)void 0!==e[a]&&(""!==t[a]&&""===e[a]||(t[a]=e[a]));return t||{}},he={request:!1,min:0,max:void 0,max_length:void 0};class ge extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){return ue(e)}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-7 col-sm-7 col-md-8 col-lg-8"},o.a.createElement("h4",{className:"text-capitalize mrgn-all-none"},"\u0110\u1ecbnh d\u1ea1ng ki\u1ec3u hi\u1ec3n th\u1ecb")," "),o.a.createElement("div",{className:"col-xs-5 col-sm-5 col-md-4 col-lg-4"},o.a.createElement("div",{className:"tab-icon pull-right"},o.a.createElement("div",{"data-toggle":"collapse","data-target":"#type_currency","aria-expanded":"true",style:{cursor:"pointer"}}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," "))))),o.a.createElement("div",{id:"type_currency",className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"\u0110\u1ecbnh d\u1ea1ng d\u1ea5u",value:this.state.data.format,data:[{title:"#_______________1235",code:"#"},{title:"#.00____________1234.56",code:"#.00"},{title:"#,###.00________1,234.56",code:"#,###.00"},{title:"#.###,00________1.234,56",code:"#.###,00"},{title:"#,###___________1,234",code:"#,###"},{title:"#.###___________1.234",code:"#.###"}],onChange:e=>this.onChange_Value("format",e)}),!1===["#","#.###","#,###"].includes(this.state.data.format)&&o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ch\u1eef s\u1ed1 th\u1eadp ph\xe2n",value:this.state.data.decimal_length,onChange:e=>this.onChange_Value("decimal_length",e)})))))))}}var _e=ge;class pe extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.a)({},he);for(let a in t)e[a]&&(""!==t[a]&&""===e[a]||(t[a]=e[a]));return t||{}}(e)}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Kh\xf4ng nh\u1ecf h\u01a1n"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Kh\xf4ng v\u01b0\u1ee3t qu\xe1"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"\u0110\u1ed9 d\xe0i t\u1ed1i \u0111a"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max_length?this.state.data.max_length:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max_length=parseFloat(e.target.value):void 0!==t.max_length&&delete t.max_length,this.setState({data:t})}}))))))))}}var fe=pe;class ve extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var be=ve;class ye extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var De=ye,Ae=a(13);class Ce extends s.Component{constructor(e){super(e),this.getFormConfig=e=>o.a.createElement(_e,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(De,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(fe,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(be,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getInfoErrror=()=>{if(""!==this.state.help_mess){var e=void 0!==this.state.lang&&void 0!==this.state.lang[this.state.lang_select]?this.state.lang[this.state.lang_select]:this.props.default.name;return{info:this.state.help_mess,key:e,infoComponent:this.props.default}}return""},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.setAdvanced=(e,t)=>{this.setValue(t)},this.set=(e,t)=>{let a=l.g.getNodeJson(t,this.props.config.structable_read);this.setValue(a,!0)},this.getAdvanced=(e,t)=>this.getValue(),this.get=(e,t)=>{var a=this.props.config.structable.split("|");let i=this.getValue();for(const o of a){var s=o.split(".");switch(e.inform){case"false":l.g.putDataGB(s[0],s[1],i);break;default:l.g.putData(s[0],s[1],i,this.props.infoA)}}},this.checkValidate=()=>{let e=!1,t=this.getValue();const{request:a,max:i,min:s,max_length:o}=this.props_smooth.validate;if(void 0!==t&&""!==t||"true"!==a.toString()){if(void 0!==t){this.state.value.replace(/\D/g,"").length>Number(o)&&Number(o)>0?(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:"jCurrency_maxLength"})):t>Number(i)&&null!==i&&void 0!==i&&""!==i?(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:"validateNumMax"})):t<Number(s)&&null!==s&&void 0!==s&&""!==s&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:"validateNumMin"}))}}else e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:"validateRequest"});if(e){var n=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==n&&n.setFormValidateFromComponent(!0,this.props.default)}else this.setState({help_css:"",help_icon:"",help_mess:""});return e},this.reload=(e,t)=>{this.setValue(this.props_smooth.config.data_default)},this.setCMD=(e,t)=>{const{CMD:a}=this.state;let i=Object.assign(l.g.cloneJson(a),t);for(let s in i){let e=i[s];"false"===e&&(i[s]=!1),"true"===e&&(i[s]=!0)}this.setState({CMD:i})},this.onBlur=async()=>{void 0!==this.state.value&&!this.state.value.includes("-.")&&0!==Number(this.state.value)||""===this.state.value||await this.setValue(0),!1===this.checkValidate()&&!0===this.state.isChange&&(this.setState({isChange:!1}),this.onRunRule("enter_tab")),this.onFocus=!1},this.onChange=e=>{let t=e.target;const{selectionStart:a,value:i}=t,{decimal_char:s,int_char:o,decimal_length:l}=this,n=this.state.value;let r=i;if(r.includes("-")&&!1===this.isNegative)return void this.setState({value:n},()=>{t.setSelectionRange(0,0)});if(n.includes(s)&&!i.includes(s)&&s){let e=n.lastIndexOf(s);r=i.substring(0,e)+s+i.substring(e,i.length),r===s&&(r="")}let c=n,d=i.lastIndexOf(s);i.indexOf(s)!==i.lastIndexOf(s)&&s?d=c.length-l:(c=Object(Ae.a)(r,l,o,s)||"",d=a-(i.length-c.length),1===a?d=1:a>i.lastIndexOf(s)&&(d+=1));let m=c.replace(/\D/g,"");const u=this.props_smooth.validate.max_length;m.length>Number(u)&&Number(u)>0&&(c=n),this.setState({value:c,isChange:!0},()=>{t.setSelectionRange(d,d)})},this.renderMess=e=>{switch(e){case"validateNumMin":return l.g.getLang(e).replace("{count}",this.props_smooth.validate.min);case"validateNumMax":return l.g.getLang(e).replace("{count}",this.props_smooth.validate.max);case"validateRequest":return l.g.getLang(e);case"jCurrency_maxLength":return l.g.getLang(e).replace("@{max_length}",this.props_smooth.validate.max_length);default:return l.g.getLang(e)}},this.props_smooth=this.getConfigSmooth(this.props),this.int_char="",this.decimal_char="",this.decimal_length=0,this.decimal_char="",this.decimal_length=0,this.isNegative=!1,(void 0===Object(Ae.b)(this.props_smooth.validate.min)||Object(Ae.b)(this.props_smooth.validate.min)<0)&&(this.isNegative=!0),this.state={help_css:"",help_icon:"",help_mess:"",value:"",CMD:{},isChange:!1},this.onFocus=!1,this.data_debug={}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent()),this.setValue(this.props_smooth.config.data_default)}onRunRule(e){var t=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==t&&t.runRuleFunction(this.props.default,this.data_select,this.props.infoA_parent,e)}getConfigSmooth(e){let t=l.g.cloneJson(e);return t.config=ue(t.config),t.validate.max_length||(t.validate.max_length=16),t}getValue(){return Object(Ae.b)(this.state.value,this.int_char,this.decimal_char)}setValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props_smooth.config.data_default,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.isNegative;e+="";const{decimal_char:a,int_char:i,decimal_length:s}=this;let o=Object(Ae.a)(e,s,i,a);(void 0===o||o.includes("-")&&!1===t)&&(o=""),0===Number(o)&&""!==o&&(o=Object(Ae.a)(0,s,i,a)),this.setState({value:o,help_css:"",help_icon:"",help_mess:""},()=>{this.onRunRule("on_change")})}renderDebug(){if(l.g.isDebug()){void 0===this.data_debug&&(this.data_debug={});let e=(this.props.config.structable||"").split(".")[1],t=this.data_debug.data_cpn;return null===t&&(t="NULL"),void 0===this.props.config.cdlist&&(this.props.config.cdlist={}),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{color:"#f17316"}},`DATA-> |${e}|:|${t}|`))}}render(){if(!1===this.state.CMD.visible)return null;const e=Object(v.a)("uInput");return o.a.createElement(e,{dataFull:Object(i.a)(Object(i.a)({},this.getConfigTemplate()),{},{abs_Change:this.onChange,abs_Blur:this.onBlur})})}getConfigTemplate(){return{config:{default:{title:this.props_smooth.default.name,type:"",class:this.props_smooth.default.class,required:this.props_smooth.validate.request},cmd:{disable:this.state.CMD.disabled+""==="true",visible:!0,error:{message:this.renderMess(this.state.help_mess),type:""}},mode:{textAlign:"right"}},mode:{readOnly:"true"===String(this.props.config.readOnly)},value:this.state.value}}}var Ne=Ce;class Me extends s.Component{constructor(e){super(e),this.onChange=e=>{this.setState({[e.target.name]:e.target.value},()=>{const e=this.state.cdgrp;this.data_cdname[e].length>=1&&""===this.state.cdname&&this.setState({cdname:this.data_cdname[this.state.cdgrp][0]})})},this.get=()=>{let e=`select c_cdlist.cdid,c_cdlist.cdname,c_cdlist.caption,c_cdlist.cdval,c_cdlist.cdidx from c_cdlist where wf.c_cdlist.cdgrp==='${this.state.cdgrp}'`;return""!==this.state.cdname&&(e+=`&&wf.c_cdlist.cdname==='${this.state.cdname}'`),e+=" orderby c_cdlist.cdidx",{query:e,cdgrp:this.state.cdgrp,cdname:this.state.cdname}},this.renderSelect=(e,t)=>{if(e&&t)return o.a.createElement("div",{className:"form-group col-sm-12 col-md-6"},o.a.createElement("label",null,e),o.a.createElement("select",{name:e,required:"",className:"form-control",value:this.state[e],style:{cursor:"pointer"},onChange:e=>this.onChange(e)},t.map((e,t)=>o.a.createElement("option",{value:e,key:t},e))))};let t=this.props.cdlist||{};if(this.data_cdlist=l.g.getData("c_cdlist"),this.data_cdname={},this.data_cdgrp=[],this.data_cdlist)for(let a=0;a<this.data_cdlist.length;a++){const e=this.data_cdlist[a].c_cdlist;void 0===this.data_cdname[e.cdgrp]&&(this.data_cdname[e.cdgrp]=[],this.data_cdgrp.push(e.cdgrp)),!1===this.data_cdname[e.cdgrp].includes(e.cdname)&&this.data_cdname[e.cdgrp].push(e.cdname)}this.data_cdgrp.sort();for(let a in this.data_cdname)this.data_cdname[a].sort();this.state={cdgrp:t.cdgrp||this.data_cdgrp[0]||"",cdname:t.cdname||this.data_cdgrp[0]||""}}render(){return o.a.createElement("div",{hidden:void 0!==this.props.hidden&&!this.props.hidden,className:"form-group "+this.props.class},o.a.createElement("div",{className:"row"},this.renderSelect("cdgrp",this.data_cdgrp),this.renderSelect("cdname",this.data_cdname[this.state.cdgrp])))}}var ke=Me;const Ee={structable:"",structable_read:"",cdlist:{},data_default:"",data_mode:"query",query_data:"",is_multi_select:"false",is_multi_col:"false",get_data_format:"c_cdlist.cdid",selected_view_format:"@c_cdlist.caption",table_format:'[\n        {\n            "title": "Name",\n            "code": "col.col_name"\n        },\n        {\n            "title": "ID",\n            "code": "col.col_id"\n        }\n    ]',col_format:"@c_cdlist.caption",json_data:'[\n        {\n            "c_cdlist": {\n                "cdid": null,\n                "caption": "val_1"\n            }\n        },\n        {\n            "c_cdlist": {\n                "cdid": "id_2",\n                "caption": "val_2"\n            }\n        }\n        ,\n        {\n            "c_cdlist": {\n                "cdid": "id_3",\n                "caption": "val_3"\n            }\n        }\n    ]',key_selected:"c_cdlist.cdid",useAction:"false",isAutoDefault:"true"},xe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.a)({},Ee);for(let a in t)e[a]&&(""!==t[a]&&""===e[a]||(t[a]=e[a]));return t||{}},Ie={ui:{},data:{}};class Te extends s.Component{constructor(e){super(e),this.onChange_Value=(e,t)=>{var a=this.state.data;a[e]=t.target.value,this.setState({data:a})},this.getValue=()=>{let e=this.state.data;return"cdlist"===this.state.data.data_mode&&(e.cdlist=this.refs.ref_designCdlist.get(),e.query_data=e.cdlist.query),e},this.renderHeader=e=>o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-7 col-sm-7 col-md-8 col-lg-8"},o.a.createElement("h4",{className:"text-capitalize mrgn-all-none"},e)," "),o.a.createElement("div",{className:"col-xs-5 col-sm-5 col-md-4 col-lg-4"},o.a.createElement("div",{className:"tab-icon pull-right"},o.a.createElement("div",{"data-toggle":"collapse","data-target":"#"+e+this.state.ID,"aria-expanded":"true",style:{cursor:"pointer"}}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," "))))),this.renderDefault=()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp data (get)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c \u0111\u1ecdc data (set)",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)})),this.renderDatabase=()=>o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},this.renderHeader("Kho d\u1eef li\u1ec7u"),o.a.createElement("div",{id:"Kho d\u1eef li\u1ec7u"+this.state.ID,className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Lo\u1ea1i d\u1eef li\u1ec7u",value:this.state.data.data_mode,data:[{title:"Query",code:"query"},{title:"CDLIST",code:"cdlist"}],onChange:e=>this.onChange_Value("data_mode",e)}),"cdlist"===this.state.data.data_mode&&o.a.createElement(ke,{cdlist:this.state.data.cdlist,class:"col-sm-12 col-md-12",name:"CDList",ref:"ref_designCdlist"}),"query"===this.state.data.data_mode&&o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Query l\u1ea5y d\u1eef li\u1ec7u",value:this.state.data.query_data,onChange:e=>this.onChange_Value("query_data",e)}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12 form-group",style:{marginBottom:"2rem"}},o.a.createElement("label",null,"D\u1eef li\u1ec7u json",o.a.createElement("span",null,o.a.createElement("i",{className:"fa fa-trash","aria-hidden":"true",style:{cursor:"pointer",marginLeft:"10px"},onClick:()=>{let e=this.state.data;e.json_data="[]",this.setState({data:e})}}))),o.a.createElement("textarea",{className:"form-control",rows:"10",value:this.state.data.json_data,onChange:e=>{this.onChange("json_data",e)},onBlur:e=>{this.onBlur("json_data",e)},placeholder:"[]"}))))))),this.renderUIFormat=()=>o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},this.renderHeader("Giao di\u1ec7n"),o.a.createElement("div",{id:"Giao di\u1ec7n"+this.state.ID,className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"\u0110\u1ecbnh d\u1ea1ng b\u1ea3ng",value:this.state.data.is_multi_col,data:[{title:"\u0110a c\u1ed9t",code:"true"},{title:"M\u1ed9t c\u1ed9t",code:"false"}],onChange:e=>this.onChange_Value("is_multi_col",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"H\xecnh th\u1ee9c ch\u1ecdn",value:this.state.data.is_multi_select,data:[{title:"Ch\u1ecdn nhi\u1ec1u",code:"true"},{title:"Ch\u1ecdn m\u1ed9t",code:"false"}],onChange:e=>this.onChange_Value("is_multi_select",e)}),"false"===this.state.data.is_multi_col?o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"C\u1ea5u h\xecnh m\u1ed9t c\u1ed9t",value:this.state.data.col_format,onChange:e=>this.onChange_Value("col_format",e)}):o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},"C\u1ea5u h\xecnh \u0111a c\u1ed9t",o.a.createElement("textarea",{className:"form-control",rows:"10",value:this.state.data.table_format,onChange:e=>{this.onChange("table_format",e)},onBlur:e=>{this.onBlur("table_format",e)},placeholder:"table_format"})),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"C\xe1ch d\u1eef hi\u1ec3n th\u1ecb d\u1eef li\u1ec7u \u0111\xe3 ch\u1ecdn",value:this.state.data.selected_view_format,onChange:e=>this.onChange_Value("selected_view_format",e)})))))),this.renderAction=()=>o.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"panel panel-inverse"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-8 col-sm-8 col-md-8"},o.a.createElement("h3",{className:"panel-title text-capitalize"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-left","data-toggle":"collapse"},"H\xe0nh \u0111\u1ed9ng"))),o.a.createElement("div",{className:"col-xs-4 col-sm-4 col-md-4"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-right","data-toggle":"collapse"},o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"}))))),o.a.createElement("div",{id:this.state.private_key_config+"_function",className:"collapse"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"H\xe0nh \u0111\u1ed9ng click",value:this.state.data.useAction,data:[{title:"G\u1ecdi tx fo",code:"false"},{title:"G\xf5 nhanh",code:"true"}],onChange:e=>this.onChange_Value("useAction",e)}),o.a.createElement(d.a,{ref:"txFo",hidden:"false"===this.state.data.useAction,data:this.state.data.txFo}),o.a.createElement(c.a,{hidden:"true"===this.state.data.useAction,ref:"txFoAction",data:this.state.data.txFoActions}))))),this.state={data:xe(this.props.data),ID:l.g.autoID()}}onChange(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a,errorJson:!1})}onBlur(e,t){var a=this.state.data,i=!1;try{var s=JSON.parse(t.target.value);a[e]=JSON.stringify(s,null,4)}catch(o){i=!0,alert(o)}this.setState({data:a,errorJson:i})}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},this.renderDefault(),o.a.createElement(n.a,{class:"col-sm-12 col-md-8",name:"C\u1ea5u h\xecnh l\u1ea5y d\u1eef li\u1ec7u (*)",value:this.state.data.get_data_format,onChange:e=>this.onChange_Value("get_data_format",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Kh\xf3a t\xecm ki\u1ebfm d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c ch\u1ecdn \u1edf jSelect (*)",value:this.state.data.key_selected,onChange:e=>this.onChange_Value("key_selected",e)}),this.renderDatabase(),this.renderUIFormat(),o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"Auto default",value:this.state.data.isAutoDefault,data:[{title:"D\xf9ng",code:"true"},{title:"Kh\xf4ng d\xf9ng",code:"false"}],onChange:e=>this.onChange_Value("isAutoDefault",e)}))}}var we=Te;class Oe extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))))))))}}var Se=Oe;class Fe extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.renderDicionaryTable=(e,t)=>o.a.createElement("div",{className:"tab-pane fade active in"},o.a.createElement("div",{className:"inner-acccordians"},o.a.createElement("div",{className:"collapse in"},o.a.createElement("div",null,void 0!==e&&e.length>0&&e.map((e,a)=>o.a.createElement("div",{className:"panel panel-default",key:a},o.a.createElement("div",{className:"panel-heading pos-relative pad-all-md",id:"heading-3"},o.a.createElement("h4",{className:"panel-title"},o.a.createElement("a",{className:"accordion-toggle collapsed show","data-toggle":"collapse","data-parent":"#accordion",href:"#collapseNine"+a+t},o.a.createElement("span",null,e)))),o.a.createElement("div",{id:"collapseNine"+a+t,className:"panel-collapse collapse",role:"tabpanel","aria-labelledby":"heading-3"},o.a.createElement("div",{className:"panel-body"},this.state.lang_system.map((a,i)=>o.a.createElement("div",{key:i},o.a.createElement(n.a,{key:i,class:"col-sm-12 col-md-12",name:a.view,value:void 0!==this.state.data[t][a.key]?this.state.data[t][a.key][e]:a.key,onChange:i=>{var s=this.state.data;s[t][a.key][e]=i.target.value,this.setState({data:s})}})))))))))));var t=[];if(void 0!==this.props.config&&void 0!==this.props.default.name){let e=this.props.default.name;""!==e&&t.push(e)}this.state={lang_system:l.g.getConfigUserDefault("list_lang_config"),data:{ui:this.joinTableColumnAndLang(l.g.getConfigUserDefault("list_lang_config"),t,"ui")},title:t}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}joinTableColumnAndLang(e,t,a){var i=t;void 0===i&&(i=[]);var s=this.props.data;void 0===s&&(s={});var o={};for(let n=0;n<i.length;n++){let t=i[n];if(void 0!==t)for(let i=0;i<e.length;i++){let n=e[i].key;void 0===o[n]&&(o[n]={}),void 0===s[a]&&(s[a]={}),void 0===s[a][n]&&(s[a][n]={});var l=t.trim();void 0===s[a][n][l]?o[n][l]=l:o[n][l]=s[a][n][l]}}return o}render(){return o.a.createElement("div",{className:"line-slide-tab"},o.a.createElement("ul",{className:"nav nav-tabs"},o.a.createElement("li",null,o.a.createElement("a",{"data-toggle":"tab",href:"#tab1","aria-expanded":"true"},"UI")),o.a.createElement("li",null,o.a.createElement("a",{"data-toggle":"tab",href:"#tab3","aria-expanded":"true"},"table"))),o.a.createElement("div",{className:"tab-content pad-all-lg"},o.a.createElement("div",{id:"tab1",className:"tab-pane fade in active"},this.renderDicionaryTable(this.state.title,"ui"))))}}var je=Fe;class Le extends s.Component{constructor(e){super(e),this.onChange=(e,t)=>{let a=this.state.value;if(!1===e)a[t.target.name]=t.target.value;else{for(var i=t.target.options,s=[],o=0;o<i.length;o++)i[o].selected&&s.push(i[o].value);a[t.target.name]=s}this.setState({value:a})},this.get=()=>{let e=this.state.value;for(let t in e)e[t]=e[t].toString();return e},this.convertValueArray=e=>{for(let t in e){let a=e[t];"false"!==a&&"true"!==a&&(a=a.split(","),e[t]=a)}return e},this.isMutiSelect=e=>{let t=e.value;return 2!==t.length||!t.includes("true")||!t.includes("false")};let t=[];for(let a in this.props.cmd){let e=this.props.cmd[a];t.push({title:a,value:e})}this.state={cmd:t||[],value:this.convertValueArray(this.props.value)||{}}}render(){return o.a.createElement("div",{className:"form-group "+this.props.class,onKeyDown:this.onKeyDown},this.state.cmd.map(e=>{let t=this.isMutiSelect(e);return o.a.createElement("div",{className:"col-sm-12 col-md-6",key:e.title},e.title,o.a.createElement("div",{className:"selectbox-wrap mrgn-b-lg"},o.a.createElement("div",{className:t?"":"selectbox"},o.a.createElement("select",{className:"form-control",name:e.title,multiple:t,onChange:e=>this.onChange(t,e),value:t?this.state.value[e.title]:this.state.value[e.title].toString()},e.value.map(e=>o.a.createElement("option",{key:e,value:e},e))))))}))}}var ze=Le;const Re={structable:"",structable_read:"",cdlist:{},data_default:"",data_mode:"query",query_data:"",is_multi_select:"false",is_multi_col:"false",get_data_format:"c_cdlist.cdid",selected_view_format:"@c_cdlist.caption",table_format:'[\n            {\n                "title": "Name",\n                "code": "col.col_name"\n            },\n            {\n                "title": "ID",\n                "code": "col.col_id"\n            }\n        ]',col_format:"@c_cdlist.caption",json_data:'[\n            {\n                "col": {\n                    "col_name": "val_1",\n                    "col_id": "val_2"\n                }\n            },\n            {\n                "col": {\n                    "col_name": "val_3",\n                    "col_id": "val_4"\n                }\n            }\n        ]',key_selected:"c_cdlist.cdid",useAction:"false",isAutoDefault:"true"};var Ue=class{constructor(e,t,a){this.getProperty=()=>this.property,this.setCMD=e=>{void 0!==e.visible&&("true"!==e.visible&&"false"!==e.visible||(this.property.cmd.visible=e.visible)),void 0!==e.disabled&&("true"!==e.disabled&&"false"!==e.disabled||(this.property.cmd.disabled=e.disabled)),void 0!==e.block&&("true"!==e.block&&"false"!==e.block||(this.property.cmd.block=e.block))},this.getCMD=()=>this.property.cmd,this.setCMD_visible=e=>{this.property.cmd.visible=e},this.getCMD_visible=()=>this.property.cmd.visible,this.setCMD_enable=e=>{this.property.cmd.disabled=e},this.getCMD_enable=()=>this.property.cmd.disabled,this.getConfig=()=>{let e=this.property.config,t=Object(i.a)({},Re);for(let a in t)e[a]&&(""!==e[a]&&""===e[a]||(t[a]=e[a]));return t||{}},this.getDefault=()=>this.property.default,this.property={inputType:e,config:a,default:t,main:[],position:[],cmd:{visible:"true",disabled:"false",block:"false"}}}};class Pe extends s.Component{constructor(e){super(e),this.getValue=()=>this.refs.RefDesignRole.get(),this.cmd=Ue.getCmd(),this.state={cmd:this.cmd,data:this.readConfig(this.props.data)},this.keyComponent=l.g.autoID()}readConfig(e){var t={};void 0===e&&(e={});for(let a in this.cmd)t[a]=e[a]||"";return t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement(ze,{key:this.keyComponent,class:"col-sm-12 col-md-12",cmd:this.state.cmd,value:this.state.data,ref:"RefDesignRole"})}}var Ve=Pe;const Ye=e=>{for(let t=0;t<e.length;t++)e[t].key_jselect=t;return e},Qe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;switch(a){case"ArrowDown":e<t&&(e+=1);break;case"ArrowUp":e>0&&(e-=1)}return e<0&&(e=0),e>=t&&(e=t-1),e},Be=(e,t)=>(e.split(" ").forEach(a=>{if("@"===a[0]){let i=a.substring(1),s=l.g.getOOP(t,i);if("c_cdlist.caption"===i){let e=l.g.getOOP(t,"c_cdlist.mcaption");console.log("mcaption",e),(null===e||void 0===e?void 0:e[l.g.getLangKey()])&&(s=null===e||void 0===e?void 0:e[l.g.getLangKey()])}e=e.replace(a,s)}}),e),He=(e,t,a)=>{if(void 0===e||void 0===t||void 0===a)return[];if(null===t||null===a)return[];if(""===e||""===a)return[];let i=(e+"").split(";"),s=[];return t.forEach((e,t)=>{let o=l.g.getOOP(e,a)+"";null!==o&&void 0!==o&&i.includes(o+"")&&s.push(t)}),s},Ge=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a="";for(let i=0;i<t.length;i++){const s=t[i].code||"";a+=l.g.getOOP(e,s)}return a},Je=(e,t,a)=>{let i="";for(let s=0;s<e.length;s++){s>0&&(i+=";");const o=e[s];i=l.g.getOOP(t[o],a)}return i};class qe extends s.Component{constructor(e){var t;super(e),t=this,this.convertStringWithContext=e=>{let t=l.g.getlistCodeContext(e);for(let a=0;a<t.length;a++){const i=t[a];let s=l.g.context_get(i.code);void 0!==s&&(e=e.replace(i.key,s))}return e},this.getConfigSmooth=e=>{let t=l.g.cloneJson(e);return t.config=xe(t.config),t.config.data_default=this.convertStringWithContext(t.config.data_default),t.config.json_data=this.convertStringWithContext(t.config.json_data),t},this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(we,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(Ve,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(Se,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(je,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}),this.isRunRule=(e,t)=>{if(!e)return!1;return e.split(";").includes(t)},this.setCMD=(e,t)=>{const{CMD:a}=this.state;let i=Object.assign(l.g.cloneJson(a),t);a.disabled===i.disabled&&a.visible===i.visible&&a.block===i.block||this.setState({CMD:i})},this.set=async(e,t)=>{this.data_debug.data_form=t;const{structable_read:a,key_selected:i}=this.config,{datas:s}=this.state;let o="",l=[];if(t&&a){let e=a.split(".");if(2===e.length){if(!t[e[0]]||void 0===t[e[0]][e[1]])return void this.setSelectedDefault();if(o=t[e[0]][e[1]],this.data_debug.data_cpn=o,this.last_selected_data=o,l=He(o,s,i),0!==l.length)return await this.setSelected(l),this.setState({val_select_tmp:o}),void this.onRunRule("update")}}void 0===this.data_debug.data_cpn&&(this.data_debug.data_cpn="undefined"),this.setState({val_select_tmp:o,selected_view:"",help_css:" has-warning ",help_icon:"glyphicon-warning-sign",help_mess:"jSelect_NotFindValue"})},this.setAdvanced=async(e,t)=>{if(void 0!==t&&""!==t){const{key_selected:e}=this.config,{datas:a}=this.state;let i=[];if(i=He(t,a,e),0!==i.length)await this.setSelected(i),this.onRunRule("enter_tab");else{let e=[0];0!==e.length&&(await this.setSelected(e),this.onRunRule("enter_tab"))}}else{let e=[0];0!==e.length&&(await this.setSelected(e),this.onRunRule("enter_tab"))}},this.getAdvanced=e=>{const{list_component:t}=e,{code:a}=this.props_smooth.default;if(this.isRunRule(t,a)){const{list_selected:e,datas:t,get_data_format:a,structable:i}=this.state;let s=Je(e,t,a);if(2===i.split(".").length)return s}},this.getInfoErrror=()=>{if(""!==this.state.help_mess&&!0===this.checkValidate()&&"jSelect_NotFindValue"!==this.state.help_mess){var e=void 0!==this.state.lang&&void 0!==this.state.lang[this.state.lang_select]?this.state.lang[this.state.lang_select]:this.props.default.name;return{info:this.renderMess(this.state.help_mess),key:e,infoComponent:this.props.default}}return""},this.setDataGB=async(e,t)=>{const{datas:a,key_selected:i,list_selected:s,selected_view:o}=this.state,{json_data:n}=this.props_smooth.config;t=l.g.parseJson(n).concat(t)||[],t=Ye(t);let r=l.g.getOOP(a[s[0]],i);this.setState({datas:t,datas_view:t,list_selected:s,selected_view:o},()=>{let e=this.state.val_select_tmp||r,t=He(e,this.state.datas,i);e&&0!==t.length?(this.state.val_select_tmp="",this.setSelected(t)):this.setSelected([0])})},this.get=(e,t)=>{var a=this.props_smooth.config.structable;if(a.includes("|"))for(var i=a.split("|"),s=0;s<i.length;s++)this.readData(i[s],e.inform);else this.readData(a,e.inform)},this.getAdvanced=(e,t)=>{const{list_selected:a,datas:i,get_data_format:s}=this.state;return Je(a,i,s)},this.checkValidate=()=>{var e=!1,t=this.state.list_selected;if(void 0!==t&&void 0!==this.state.validate.request&&!e&&this.state.validate.request){const{list_selected:a,datas:i,get_data_format:s}=this.state;let o=Je(a,i,s);0!==t.length&&null!==o&&""!==o||(e=!0,this.setState({help_css:" has-warning ",help_icon:"glyphicon-warning-sign",help_mess:"validateRequest"}))}if(e){var a=l.g.getFormAppAuto(this.props_smooth.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}else this.clearError();return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{this.setSelectedDefault()},this.onEvent=e=>{switch(e){case"closeTable":this.setState({isOpen:!1});break;case"openTable":!1===this.state.isOpen&&this.setState({isOpen:!0})}},this.onSelectedRow=async(e,t)=>{const{is_multi_select:a,list_selected:i}=this.state;let s=[t];if(a){s=i;let e=s.indexOf(t);e>-1?s.splice(e,1):s.push(t)}await this.setSelected(s,t),await this.checkValidate(),await this.onRunRule("enter_tab")},this.onRunRule=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"on_change";var a=l.g.getFormAppAuto(t.props_smooth.infoA.key_form);void 0!==a&&a.runRuleFunction(t.props_smooth.default,{},t.props_smooth.infoA_parent,e)},this.setSelectedDefault=async()=>{const{datas:e,data_default:t}=this.state,{key_selected:a}=this.config;let i=He(t,e,a);0===i.length&&e.length>0&&"false"!==this.props_smooth.config.isAutoDefault&&(i=[0],this.state.search_input=""),await this.setSelected(i),this.onRunRule("enter_tab")},this.setSelected=(e,t)=>{let a=this.getSelectedView(e);this.setState({list_selected:e,selected_view:a,pos_row:t,isOpen:!1},()=>{this.clearError(),this.onRunRule()})},this.getSelectedView=e=>{const{selected_view_format:t,datas:a}=this.state;let i="";for(let s=0;s<e.length;s++){s>0&&(i+=";");let o=a[e[s]];i+=Be(t,o)}return i},this.onChangeSearch=e=>{const{datas:t,table_format:a,is_multi_col:i,col_format:s}=this.state;let o=e.target.value,n=t,r=l.g.getArrayWithRegex(s,"@([^\\s]*)");""!==o&&(n=t.filter(e=>{let t="";return t=Ge(e,!0===i?a:r),l.g.searchPerfect(o,t)})),this.setState({search_input:o,datas_view:n,pos_row:-1})},this.onKeyBoard=e=>{const{pos_row:t,datas_view:a}=this.state;switch(e.key){case"ArrowDown":this.setState({pos_row:Qe(t,a.length,"ArrowDown")},()=>{this.refs.table_jselect&&this.refs.table_jselect.focus()});break;case"ArrowUp":this.setState({pos_row:Qe(t,a.length,"ArrowUp")},()=>{this.refs.table_jselect&&this.refs.table_jselect.focus()});break;case"Enter":a[t]&&this.onSelectedRow(a[t].key_jselect);break;case"Delete":this.setSelected([],-1);break;case"Backspace":break;default:this.refs.search_jselect&&this.refs.search_jselect.focus()}},this.getDataOOP=(e,t)=>0===this.state.list_selected.length?void 0:this.state.datas[this.state.list_selected[0]],this.onBlur=()=>{this.checkValidate()},this.getOptionConfig=e=>e.map((e,t)=>{if(this.state.is_multi_col){return{data:this.state.table_format.map(t=>l.g.getOOP(e,t.code)),value:e.key_jselect,selected:this.state.list_selected.includes(e.key_jselect)}}return{title:Be(this.props_smooth.config.col_format,e),value:e.key_jselect,selected:this.state.list_selected.includes(e.key_jselect)}}),this.abs_Change=async(e,t)=>{await this.onSelectedRow(e,e),this.checkValidate()},this.renderMess=e=>{switch(e){case"validateNumMin":return l.g.getLang(e).replace("{count}",this.state.validate.min);case"validateNumMax":return l.g.getLang(e).replace("{count}",this.state.validate.max);case"validateRequest":return l.g.getLang(e);case"jSelect_NotFindValue":return l.g.isDebug()?l.g.getLang(e):"";default:return l.g.getLang(e)}},this.propertyConstructor=new Ue(e.inputType,e.default,e.config),this.props_smooth=this.getConfigSmooth(this.props);const{config:a,lang:i}=this.props_smooth;this.config=xe(a),this.lang=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(let t in Ie)void 0===e[t]&&(e[t]={});return e}(i);const{table_format:s,is_multi_col:n,is_multi_select:r,selected_view_format:c,get_data_format:d,col_format:m,key_selected:u,structable:h,structable_read:g}=this.config;this.data_default="",void 0!==this.props_smooth.config.data_default&&(this.data_default=this.props_smooth.config.data_default);var _=this.props_smooth.validate;void 0===_&&(_={}),this.callform_detail="",this.callform="";var p=this.props_smooth.lang;void 0===p&&(p={});let f={mode:"",col_text:"",col_input:""};void 0!==e.infoA.mode_form&&(f=e.infoA.mode_form);let v=(e=>{if(!e)return[];if(void 0!==e.data_mode){let i=[];const{query_data:s,json_data:o}=e;if("cdlist"===e.data_mode){var t="",a="";void 0!==e.cdlist&&void 0!==e.cdlist.cdgrp&&void 0!==e.cdlist.cdname&&(t=e.cdlist.cdgrp,a=e.cdlist.cdname),i=l.g.data_cdList(t,a)||[]}else i=l.g.getDataLimited(s,0,99999)||[],i=i.data||[];let n=l.g.parseJson(o).concat(i)||[];return n=Ye(n),n||[]}return[]})(this.config);this.state={structable:h,structable_read:g,data_default:this.data_default,value:this.data_default,val_select_tmp:"",lang:p,lang_select:l.g.getLangKey(),validate:_,infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",datas:v,datas_view:v,is_multi_col:"false"!==n,table_format:("false"===n?s:l.g.parseJson(s))||[],col_format:m,get_data_format:d,key_selected:u,selected_view:"",selected_view_format:c,list_selected:[],pos_row:-1,search_input:"",isOpen:!1,is_multi_select:"false"!==r,CMD:this.propertyConstructor.getCMD(),config_mode:f,class_config:{parent:"",child:""},css_default:{class:""},max_item_length:50},this.data_debug={}}UNSAFE_componentWillMount(){this.data_view_template=this.getOptionConfig(this.state.datas_view)}componentDidMount(){this.setSelectedDefault(),setTimeout(()=>{l.g.FromAddComponent(this.props_smooth.infoA.key_form,this)},l.g.getTimeAddComponent())}UNSAFE_componentWillUpdate(e,t){this.state.datas_view===t.datas_view&&this.state.lang_select===t.lang_select||(this.data_view_template=this.getOptionConfig(t.datas_view))}componentDidUpdate(e){}readData(e,t){const{list_selected:a,datas:i,get_data_format:s}=this.state;let o=Je(a,i,s);""!==this.state.help_mess&&(o=null);let n=e.split(".");2===n.length&&(void 0===t||"true"===t?l.g.putData(n[0],n[1],o,this.props_smooth.infoA):"false"===t?l.g.putDataGB(n[0],n[1],o):l.g.putDataGB(n[0],n[1],""))}getConfigTemplate(){var e,t,a,i;let s=this.props_smooth.default.name;return{config:{default:{search:{placeholder:l.g.getLang("jselect_search")},data_status:l.g.getLang("jselect_no_result"),title:(null===(e=this.props_smooth.lang)||void 0===e||null===(t=e.ui)||void 0===t||null===(a=t[l.g.getLangKey()])||void 0===a?void 0:a[s])||s,type:"",class:this.props_smooth.default.class,required:this.props_smooth.validate.request},cmd:{disable:"true"===String(this.state.CMD.disabled),visible:!0,error:{message:"jSelect_NotFindValue"===this.state.help_mess?"":this.renderMess(this.state.help_mess),type:""}},mode:{moreColumn:this.state.is_multi_col},column:[{title:"Code"},{title:"Name"}]},data:null===(i=this.data_view_template)||void 0===i?void 0:i.map(e=>(e.selected=e.value===this.state.list_selected[0],e)),input_value:this.getSelectedView(this.state.list_selected)||"",search_value:this.state.search_input||""}}render(){if("false"===String(this.state.CMD.visible))return null;const e=Object(v.a)("uSelectItem");return o.a.createElement(e,{dataFull:Object(i.a)(Object(i.a)({},this.getConfigTemplate()),{},{abs_Change:this.abs_Change,abs_search:this.onChangeSearch})})}}var We=qe;class Ke extends s.Component{constructor(e){super(e);var t=Object(l.m)(),a=[];for(var i in t){var s={};s.code=i,s.title=t[i].info.title,a[a.length]=s}this.state={data:a,d_key:"code",d_name:"title"}}async _onChange(e){void 0!==this.props.onChange&&this.props.onChange(e)}renderOptions(){return this.state.data.map((e,t)=>o.a.createElement("option",{key:t,index:t,value:e[this.state.d_key]},e[this.state.d_name]))}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",{className:"form-group "+this.props.class},o.a.createElement("label",null,this.props.name),o.a.createElement("div",{className:"select-box"},o.a.createElement("div",{className:"selectbox"},o.a.createElement("select",{style:{height:"32px"},disabled:this.props.disabled,className:"form-control",value:this.props.value,onChange:e=>this._onChange(e)},!0===this.props.hasNew&&o.a.createElement("option",{value:""},"Kh\xf4ng d\xf9ng"),this.renderOptions()))))}}var Ze=Ke;class Xe extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.renderConfig=e=>{switch(e){case"get_set":return o.a.createElement("div",null,o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}));case"database":return o.a.createElement("div",null,o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Lo\u1ea1i d\u1eef li\u1ec7u",value:this.state.data.mask_mode,data:[{title:"M\u1eb7c \u0111\u1ecbnh",code:"default"},{title:"Th\u1eddi gian",code:"date"}],onChange:e=>this.onChange_Value("mask_mode",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"\u0110\u1ecbnh d\u1ea1ng mask",value:this.state.data.data_type,data:[{title:"M\u1eb7c \u0111\u1ecbnh",code:"edit"},{title:"Textbox",code:"free"}],onChange:e=>this.onChange_Value("data_type",e)}),"edit"===this.state.data.data_type&&o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"\u0110\u1ecbnh d\u1ea1ng mask hi\u1ec3n th\u1ecb",value:this.state.data.mask_format,onChange:e=>this.onChange_Value("mask_format",e)}),"edit"===this.state.data.data_type&&o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"\u0110\u1ecbnh d\u1ea1nh mask t\u1eeb data",value:this.state.data.mask_data_format,onChange:e=>this.onChange_Value("mask_data_format",e)}));case"input":return o.a.createElement("div",null," ",o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Lo\u1ea1i d\u1eef li\u1ec7u",value:"date"===this.state.data.mask_mode?"number":this.state.data.value_type,data:[{title:"T\u1ea5t c\u1ea3",code:"all"},{title:"S\u1ed1",code:"number"},{title:"Ch\u1eef",code:"word"}],onChange:e=>this.onChange_Value("value_type",e),disabled:"date"===this.state.data.mask_mode}))}},this.renderUI=(e,t)=>o.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-7 col-sm-7 col-md-8 col-lg-8"},o.a.createElement("h4",{className:"text-capitalize mrgn-all-none"},t)," "),o.a.createElement("div",{className:"col-xs-5 col-sm-5 col-md-4 col-lg-4"},o.a.createElement("div",{className:"tab-icon pull-right"},o.a.createElement("div",{"data-toggle":"collapse","data-target":"#"+e,"aria-expanded":"true",style:{cursor:"pointer"}}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," "))))),o.a.createElement("div",{id:e,className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},this.renderConfig(e)))))),this.state={data:this.readConfig(this.props.data)}}readConfig(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},a={structable:"",structable_read:"",data_default:"",data_type:"edit",component_title:"",mask_format:"",mask_data_format:"",value_type:"all",auto_delete:"true",mask_mode:"default",content_style:""};for(let i in a)t[i]=e[i]||a[i];return void 0!==e.isLookup?t.isLookup=e.isLookup:t.isLookup="false",void 0!==e.callform?t.callform=e.callform:t.callform="",void 0!==e.callform_detail?t.callform_detail=e.callform_detail:t.callform_detail="",void 0!==e.callform_detail_mode?t.callform_detail_mode=e.callform_detail_mode:t.callform_detail_mode="modal",void 0!==e.data_view?t.data_view=e.data_view:t.data_view="",void 0!==e.data_value?t.data_value=e.data_value:t.data_value="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,"date"===a.mask_mode&&(a.value_type="number"),this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},this.renderUI("get_set","Get v\xe0 Set d\u1eef li\u1ec7u"),this.renderUI("database","Mask"),this.renderUI("input","Nh\u1eadp li\u1ec7u"),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"D\xf9ng lookup",value:this.state.data.isLookup,data:[{title:"Kh\xf4ng d\xf9ng",code:"false"},{title:"D\xf9ng lookup",code:"true"}],onChange:e=>this.onChange_Value("isLookup",e)}),"true"===this.state.data.isLookup&&o.a.createElement(Ze,{class:"col-sm-12 col-md-6",name:"L\u1ea5y data t\u1eeb form",value:this.state.data.callform,onChange:e=>this.onChange_Value("callform",e)}),"true"===this.state.data.isLookup&&o.a.createElement(Ze,{class:"col-sm-12 col-md-6",name:"Xem chi ti\u1ebft",value:this.state.data.callform_detail,onChange:e=>this.onChange_Value("callform_detail",e)}),"true"===this.state.data.isLookup&&o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Xem chi ti\u1ebft mode",value:this.state.data.callform_detail_mode,data:[{title:"Modal",code:"modal"},{title:"Main",code:"main"}],onChange:e=>this.onChange_Value("callform_detail_mode",e)}),"true"===this.state.data.isLookup&&o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"OOP hi\u1ec3n th\u1ecb",value:this.state.data.data_view,onChange:e=>this.onChange_Value("data_view",e)}),"true"===this.state.data.isLookup&&o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"OOP gi\xe1 tr\u1ecb",value:this.state.data.data_value,onChange:e=>this.onChange_Value("data_value",e)}))}}var $e=Xe;class et extends s.Component{constructor(e){super(e),this.getValue=()=>{let e=this.state.data;return e.condistion=e.condistion.filter(e=>""!==e.condistion&&""!==e.error),e},this.isValidate=()=>!0,this.renderTable=e=>e.map((e,t)=>o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:e.condistion,onChange:e=>{var a=this.state.data;a.condistion[t].condistion=e.target.value,this.setState({data:a})}})),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:e.error,onChange:e=>{var a=this.state.data;a.condistion[t].error=e.target.value,this.setState({data:a})}})))),this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),t.condistion=e.condistion||[],t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"checkbox"},o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}),o.a.createElement("span",{className:"mrgn-l-xs display-ib"},"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"\u0110i\u1ec1u ki\u1ec7n"," ",o.a.createElement("i",{className:"fa fa-plus-square","aria-hidden":"true",onClick:()=>{let e=this.state.data;e.condistion.push({condistion:"",error:""}),this.setState(e)}})),o.a.createElement("th",null,"Th\xf4ng b\xe1o l\u1ed7i"))),o.a.createElement("tbody",null,this.renderTable(this.state.data.condistion))))))}}var tt=et;class at extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.renderDicionaryTable=(e,t)=>o.a.createElement("div",{className:"tab-pane fade active in"},o.a.createElement("div",{className:"inner-acccordians"},o.a.createElement("div",{className:"collapse in"},o.a.createElement("div",null,void 0!==e&&e.length>0&&e.map((e,a)=>o.a.createElement("div",{className:"panel panel-default",key:a},o.a.createElement("div",{className:"panel-heading pos-relative pad-all-md",id:"heading-3"},o.a.createElement("h4",{className:"panel-title"},o.a.createElement("a",{className:"accordion-toggle collapsed show","data-toggle":"collapse","data-parent":"#accordion",href:"#collapseNine"+a+t},o.a.createElement("span",null,e)))),o.a.createElement("div",{id:"collapseNine"+a+t,className:"panel-collapse collapse",role:"tabpanel","aria-labelledby":"heading-3"},o.a.createElement("div",{className:"panel-body"},this.state.lang_system.map((a,i)=>o.a.createElement("div",{key:i},o.a.createElement(n.a,{key:i,class:"col-sm-12 col-md-12",name:a.view,value:void 0!==this.state.data[t][a.key]?this.state.data[t][a.key][e]:a.key,onChange:i=>{var s=this.state.data;s[t][a.key][e]=i.target.value,this.setState({data:s})}})))))))))));var t=[];if(void 0!==this.props.config&&void 0!==this.props.default.name){let e=this.props.default.name;""!==e&&t.push(e)}var a=[];if(void 0!==this.props.config&&void 0!==this.props.config.mask_format){let e=this.props.config.mask_format.split("_");for(let t=0;t<e.length;t++){const i=e[t];""===i||a.includes(i)||a.push(i)}}var i=[];this.props.validate.condistion&&this.props.validate.condistion.forEach(e=>{""===e.error||a.includes(e.error)||i.push(e.error)}),this.state={lang_system:l.g.getConfigUserDefault("list_lang_config"),data:{ui:this.joinTableColumnAndLang(l.g.getConfigUserDefault("list_lang_config"),t,"ui"),mask_format:this.joinTableColumnAndLang(l.g.getConfigUserDefault("list_lang_config"),a,"mask_format"),validate:this.joinTableColumnAndLang(l.g.getConfigUserDefault("list_lang_config"),i,"validate")},title:t,mask_format:a,validate:i}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}joinTableColumnAndLang(e,t,a){var i=t;void 0===i&&(i=[]);var s=this.props.data;void 0===s&&(s={});var o={};for(let n=0;n<i.length;n++){let t=i[n];if(void 0!==t)for(let i=0;i<e.length;i++){let n=e[i].key;void 0===o[n]&&(o[n]={}),void 0===s[a]&&(s[a]={}),void 0===s[a][n]&&(s[a][n]={});var l=t.trim();void 0===s[a][n][l]?o[n][l]=l:o[n][l]=s[a][n][l]}}return o}render(){return o.a.createElement("div",{className:"line-slide-tab"},o.a.createElement("ul",{className:"nav nav-tabs"},o.a.createElement("li",null,o.a.createElement("a",{"data-toggle":"tab",href:"#tab1","aria-expanded":"true"},"UI")),o.a.createElement("li",null,o.a.createElement("a",{"data-toggle":"tab",href:"#tab2","aria-expanded":"true"},"Mask")),o.a.createElement("li",null,o.a.createElement("a",{"data-toggle":"tab",href:"#tab3","aria-expanded":"true"},"validate"))),o.a.createElement("div",{className:"tab-content pad-all-lg"},o.a.createElement("div",{id:"tab1",className:"tab-pane fade in active"},this.renderDicionaryTable(this.state.title,"ui")),o.a.createElement("div",{id:"tab2",className:"tab-pane fade"},this.renderDicionaryTable(this.state.mask_format,"mask_format")),o.a.createElement("div",{id:"tab3",className:"tab-pane fade"},this.renderDicionaryTable(this.state.validate,"validate"))))}}var it=at;const st={structable:"",structable_read:"",data_default:"",data_type:"edit",component_title:"",mask_format:"",mask_data_format:"",value_type:"all",auto_delete:"true",mask_mode:"default",content_style:""};var ot=class{constructor(e,t,a){this.getProperty=()=>this.property,this.setCMD=e=>{void 0!==e.visible&&("true"!==e.visible&&"false"!==e.visible||(this.property.cmd.visible=e.visible)),void 0!==e.disabled&&("true"!==e.disabled&&"false"!==e.disabled||(this.property.cmd.disabled=e.disabled)),void 0!==e.block&&("true"!==e.block&&"false"!==e.block||(this.property.cmd.block=e.block))},this.getCMD=()=>this.property.cmd,this.setCMD_visible=e=>{this.property.cmd.visible=e},this.getCMD_visible=()=>this.property.cmd.visible,this.setCMD_enable=e=>{this.property.cmd.disabled=e},this.getCMD_enable=()=>this.property.cmd.disabled,this.combinePrevConfig=e=>{let t=e||this.property.config,a=Object(i.a)({},st);for(let i in a)t[i]&&(""!==t[i]&&""===t[i]||(a[i]=t[i]));return a||{}},this.getDefault=()=>this.property.default,this.property={inputType:e,config:a,default:t,main:[],position:[],cmd:{visible:"true",disabled:"false",block:"false"}}}};class lt extends s.Component{constructor(e){super(e),this.getValue=()=>this.refs.RefDesignRole.get(),this.cmd=ot.getCMD(),this.state={cmd:this.cmd,data:this.readConfig(this.props.data)},this.keyComponent=l.g.autoID()}readConfig(e){var t={};void 0===e&&(e={});for(let a in this.cmd)t[a]=e[a]||"";return t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement(ze,{key:this.keyComponent,class:"col-sm-12 col-md-12",cmd:this.state.cmd,value:this.state.data,ref:"RefDesignRole"})}}var nt=lt,rt=a(9),ct=a(11);const dt={a:/[a-zA-Z]/,9:/\d/,h:/\d/,H:/\d/,m:/\d/,s:/\d/,"*":/./,_:/[a-zA-Z\d]/,L:/[a-zA-Z\d]/,".":/./,0:/\d/,z:/[a-zA-Z]/,Z:/[a-zA-Z ]/},mt={0:{status:!0,reg_remove:/[^\d/]/g},L:{status:!0,reg_remove:/[^a-zA-Z\d]/g},z:{status:!0,reg_remove:/[^a-zA-Z]/g},Z:{status:!0,reg_remove:/[^a-zA-Z ]/g},".":{status:!0,reg_remove:""}},ut={EMAIL:{regex_validate:/^[\w-.]+@([\w-]+.)+[\w-]{2,4}$/,regex_lang:"jMaskInput_WrongFormat"}},ht={"-":".{100}",EMAIL:".{100}"},gt=e=>dt[e],_t=e=>{let t=e[0];return mt[t]},pt=e=>{var t,a;if(!e)return!1;let i=e[0];if(!0!==(null===(t=mt[i])||void 0===t?void 0:t.status))return!1;let s=!0;for(const o of e)e[0]!==o&&(s=!1);return!0===(null===(a=_t(i))||void 0===a?void 0:a.status)&&s},ft=(e,t)=>{let a=[];const i=/(\\.|.)/g;let s;for(;null!==(s=i.exec(e));){s.index===i.lastIndex&&i.lastIndex++;const e=s[0],o=1===e.length?"regex":"const";let l={type:o,key:e};"regex"===o?gt(e)?(l.reg=gt(e),l.value="_"):"date"===t&&/[^/:]/.test(e)?(l.reg=gt("9"),l.value=e):(l.value=e,l.type="const"):l.value=e[1],a.push(l)}return a},vt=(e,t)=>{let a="";for(const i of e)a+="date"===t?i.key:i.value;return a},bt=(e,t)=>{let a="";for(const i of e)a+=i.key.includes("\\")?i.value:i.key;return a},yt=(e,t,a)=>{if(!e||!t||!a)return"";let i="";if(!e)return"";switch(a){case"default":for(const s in t){let a=e[s];if("regex"===t[s].type){if(!1===t[s].reg.test(a))return"";i+=a}}break;case"date":let a=vt(t);i=Object(rt.a)(e,a),Object(rt.b)(i,a)!==e&&(i="");break;default:i=e}return i||""},Dt=(e,t,a)=>{if(!e||!t||!a)return"";let i="";const s=bt(t);switch(a){case"default":let a=0;for(const l in t)if("regex"===t[l].type)if(pt(s))i+=e[a]||"",a++;else{if(!e[a]||!t[l].reg.test(e[a]))return"";i+=e[a],a++}else i+=t[l].value;break;case"date":let o=vt(t);i=Object(rt.b)(e,o);break;default:i=e}return i||""},At=(e,t,a,i)=>{let s=yt(e,t,a);return(null===i||void 0===i?void 0:i.length)?Dt(s,i,a):s},Ct=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=e;(null===i||void 0===i?void 0:i.length)&&(s=yt(e,i,a));let o=Dt(s,t,a);return o},Nt=()=>["SUN","MON","TUE","WED","THU","FRI","SAT"].map((e,t)=>({title:e,type:"gray"})),Mt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new Date).getMonth()+1;const t=["January","February","March","April","May","June","July","August","September","October","November","December"];return t.map((t,a)=>({title:t,selected:e-1===a}))},kt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1900,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2100,a=[];if(e<=t)for(let i=e;i<=t;i++)a.push(i);return a},Et=e=>{let t=new Date(e).getMonth()+1,a=[0,31,28,31,30,31,30,31,31,30,31,30,31];(e=>e%400===0||e%100!==0&&e%4===0)(new Date(e).getFullYear())&&a[2]++;let i=[];for(let s=1;s<=a[t];s++)i.push(s);return i},xt=e=>{e||(e=Date.parse(new Date));let t=new Date(e),a=new Date(Object(ct.c)(e,{M:-1})),i=new Date(Object(ct.c)(e,{M:1})),s=Date.parse(a),o=Date.parse(i),l=Et(s),n=Et(e),r=Et(o),c=new Date(t.getFullYear(),t.getMonth(),1),d=new Date(t.getFullYear(),t.getMonth(),n.length),m=l.slice(l.length-c.getDay(),l.length),u=r.slice(0,6-d.getDay()),h=m.map(e=>{let i=String(e),o="gray",l=new Date(s).setDate(e);return e===t.getDate()&&a.getMonth()===t.getMonth()&&a.getFullYear()===t.getFullYear()&&(o="primary"),{title:i,type:o,value:l}}),g=n.map(a=>{let i=String(a),s="",o=new Date(e).setDate(a);return a===t.getDate()&&(s="primary"),{title:i,type:s,value:o}}),_=u.map(e=>{let a=String(e),s="gray",l=new Date(o).setDate(e);return e===t.getDate()&&i.getMonth()===t.getMonth()&&i.getFullYear()===t.getFullYear()&&(s="primary"),{title:a,type:s,value:l}}),p=h.concat(g);return p=p.concat(_),p};class It extends s.Component{constructor(e){super(e),this.getComponentContructor=(e,t)=>{let a=this.buildPropsSmooth(t);return{props_smooth:a,state_smooth:this.buildStateSmooth(a)}},this.buildPropsSmooth=e=>{let t=l.g.cloneJson(e);t.config=this.propertyConstructor.combinePrevConfig(e.config);let a=(e=>{let t=e,a=l.g.getlistCodeContext(e);for(const i of a){let e=l.g.context_get(i.code)||"";t=t.replace(i.key,e),"number"===typeof e&&(t=Number(t))}return t})(t.config.data_default);var i;return a=(e=>{let t=e;let a=/libDate_cal\((.*),(.*)\)/gm.exec(t);if(null!==a)try{t=Object(ct.c)(Number(a[1]),JSON.parse(a[2]))}catch(i){}return t})(a),void 0!==a&&null!==a||(a=""),t.config.data_default=a,t.config.const_mask_format=t.config.mask_format,t.config.mask_format=(i=t.config.mask_format,ht[i]||i),t.config.mask_format=(e=>{for(const t in dt){let a,i=new RegExp(`\\${t}{(\\d+)}`,"g");for(;null!==(a=i.exec(e));){a.index===i.lastIndex&&i.lastIndex++;let s="";for(let e=0;e<Number(a[1]);e++)s+=t;e=e.replace(a[0],s)}}return e})(t.config.mask_format),t},this.buildStateSmooth=e=>{const t=e.config;let a=ft(t.mask_format,t.mask_mode),i=ft(t.mask_data_format,t.mask_mode),s=vt(a,t.mask_mode),o=t.mask_mode,n={status:!1,reg_remove:""};if(pt(t.mask_format)){let e=_t(t.mask_format);void 0!==e&&(n.status=e.status,n.reg_remove=e.reg_remove)}const r=s,c=Date.parse(new Date);let d={mounth_data:Mt(),year_data:kt(),day_data:Nt(),day_of_mounth_data:xt(c,c),date_view:c};return{isLookup:"true"===this.props.config.isLookup,value_type:t.value_type||"all",error_input:!1,lang_select:l.g.getLangKey(),component_title:this.props.default.name||"",CMD:this.propertyConstructor.getCMD(),value:"",mask_value:"",date_selected_cache:0,content_style:e.config.content_style,mask_mode:o,mask_format:r,mask_regs:a,mask_regs_to:i,mask_placeholder:s,free_style:n,date_picker:d}},this.getInfoErrror=()=>{var e;const{help_mess:t}=this.state;return t?{info:this.getErrorLang(this.state.help_mess),key:(null===(e=this.state.lang)||void 0===e?void 0:e[this.props.default.name])||this.props.default.name,infoComponent:this.props.default}:""},this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.setCMD=(e,t)=>{const{CMD:a}=this.state;let i=Object.assign(l.g.cloneJson(a),t);a.disabled===i.disabled&&a.visible===i.visible&&a.block===i.block||this.setState({CMD:i})},this.getDataOOP=(e,t)=>this.data_select,this.getAdvanced=(e,t)=>this.maskInputGet(),this.setAdvanced=(e,t)=>{if(e.codeHidden){if(e.codeHidden===this.props.default.codeHidden&&(this.data_select=t,void 0!==this.data_select)){if(void 0!==this.props.config.data_view)var a="";void 0!==this.props.config.data_value&&(a=l.g.getOOP(this.data_select,this.props.config.data_value.trim())+""),this.maskInputSet(a,"enter_tab")}}else e.list_component&&(null!==t&&void 0!==t||(t=""),this.maskInputSet(t,"on_change"))},this.get=(e,t)=>{const a=this.props_smooth.config.structable.split("|");for(const i of a)this.readData(i,e.inform)},this.runRule=e=>{if(e){var t=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==t&&t.runRuleFunction(this.props.default,this.data_select,this.props.infoA_parent,e)}},this.set=(e,t)=>{var a;let i=this.props_smooth.config.structable_read.split("."),s=null===t||void 0===t||null===(a=t[i[0]])||void 0===a?void 0:a[i[1]];void 0!==s||this.props_smooth.config.structable_read||(s=this.props_smooth.config.data_default),void 0!==s&&(null==s&&(s=""),this.maskInputSet(s,"on_change"))},this.reload=(e,t)=>{const a=this.props_smooth.config;this.data_select={},this.maskInputSet(a.data_default)},this.checkValidate=()=>{let e=this.maskInputGet(),t="";return this.props.validate.request&&!e&&(t="validateRequest",this.state.mask_value&&(t="jMaskInput_WrongFormat")),t||(t=this.maskInputValidate()),this.setState({help_mess:t},()=>{if(t){var e=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==e&&e.setFormValidateFromComponent(!0,this.props.default)}}),!!t},this.setMaskConfig=(e,t)=>{let a=this.props_smooth;a.config.mask_format=t.mask_format,a.config.mask_data_format=t.mask_data_format,a.config.mask_mode=t.mask_mode,this.props_smooth=this.buildPropsSmooth(a);const i=this.buildStateSmooth(this.props_smooth),{mask_format:s,mask_mode:o,mask_reg:l,mask_regs:n,mask_regs_to:r,mask_placeholder:c,mask_value:d,free_style:m,date_picker:u}=i;this.setState({mask_format:s,mask_mode:o,mask_reg:l,mask_regs:n,mask_regs_to:r,mask_placeholder:c,mask_value:d,free_style:m,date_picker:u})},this.changeKeyLanguage=()=>{""!==this.state.help_mess&&this.checkValidate(),this.setState({lang_select:l.g.getLangKey()},()=>{this.onBlur()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.modalToggle=e=>{this.buildFormChild(),!0!==this.state.CMD.disabled&&(void 0===e?this.setState({show_modal:l.g.autoID()}):e&&this.setState({show_modal:"none"}))},this.getFormConfig=e=>o.a.createElement($e,{data:e,ref:e=>l.g.setConfigComponent("config",e)}," "),this.getFormRole=e=>o.a.createElement(nt,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(tt,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(it,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}),this.clearError=()=>{this.setState({help_mess:""})},this.maskInputSet=(e,t,a,i)=>{const{mask_regs:s,mask_regs_to:o,mask_mode:l}=this.state;let n={end_pos:0,start_pos:0,help_mess:"",mask_value:"",value:e},r=Ct(e,s,l,o);"date"===l&&(n.date_picker=(e=>{e||(e=Date.parse(new Date));const t=new Date(e);return{mounth_data:Mt(t.getMonth()+1),year_data:kt(),day_data:Nt(),day_of_mounth_data:xt(e),date_view:e}})(e),Number(e)&&(r=Ct(Number(e),s,l,[]))),n.mask_value=r,n=Object.assign(n,i),this.setState(n,()=>{this.runRule(t),a&&a()})},this.maskInputGet=()=>{const{mask_regs:e,mask_regs_to:t,mask_value:a,mask_mode:i}=this.state;let s="";return this.state.free_style.status?a:(s=At(a,e,i,"date"===i?[]:t),s)},this.maskInputClear=()=>{this.data_select={},this.setState({end_pos:0,start_pos:0,value:"",mask_value:"",help_mess:""},()=>{})},this.maskInputValidate=()=>{const{mask_value:e}=this.state;let t="",a=this.maskInputGet();const i=(s=this.props_smooth.config.const_mask_format,ut[s]);var s;if(t=e&&!this.maskInputGet()?"jMaskInput_WrongFormat":function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=[{title:"@VALUE",value:t},{title:"@NOW",value:Date.parse(new Date)},{title:"@YEAR",value:31536e6.toString()},{title:"@MOUNTH",value:2592e6.toString()},{title:"@DAY",value:864e5.toString()},{title:"@HOURS",value:36e5.toString()},{title:"@MINUTE",value:6e4.toString()},{title:"@SECONDS",value:1e3.toString()}];for(const i of e){let{content:e,mess:t}=i;for(const i of a)e=e.replace(new RegExp(i.title,"g"),i.value);if(console.log("content",e),!1===l.g.checkDynamicConditionNoData(e))return t}return""}(this.props.validate.conditions,a),i&&e){i.regex_validate.test(e)||(t="jMaskInput_WrongFormat")}return t},this.abs_calendar_changeMonth=e=>{const t=this.maskInputGet()||Date.parse(new Date),a=Object(ct.c)(t,{M:e});this.maskInputSet(a)},this.abs_calendar_submit=e=>{let t=this.state.date_picker.day_of_mounth_data[e].value;this.maskInputSet(t)},this.abs_calendar_chooseYear=e=>{const t=this.maskInputGet()||Date.parse(new Date),a=new Date(t).setFullYear(e);this.maskInputSet(a)},this.abs_calendar_changeYear=e=>{},this.abs_calendar_chooseMonth=e=>{const t=e,a=this.maskInputGet()||Date.parse(new Date),i=new Date(a).setMonth(t);this.maskInputSet(i)},this.abs_calendar_openCalendar=()=>{let e=this.maskInputGet();e&&this.maskInputSet(e,"","",{date_selected_cache:e})},this.abs_calendar_KeyUp=e=>{const t=this.maskInputGet()||Date.parse(new Date);let a,i=this.state.date_selected_cache;switch(e.key){case"ArrowLeft":a=Object(ct.c)(t,{d:-1}),this.maskInputSet(a);break;case"ArrowRight":a=Object(ct.c)(t,{d:1}),this.maskInputSet(a);break;case"ArrowUp":a=Object(ct.c)(t,{d:-7}),this.maskInputSet(a);break;case"ArrowDown":a=Object(ct.c)(t,{d:7}),this.maskInputSet(a);break;case"Enter":a=t,this.maskInputSet(a),this.ref_maskinput.current.abs_CloseCalendar();break;case"Escape":Number(i)!==Number(this.maskInputGet())?this.maskInputSet(i):this.ref_maskinput.current.abs_CloseCalendar()}},this.abs_calendar_today=()=>{const e=Date.parse(new Date);this.maskInputSet(e)},this.componentDidUpdate=(e,t)=>{},this.onEventKey=e=>{switch(e.key){case"Delete":this.maskInputClear()}this.state.mask_mode},this.onClick=e=>{this.clearError()},this.onBlur=()=>{!1===this.checkValidate()&&this.runRule("enter_tab")},this.setLastPost=e=>{let t=e.target;this.state.start_pos=t.selectionStart,this.state.end_pos=t.selectionEnd},this.setPos=(e,t)=>{e.selectionStart=t,e.selectionEnd=t},this.onChangeMaskInput=e=>{let{start_pos:t,mask_value:a,mask_regs:i,mask_placeholder:s,content_style:o}=this.state;const l=e.target;let n=l.selectionStart,r=l.value||"";"UPPER"===o&&(r=r.toLocaleUpperCase());const c=this.state.free_style;if(c.status)return r=r.replace(c.reg_remove,""),r=r.slice(0,i.length),void this.setState({mask_value:r});let d=r.slice(t,n)||"",m=0,u="",h=r.slice(0,n);for(let _=n;_<s.length;_++)_<n+(s.length-r.length)?h+=s[_]:h+=a[_]||s[_];a=h;for(const _ in i){const e=i[_];"regex"===e.type||"const"===e.type&&e.value===d[m]?t<=_&&m<d.length?("const"===e.type&&e.value===d[m]||e.reg.test(d[m])?u+=d[m]||e.value:(u+=e.value,n--),m++):u+=a[_]||s[_]:(u+=e.value,t<=_&&m<d.length&&n++)}u===s&&(u="");let g=bt(this.state.mask_regs,this.props_smooth.config.mask_mode);if(g.includes("HH:mm")){let e=((e,t)=>{t=t.replace("_","0");let a=Object(rt.a)(t,e);return Object(rt.b)(a,e)})(g,u);"Invalid date"===e&&(e=this.state.mask_value),u=e}this.setState({mask_value:u},()=>{this.setPos(l,n)})},this.getErrorLang=e=>{switch(e){case"validateNumMin":return l.g.getLang(e).replace("{count}",this.state.validate.min);case"validateNumMax":return l.g.getLang(e).replace("{count}",this.state.validate.max);case"validateRequest":default:return l.g.getLang(e)}},this.propertyConstructor=new ot(e.inputType,e.default,e.config),this.data_debug={},this.app_debug=[],this.state={is_lookup:!1,is_error:!1,is_clicked:!1,help_mess:"",lang_select:"",title:"",CMD:{},end_pos:-1,start_pos:0,_type:"",value:"",mask_value:"",mask_format:"",mask_placeholder:"",mask_mode:"default",mask_regs:[],mask_regs_to:[],content_style:"",free_style:{status:!1,reg_remove:""},date_picker:{mounth_data:[],year_data:[],day_data:[],day_of_mounth_data:[],date_view:Date.parse(new Date)},date_selected_cache:0},this.ref_maskinput=o.a.createRef();const t=this.getComponentContructor({},e);this.state=Object.assign(this.state,t.state_smooth),this.props_smooth=t.props_smooth}readData(e,t){var a=e.split(".");if(2!==a.length)return;let i=this.maskInputGet();switch(t){case void 0:case"true":l.g.putData(a[0],a[1],i,this.props.infoA);break;case"false":l.g.putDataGB(a[0],a[1]);break;default:l.g.putDataGB(a[0],a[1],"")}}openDetail(){const e=this.props.config.callform_detail;if(e){var t=l.g.getFormAppAuto(e);t&&this.props.config.callform_detail_mode,void 0===t?Object(D.a)({form_code:this.props.config.callform_detail},this.props.infoA,this.props.default,"callform_detail",this.data_select):"modal"===this.props.config.callform_detail_mode?(t.putDataAll_andSet(this.data_select),this.setState({show_modal_detail:l.g.autoID()})):(t.putDataAll_andSet(this.data_select),l.g.openForm(e))}}buildFormChild(){if(this.state.isLookup&&this.props.config.callform&&""!==this.props.config.callform.trim()){let e=l.g.cloneJson(this.props.infoA);e.componentParent=this.props.default,Object(D.b)(this.props.config.callform,this.refs.b_modal.getElementContentModal(),e,this.props.default,"callform")}}componentDidMount(){const e=this.props_smooth.config.data_default,t=()=>{setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())};e?this.maskInputSet(e,"on_change",t()):t()}getConfigTemplate(){const{date_picker:e}=this.state;return{abs_ClickIcon:()=>{this.modalToggle()},config:{default:{subTitle_isShow:"date"===this.state.mask_mode,subTitle:`(${this.state.mask_placeholder})`,placeholder:this.state.CMD.disabled+""==="true"?" ":bt(this.state.mask_regs,this.props_smooth.config.mask_mode),title:this.props_smooth.default.name,type:"",class:this.props_smooth.default.class,required:this.props_smooth.validate.request,icon:!0===this.state.isLookup?"search":""},cmd:{disable:"true"===String(this.state.CMD.disabled),visible:!0,error:{message:this.getErrorLang(this.state.help_mess),type:""}},mode:{textAlign:"left",letterSpacing:"M"}},valueTitleHover:"true"!==String(this.state.CMD.disabled)?"":this.state.mask_value,value:this.state.mask_value,cmd:{isLock:!1},calendar_data:{value_current:"",today:{title:"Today"},config:{days_title:e.day_data},list_months:e.mounth_data,list_years:{value:new Date(e.date_view).getFullYear()||"",data:e.year_data},list_days:e.day_of_mounth_data},abs_calendar_changeMonth:this.abs_calendar_changeMonth,abs_calendar_submit:this.abs_calendar_submit,abs_calendar_chooseYear:this.abs_calendar_chooseYear,abs_calendar_changeYear:this.abs_calendar_changeYear,abs_calendar_chooseMonth:this.abs_calendar_chooseMonth,abs_calendar_openCalendar:this.abs_calendar_openCalendar,abs_calendar_today:this.abs_calendar_today,abs_calendar_KeyUp:this.abs_calendar_KeyUp}}render(){const e=this.state.mask_mode,t=Object(v.a)("date"===e?"uDate":"uInput");return"false"===String(this.state.CMD.visible)?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(t,{dataFull:Object(i.a)(Object(i.a)({},this.getConfigTemplate()),{},{abs_Change:this.onChangeMaskInput,abs_Blur:this.onBlur,abs_Click:this.onClick,abs_KeyDown:this.setLastPost,abs_KeyUp:this.onEventKey,abs_MouseUp:this.setLastPost}),ref:this.ref_maskinput}),this.state.isLookup&&o.a.createElement(y,{info_component:this.props.default,show:this.state.show_modal,infoA_call_form:this.state.infoA_call_form,ref:"b_modal",callform:this.state.callform}))}}var Tt=It;class wt extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}onChange(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a,errorJson:!1})}onBlur(e,t){var a=this.state.data,i=!1;try{var s=JSON.parse(t.target.value);a[e]=JSON.stringify(s,null,4)}catch(o){i=!0,alert(o)}this.setState({data:a,errorJson:i})}readConfig(e){var t={};return void 0===e&&(e={}),void 0!==e.structable?t.structable=e.structable:t.structable="",void 0!==e.structable_read?t.structable_read=e.structable_read:t.structable_read="",void 0!==e.data_default?t.data_default=e.data_default:t.data_default="",void 0!==e.component_title?t.component_title=e.component_title:t.component_title="",null!=e.data_type?t.data_type=e.data_type:t.data_type="json",null!=e.data_json?t.data_json=e.data_json:t.data_json="[]",null!=e.data_query?t.data_query=e.data_query:t.data_query="",null!=e.data_more?t.data_more=e.data_more:t.data_more="[]",null!=e.data_more_status?t.data_more_status=e.data_more_status:t.data_more_status="no",null!=e.data_view_format?t.data_view_format=e.data_view_format:t.data_view_format="no",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ti\xeau \u0111\u1ec1 c\u1ee7a component",value:this.state.data.component_title,onChange:e=>this.onChange_Value("component_title",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-7 col-sm-7 col-md-8 col-lg-8"},o.a.createElement("h4",{className:"text-capitalize mrgn-all-none"},"Kho d\u1eef li\u1ec7u")," "),o.a.createElement("div",{className:"col-xs-5 col-sm-5 col-md-4 col-lg-4"},o.a.createElement("div",{className:"tab-icon pull-right"},o.a.createElement("div",{"data-toggle":"collapse","data-target":"#database","aria-expanded":"true",style:{cursor:"pointer"}}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," "))))),o.a.createElement("div",{id:"database",className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Lo\u1ea1i d\u1eef li\u1ec7u",value:this.state.data.data_type,data:[{title:"Query",code:"database"},{title:"Json",code:"json"}],onChange:e=>this.onChange_Value("data_type",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Th\xeam d\u1eef li\u1ec7u",value:this.state.data.data_more_status,data:[{title:"C\xf3",code:"yes"},{title:"Kh\xf4ng",code:"no"}],onChange:e=>this.onChange_Value("data_more_status",e)}),"database"===this.state.data.data_type&&o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Query l\u1ea5y d\u1eef li\u1ec7u",value:this.state.data.data_query,onChange:e=>this.onChange_Value("data_query",e)}),"json"===this.state.data.data_type&&o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12",style:{marginBottom:"2rem"}},"D\u1eef li\u1ec7u d\u1ea1ng json",o.a.createElement("textarea",{className:"form-control",rows:"10",value:this.state.data.data_json,id:"data_json",onChange:e=>{this.onChange("data_json",e)},onBlur:e=>{this.onBlur("data_json",e)},placeholder:"data_json"})),"yes"===this.state.data.data_more_status&&o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12",style:{marginBottom:"2rem"}},"D\u1eef li\u1ec7u th\xeam v\xe0o",o.a.createElement("textarea",{className:"form-control",rows:"10",id:"data_more",value:this.state.data.data_more,onChange:e=>{this.onChange("data_more",e)},onBlur:e=>{this.onBlur("data_more",e)},placeholder:"data_more"}))))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-7 col-sm-7 col-md-8 col-lg-8"},o.a.createElement("h4",{className:"text-capitalize mrgn-all-none"},"Giao di\u1ec7n")," "),o.a.createElement("div",{className:"col-xs-5 col-sm-5 col-md-4 col-lg-4"},o.a.createElement("div",{className:"tab-icon pull-right"},o.a.createElement("div",{"data-toggle":"collapse","data-target":"#uiFormat","aria-expanded":"true",style:{cursor:"pointer"}}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," "))))),o.a.createElement("div",{id:"uiFormat",className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"\u0110\u1ecbnh d\u1ea1ng d\u1eef li\u1ec7u",value:this.state.data.data_view_format,onChange:e=>this.onChange_Value("data_view_format",e)})))))))}}var Ot=wt;class St extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng nh\u1ecf h\u01a1n"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng v\u01b0\u1ee3t qu\xe1"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))))))))}}var Ft=St;class jt extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.renderDicionaryTable=(e,t)=>o.a.createElement("div",{className:"tab-pane fade active in"},o.a.createElement("div",{className:"inner-acccordians"},o.a.createElement("div",{className:"collapse in"},o.a.createElement("div",null,void 0!==e&&e.length>0&&e.map((e,a)=>o.a.createElement("div",{className:"panel panel-default",key:a},o.a.createElement("div",{className:"panel-heading pos-relative pad-all-md",id:"heading-3"},o.a.createElement("h4",{className:"panel-title"},o.a.createElement("a",{className:"accordion-toggle collapsed show","data-toggle":"collapse","data-parent":"#accordion",href:"#collapseNine"+a+t},o.a.createElement("span",null,e)))),o.a.createElement("div",{id:"collapseNine"+a+t,className:"panel-collapse collapse",role:"tabpanel","aria-labelledby":"heading-3"},o.a.createElement("div",{className:"panel-body"},this.state.lang_system.map((a,i)=>o.a.createElement("div",{key:i},o.a.createElement(n.a,{key:i,class:"col-sm-12 col-md-12",name:a.view,value:void 0!==this.state.data[t][a.key]?this.state.data[t][a.key][e]:a.key,onChange:i=>{var s=this.state.data;s[t][a.key][e]=i.target.value,this.setState({data:s})}})))))))))));var t=[];if(void 0!==this.props.config&&void 0!==this.props.config.component_title){let e=this.props.config.component_title;""!==e&&t.push(e)}var a=[];if(void 0!==this.props.config&&void 0!==this.props.config.data_view_format){let e=this.props.config.data_view_format;e=e.trim(),e=e.split("@");for(let t=0;t<e.length;t++){let i=e[t].trim();if(""!==i&&void 0!==i)if(0===t)a.push(i);else{let e=i.indexOf(" ");if(-1!==e){let t=i.substring(e,i.length).trim();a.push(t)}}}}this.state={lang_system:l.g.getConfigUserDefault("list_lang_config"),data:{ui:this.joinTableColumnAndLang(l.g.getConfigUserDefault("list_lang_config"),t,"ui"),data_view_format:this.joinTableColumnAndLang(l.g.getConfigUserDefault("list_lang_config"),a,"data_view_format")},title:t,data_view_format:a}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}joinTableColumnAndLang(e,t,a){var i=t;void 0===i&&(i=[]);var s=this.props.data;void 0===s&&(s={});var o={};for(let n=0;n<i.length;n++){let t=i[n];if(void 0!==t)for(let i=0;i<e.length;i++){let n=e[i].key;void 0===o[n]&&(o[n]={}),void 0===s[a]&&(s[a]={}),void 0===s[a][n]&&(s[a][n]={});var l=t.trim();void 0===s[a][n][l]?o[n][l]=l:o[n][l]=s[a][n][l]}}return o}render(){return o.a.createElement("div",{className:"line-slide-tab"},o.a.createElement("ul",{className:"nav nav-tabs"},o.a.createElement("li",null,o.a.createElement("a",{"data-toggle":"tab",href:"#tab1","aria-expanded":"true"},"UI")),o.a.createElement("li",null,o.a.createElement("a",{"data-toggle":"tab",href:"#tab2","aria-expanded":"true"},"Data"))),o.a.createElement("div",{className:"tab-content pad-all-lg"},o.a.createElement("div",{id:"tab1",className:"tab-pane fade in active"},this.renderDicionaryTable(this.state.title,"ui")),o.a.createElement("div",{id:"tab2",className:"tab-pane fade in"},this.renderDicionaryTable(this.state.data_view_format,"data_view_format"))))}}var Lt=jt;class zt extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var Rt=zt;class Ut extends s.Component{constructor(e){if(super(e),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.changeKeyLanguage=()=>{""!==this.state.help_mess&&this.checkValidate(),this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(Ot,{data:e,ref:e=>l.g.setConfigComponent("config",e)}," "),this.getFormRole=e=>o.a.createElement(Rt,{data:e,ref:e=>l.g.setConfigComponent("role",e)}," "),this.getFormValidate=e=>o.a.createElement(Ft,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}," "),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(Lt,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}," "),this.set=(e,t)=>{if(void 0!==t){if(void 0!==this.props.config.structable_read&&this.props.config.structable_read.includes(".")){let e=this.props.config.structable_read;var a=e.split(".");if(a.length>0&&void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]]){let i=0;if(void 0!==this.state.data_gb)for(let s=0;s<this.state.data_gb.length;s++){const o=this.state.data_gb[s];if(t[a[0]][a[1]]===l.g.getOOP(o,e)){i=s;break}}return void this.setState({value:t[a[0]][a[1]],index_selected:i})}}this.setState({value:""})}},this.setAdvanced=(e,t)=>{if(e.codeHidden&&e.codeHidden===this.props.default.codeHidden&&(this.data_select=t,void 0!==this.data_select)){if(this.state.isLookup){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.runRuleFunction(this.props.default,this.data_select,this.props.infoA_parent,"on_change")}var i="";void 0!==this.props.config.data_view&&(i=": "+l.g.getOOP(this.data_select,this.props.config.data_view.trim()));var s="";void 0!==this.props.config.data_value&&(s=l.g.getOOP(this.data_select,this.props.config.data_value.trim())),this.setState({value:s,data_view:i})}},this.get=(e,t)=>{var a=!0;if(e.checkError&&"false"===e.checkError&&(a=!1),!a||!this.checkValidate()){var i=!1;if(null!==e&&void 0!==e&&(e.list_component?(";"+e.list_component+";").includes(";"+this.props.default.code+";")&&(i=!0):void 0!==e.list_view&&void 0!==this.props.infoView.code&&this.props.infoView.code===e.list_view&&(i=!0),i)){var s=this.props.config.structable;if(s.includes("|"))for(var o=s.split("|"),l=0;l<o.length;l++)this.readData(o[l],e.inform);else this.readData(s,e.inform)}}},this.checkValidate=()=>{var e=!1,t=this.state.value;if(void 0!==t&&(void 0===this.state.validate.request||e||this.state.validate.request&&""===t&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:l.g.getLang("validateRequest")}))),e){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{this.setState({value:this.data_default})},this.onChangeRadio=e=>{let t=e.target.value;var a=this.props.config.structable;let i=l.g.getOOP(this.state.data_gb[t],a);this.setState({index_selected:t,value:i})},this.changeView=(e,t,a)=>{let i="",s=(t=t.trim()).split("@");for(let o=0;o<s.length;o++){let t=s[o].trim();if(""!==t&&void 0!==t)if(0===o)void 0!==this.state.lang[a]&&void 0!==this.state.lang[a][this.state.lang_select]&&void 0!==this.state.lang[a][this.state.lang_select][t]?i+=this.state.lang[a][this.state.lang_select][t]+" ":i+=s[o];else{let s=t.indexOf(" ");if(-1===s)i+=l.g.getOOP(e,t)+" ";else if(-1!==s){let o=t.substring(s,t.length).trim(),n=t.substring(0,s).trim();i+=l.g.getOOP(e,n)+" ",void 0!==this.state.lang[a]&&void 0!==this.state.lang[a][this.state.lang_select]&&void 0!==this.state.lang[a][this.state.lang_select][o]?i+=this.state.lang[a][this.state.lang_select][o]+" ":i+=o}}}return i},this.data_gb=[],void 0!==this.props.config.data_type){if("database"===this.props.config.data_type&&void 0!==this.props.config.data_query){let e=this.props.config.data_query;if(void 0!==e){let t=l.g.getDataLimited(e,0,50);void 0!==t?this.data_gb=t.data:l.g.AppException("#jSelect.constructor#1","Kh\xf4ng c\xf3 d\u1eef li\u1ec7u","data")}}if("json"===this.props.config.data_type&&void 0!==this.props.config.data_json){let e=l.g.parseJson(this.props.config.data_json);void 0!==e?this.data_gb=e:l.g.AppException("#jSelect.constructor#1","Kh\xf4ng c\xf3 d\u1eef li\u1ec7u","data")}}if(void 0!==this.props.config.data_more&&""!==this.props.config.data_more){let e=l.g.parseJson(this.props.config.data_more);if(void 0!==e)for(let t=0;t<e.length;t++){const a=e[t];this.data_gb.unshift(a)}}if(void 0!==this.props.config){this.data_default="",void 0!==this.props.config.data_default&&(this.data_default=this.props.config.data_default);var t=this.props.config.component_title;void 0===t&&(t=""),this.data_view_format_="",void 0!==this.props.config.data_view_format&&(this.data_view_format_=this.props.config.data_view_format)}var a=this.props.validate;void 0===a&&(a={});var i=this.props.lang;void 0===i&&(i={}),this.callform_detail="",this.callform="",this.data_select={},this.state={value:"",value_old:"",lang:i,lang_select:l.g.getLangKey(),validate:a,data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",data_gb:this.data_gb,index_selected:0,component_title:t,value_checked:!0,component_key:l.g.autoID()};let s=this.props.config.structable_read;if(void 0!==s&&void 0!==this.state.data_gb)for(let o=0;o<this.state.data_gb.length;o++){const e=this.state.data_gb[o];if(l.g.getOOP(e,s)===this.data_default){this.state.index_selected=o,this.state.value=this.data_default;break}}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent());let e=this.props.config.structable_read;if(void 0!==e&&void 0!==this.state.data_gb&&void 0!==this.state.index_selected){let t=l.g.getOOP(this.state.data_gb[this.state.index_selected],e);this.setState({value:t})}}readData(e,t){if(e.includes(".")){var a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.value,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.value):l.g.putDataGB(a[0],a[1],"")}}render(){return o.a.createElement("div",{className:this.props.default.class},o.a.createElement("div",{className:""},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,void 0!==this.state.lang.ui&&void 0!==this.state.lang.ui[this.state.lang_select]&&void 0!==this.state.lang.ui[this.state.lang_select][this.state.component_title]?this.state.lang.ui[this.state.lang_select][this.state.component_title]:this.state.component_title,""===this.state.component_title&&o.a.createElement("small",{className:"form-text text-danger"},"\xa0")),o.a.createElement("div",{className:"radio-btn"},""!==this.state.help_mess&&o.a.createElement("small",{className:"form-text text-danger"},this.state.help_mess),o.a.createElement("div",{className:"radio mrgn-all-none"},void 0!==this.state.data_gb&&this.state.data_gb.map((e,t)=>o.a.createElement("label",{className:"show",key:t},o.a.createElement("input",{type:"radio",name:this.state.component_key,defaultValue:t,onChange:this.onChangeRadio,checked:t==this.state.index_selected}),o.a.createElement("span",{className:"mrgn-l-xs display-ib"},this.changeView(e,this.data_view_format_,"data_view_format")))))))))}}var Pt=Ut;class Vt extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.renderConfig=e=>{switch(e){case"UI":return o.a.createElement("div",null,o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"Icon c\xf3 th\u1ec3 m\u1edf",value:this.state.data.icon_open,onChange:e=>this.onChange_Value("icon_open",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"Icon c\xf3 th\u1ec3 \u0111\xf3ng",value:this.state.data.icon_close,onChange:e=>this.onChange_Value("icon_close",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"Icon d\u1eef li\u1ec7u c\u1ea5p nh\u1ecf nh\u1ea5t",value:this.state.data.icon_min_chil,onChange:e=>this.onChange_Value("icon_min_chil",e)}));case"database":return o.a.createElement("div",null,o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"Lo\u1ea1i d\u1eef li\u1ec7u",value:this.state.data.data_type,data:[{title:"Json",code:"json"},{title:"Query",code:"query"}],onChange:e=>this.onChange_Value("data_type",e)}),"query"===this.state.data.data_type&&o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"C\xe2u query l\u1ea5y data",value:this.state.data.data_query,onChange:e=>this.onChange_Value("data_query",e)}),"json"===this.state.data.data_type&&o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12",style:{marginBottom:"2rem"}},"D\u1eef li\u1ec7u d\u1ea1ng json",o.a.createElement("textarea",{className:"form-control",rows:"10",value:this.state.data.data_json,id:"data_json",onChange:e=>{this.onChange("data_json",e)},onBlur:e=>{this.onBlur("data_json",e)},placeholder:"data_json"})),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Th\xeam d\u1eef li\u1ec7u",value:this.state.data.data_more_status,data:[{title:"C\xf3",code:"yes"},{title:"Kh\xf4ng",code:"no"}],onChange:e=>this.onChange_Value("data_more_status",e)}),"yes"===this.state.data.data_more_status&&o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12",style:{marginBottom:"2rem"}},"D\u1eef li\u1ec7u th\xeam v\xe0o",o.a.createElement("textarea",{className:"form-control",rows:"10",id:"data_more",value:this.state.data.data_more,onChange:e=>{this.onChange("data_more",e)},onBlur:e=>{this.onBlur("data_more",e)},placeholder:"data_more"})),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Kh\xf3a ph\xe2n bi\u1ec7t d\u1eef ki\u1ec7u (*)",value:this.state.data.key_private,onChange:e=>this.onChange_Value("key_private",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"ID parent (*)",value:this.state.data.key_set_parent,onChange:e=>this.onChange_Value("key_set_parent",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Kh\xf3a l\u1ea5y id c\u1ee7a cha t\u1eeb con (*)",value:this.state.data.key_get_parent,onChange:e=>this.onChange_Value("key_get_parent",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Kh\xf3a l\u1ea5y hi\u1ec3n th\u1ecb d\u1eef li\u1ec7u (*)",value:this.state.data.key_view,onChange:e=>this.onChange_Value("key_view",e)}));case"getdata":return o.a.createElement("div",null," ",o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"\u0110\u1ecbnh d\u1ea1ng l\u1ea5y d\u1eef li\u1ec7u",value:this.state.data.get_value_type,data:[{title:"String",code:"string"},{title:"Array",code:"array"}],onChange:e=>this.onChange_Value("get_value_type",e)}),"string"===this.state.data.get_value_type&&o.a.createElement("div",null,o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"C\u1ea5u h\xecnh l\u1ea5y d\u1eef li\u1ec7u",value:this.state.data.get_value_string_format,onChange:e=>this.onChange_Value("get_value_string_format",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"Ph\xe2n c\xe1ch",value:this.state.data.get_value_string_format_split,onChange:e=>this.onChange_Value("get_value_string_format_split",e)})),"array"===this.state.data.get_value_type&&o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},"C\u1ea5u h\xecnh l\u1ea5y d\u1eef li\u1ec7u",o.a.createElement("textarea",{className:"form-control  form-group",rows:"10",id:"get_value_array_format",value:this.state.data.get_value_array_format,onChange:e=>{this.onChange("get_value_array_format",e)},onBlur:e=>{this.onBlur("get_value_array_format",e)},placeholder:"get_value_array_format",style:{paddingBottom:"2rem"}})));case"setdata":break;case"advanced":return o.a.createElement("div",null," ",o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"T\u1ef1 \u0111\u1ed9ng ch\u1ecdn",value:this.state.data.auto_select,data:[{title:"C\xf3",code:!0},{title:"Kh\xf4ng",code:!1}],onChange:e=>this.onChange_Value("auto_select",e)}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},"C\u1ea5p \u0111\u1ed9 c\xe2y con t\u1ed1i \u0111a",o.a.createElement("input",{className:"form-control  form-group",type:"number",value:this.state.data.tree_level,onChange:e=>{let t=this.state.data;t.tree_level=e.target.value,this.setState({data:t})},placeholder:"tree_level"})),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"id C\u1ea5p cha cao nh\u1ea5t",value:this.state.data.max_parent_id,onChange:e=>this.onChange_Value("max_parent_id",e)}))}},this.renderUI=(e,t)=>o.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-7 col-sm-7 col-md-8 col-lg-8"},o.a.createElement("h4",{className:"text-capitalize mrgn-all-none"},t)," "),o.a.createElement("div",{className:"col-xs-5 col-sm-5 col-md-4 col-lg-4"},o.a.createElement("div",{className:"tab-icon pull-right"},o.a.createElement("div",{"data-toggle":"collapse","data-target":"#"+e,"aria-expanded":"true",style:{cursor:"pointer"}}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," "))))),o.a.createElement("div",{id:e,className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},this.renderConfig(e)))))),this.state={data:this.readConfig(this.props.data)}}onChange(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a,errorJson:!1})}onBlur(e,t){var a=this.state.data,i=!1;try{var s=JSON.parse(t.target.value);a[e]=JSON.stringify(s,null,4)}catch(o){i=!0,alert(o)}this.setState({data:a,errorJson:i})}readConfig(e){var t={};return void 0===e&&(e={}),void 0!==e.structable?t.structable=e.structable:t.structable="",void 0!==e.structable_read?t.structable_read=e.structable_read:t.structable_read="",void 0!==e.data_default?t.data_default=e.data_default:t.data_default="",void 0!==e.component_title?t.component_title=e.component_title:t.component_title="",void 0!==e.data_type?t.data_type=e.data_type:t.data_type="",void 0!==e.data_json?t.data_json=e.data_json:t.data_json="",void 0!==e.data_query?t.data_query=e.data_query:t.data_query="",void 0!==e.data_more?t.data_more=e.data_more:t.data_more="",null!=e.data_more_status?t.data_more_status=e.data_more_status:t.data_more_status="no",void 0!==e.max_parent_id?t.max_parent_id=e.max_parent_id:t.max_parent_id="",void 0!==e.key_private?t.key_private=e.key_private:t.key_private="",void 0!==e.key_set_parent?t.key_set_parent=e.key_set_parent:t.key_set_parent="",void 0!==e.key_get_parent?t.key_get_parent=e.key_get_parent:t.key_get_parent="",void 0!==e.key_view?t.key_view=e.key_view:t.key_view="",void 0!==e.auto_select?t.auto_select=e.auto_select:t.auto_select=!0,void 0!==e.tree_level?t.tree_level=e.tree_level:t.tree_level=!0,null!=e.get_value_type?t.get_value_type=e.get_value_type:t.get_value_type="string",null!=e.get_value_string_format?t.get_value_string_format=e.get_value_string_format:t.get_value_string_format="",null!=e.get_value_string_format_split?t.get_value_string_format_split=e.get_value_string_format_split:t.get_value_string_format_split="",null!=e.get_value_array_format?t.get_value_array_format=e.get_value_array_format:t.get_value_array_format="",void 0!==e.icon_open?t.icon_open=e.icon_open:t.icon_open="",void 0!==e.icon_close?t.icon_close=e.icon_close:t.icon_close="",void 0!==e.icon_min_chil?t.icon_min_chil=e.icon_min_chil:t.icon_min_chil="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ti\xeau \u0111\u1ec1 c\u1ee7a component",value:this.state.data.component_title,onChange:e=>this.onChange_Value("component_title",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),this.renderUI("database","Kho d\u1eef li\u1ec7u (*)"),this.renderUI("getdata","L\u1ea5y d\u1eef li\u1ec7u"),this.renderUI("UI","Giao di\u1ec7n"),this.renderUI("advanced","N\xe2ng cao"))}}var Yt=Vt;class Qt extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng nh\u1ecf h\u01a1n"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng v\u01b0\u1ee3t qu\xe1"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))))))))}}var Bt=Qt;class Ht extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.renderDicionaryTable=(e,t)=>o.a.createElement("div",{className:"tab-pane fade active in"},o.a.createElement("div",{className:"inner-acccordians"},o.a.createElement("div",{className:"collapse in"},o.a.createElement("div",null,void 0!==e&&e.length>0&&e.map((e,a)=>o.a.createElement("div",{className:"panel panel-default",key:a},o.a.createElement("div",{className:"panel-heading pos-relative pad-all-md",id:"heading-3"},o.a.createElement("h4",{className:"panel-title"},o.a.createElement("a",{className:"accordion-toggle collapsed show","data-toggle":"collapse","data-parent":"#accordion",href:"#collapseNine"+a+t},o.a.createElement("span",null,e)))),o.a.createElement("div",{id:"collapseNine"+a+t,className:"panel-collapse collapse",role:"tabpanel","aria-labelledby":"heading-3"},o.a.createElement("div",{className:"panel-body"},this.state.lang_system.map((a,i)=>o.a.createElement("div",{key:i},o.a.createElement(n.a,{key:i,class:"col-sm-12 col-md-12",name:a.view,value:void 0!==this.state.data[t][a.key]?this.state.data[t][a.key][e]:a.key,onChange:i=>{var s=this.state.data;s[t][a.key][e]=i.target.value,this.setState({data:s})}})))))))))));var t=[];if(void 0!==this.props.config&&void 0!==this.props.config.component_title){let e=this.props.config.component_title;t.push(e)}var a=[];if(void 0!==this.props.config&&void 0!==this.props.config.key_view){let e=this.props.config.key_view;e=e.trim(),e=e.split("@");for(let t=0;t<e.length;t++){let i=e[t].trim();if(""!==i&&void 0!==i)if(0===t)a.push(i);else{let e=i.indexOf(" ");if(-1!==e){let t=i.substring(e,i.length).trim();a.push(t)}}}}this.state={lang_system:l.g.getConfigUserDefault("list_lang_config"),data:{ui:this.joinTableColumnAndLang(l.g.getConfigUserDefault("list_lang_config"),t,"ui"),data_view_format:this.joinTableColumnAndLang(l.g.getConfigUserDefault("list_lang_config"),a,"data_view_format")},title:t,data_view_format:a}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}joinTableColumnAndLang(e,t,a){var i=t;void 0===i&&(i=[]);var s=this.props.data;void 0===s&&(s={});var o={};for(let n=0;n<i.length;n++){let t=i[n];if(void 0!==t)for(let i=0;i<e.length;i++){let n=e[i].key;void 0===o[n]&&(o[n]={}),void 0===s[a]&&(s[a]={}),void 0===s[a][n]&&(s[a][n]={});var l=t.trim();void 0===s[a][n][l]?o[n][l]=l:o[n][l]=s[a][n][l]}}return o}render(){return o.a.createElement("div",{className:"line-slide-tab"},o.a.createElement("ul",{className:"nav nav-tabs"},o.a.createElement("li",null,o.a.createElement("a",{"data-toggle":"tab",href:"#tab1","aria-expanded":"true"},"Ti\xeau \u0111\u1ec1")),o.a.createElement("li",null,o.a.createElement("a",{"data-toggle":"tab",href:"#tab2","aria-expanded":"true"},"Giao di\u1ec7n"))),o.a.createElement("div",{className:"tab-content pad-all-lg"},o.a.createElement("div",{id:"tab1",className:"tab-pane fade in active"},this.renderDicionaryTable(this.state.title,"ui")),o.a.createElement("div",{id:"tab2",className:"tab-pane fade in"},this.renderDicionaryTable(this.state.data_view_format,"data_view_format"))))}}var Gt=Ht;class Jt extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var qt=Jt;a(151);class Wt extends s.Component{constructor(e){if(super(e),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.changeKeyLanguage=()=>{""!==this.state.help_mess&&this.checkValidate(),this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(Yt,{data:e,ref:e=>l.g.setConfigComponent("config",e)}," "),this.getFormRole=e=>o.a.createElement(qt,{data:e,ref:e=>l.g.setConfigComponent("role",e)}," "),this.getFormValidate=e=>o.a.createElement(Bt,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}," "),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(Gt,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}," "),this.set=(e,t)=>{if(void 0!==t){if(void 0!==this.props.config.structable_read&&this.props.config.structable_read.includes(".")){var a=this.props.config.structable_read.split(".");if(a.length>0&&void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]])return void this.setState({value:t[a[0]][a[1]]})}this.setState({value:""})}},this.setAdvanced=(e,t)=>{if(e.codeHidden&&e.codeHidden===this.props.default.codeHidden&&(this.data_select=t,void 0!==this.data_select)){if(this.state.isLookup){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&(a.putDataSetAdvanced(this.props.default,this.data_select),a.runRuleFunction(this.props.default,this.data_select,this.props.infoA_parent,"on_change"))}var i="";void 0!==this.props.config.data_view&&(i=": "+l.g.getOOP(this.data_select,this.props.config.data_view.trim()));var s="";void 0!==this.props.config.data_value&&(s=l.g.getOOP(this.data_select,this.props.config.data_value.trim())),this.setState({value:s,data_view:i})}},this.get=(e,t)=>{var a=!0;if(e.checkError&&"false"===e.checkError&&(a=!1),!a||!this.checkValidate()){var i=!1;if(null!==e&&void 0!==e&&(e.list_component?(";"+e.list_component+";").includes(";"+this.props.default.code+";")&&(i=!0):void 0!==e.list_view&&void 0!==this.props.infoView.code&&this.props.infoView.code===e.list_view&&(i=!0),i)){var s=this.props.config.structable;if(s.includes("|"))for(var o=s.split("|"),l=0;l<o.length;l++)this.readData(o[l],e.inform);else this.readData(s,e.inform)}}},this.checkValidate=()=>{var e=!1,t=this.state.value;if(void 0!==t&&(void 0===this.state.validate.request||e||this.state.validate.request&&""===t&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:l.g.getLang("validateRequest")}))),e){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.getResultData=()=>{let e=this.state.json_tree,t={value:[]};return"string"===this.props.config.get_value_type&&(t={value:""}),this.convertResultData(e,t),t},this.convertResultData=(e,t)=>{if(void 0!==this.props.config.get_value_type)switch(this.props.config.get_value_type){case"string":let a="";void 0!==this.props.config.get_value_string_format&&(a=this.props.config.get_value_string_format);for(let s=0;s<e.chil.length;s++){const a=e.chil[s];this.convertResultData(a,t)}if(!0===e.my_system.isChecked&&""!==a){""!==l.g.getOOP(e.value,a)&&(t.value+=l.g.getOOP(e.value,a),void 0!==this.props.config.get_value_string_format_split&&(t.value+=this.props.config.get_value_string_format_split))}break;case"array":let i="";if(void 0!==this.props.config.get_value_array_format&&(i=this.props.config.get_value_array_format,i=l.g.parseJson(i)),!0===e.my_system.isChecked&&void 0!==e.value){let a={};for(let t in i)a[t]=l.g.getOOP(e.value,i[t]);t.value.push(a)}for(let s=0;s<e.chil.length;s++){const a=e.chil[s];this.convertResultData(a,t)}}},this.changeView=(e,t,a)=>{let i="",s=(t=t.trim()).split("@");for(let o=0;o<s.length;o++){let t=s[o].trim();if(""!==t&&void 0!==t)if(0===o)void 0!==this.state.lang[a]&&void 0!==this.state.lang[a][this.state.lang_select]&&void 0!==this.state.lang[a][this.state.lang_select][t]?i+=this.state.lang[a][this.state.lang_select][t]+" ":i+=s[o];else{let s=t.indexOf(" ");if(-1===s)i+=l.g.getOOP(e,t)+" ";else if(-1!==s){let o=t.substring(s,t.length).trim(),n=t.substring(0,s).trim();i+=l.g.getOOP(e,n)+" ",void 0!==this.state.lang[a]&&void 0!==this.state.lang[a][this.state.lang_select]&&void 0!==this.state.lang[a][this.state.lang_select][o]?i+=this.state.lang[a][this.state.lang_select][o]+" ":i+=o}}}return i},this.reload=(e,t)=>{this.setState({value:this.data_default})},this.createJsonTree=(e,t,a,i)=>{if(void 0===e.parent&&(e.parent=[]),void 0!==i)for(let s=0;s<i.length;s++){const t=i[s];e.parent.push(t)}void 0!==a&&!1===e.parent.includes(a)&&e.parent.push(a),void 0===e&&(e={}),void 0===e.chil&&(e.chil=[]),void 0===e.my_system&&(e.my_system={isOpen:!0,isChecked:!0,isDisable:!1});if(e.parent.length<=this.tree_level||0===this.tree_level)for(let s=0;s<t.length;s++){const i=t[s];if(l.g.getOOP(i,this.key_get_parent)===a){let a=e.chil.length;e.chil[a]={value:i};let s=l.g.getOOP(i,this.key_set_parent);void 0!==s&&this.createJsonTree(e.chil[a],t,s,e.parent)}}},this.checkUnCheckChil=e=>{for(let t in e.data){if(!1===e.data[t].my_system.isChecked)return!0;if(!0===e.data[t].my_system.isDisable)return!0;this.checkUnCheckChil(e.data[t])}return!1},this.eventOnTree=(e,t)=>{let a=l.g.getOOP(e.value,this.key_private),i=this.state.json_tree;switch(t){case"change_isOpen":this.changeTreeItem(i,this.key_private,a,"isOpen",!e.my_system.isOpen);break;case"change_isChecked":this.changeTreeItem(i,this.key_private,a,"isChecked",!e.my_system.isChecked);break;case"isChecked":this.changeTreeItem(i,this.key_private,a,"isChecked",!0)}for(;"true"===this.auto_select;){let e=JSON.stringify(i);if(this.updateCheckboxTree(i),e===JSON.stringify(i))break}this.setState({json_tree:i})},this.changeTreeItem=(e,t,a,i,s)=>{let o=e.value;if(l.g.getOOP(o,t)===a)e.my_system[i]=s,"true"===this.auto_select&&this.changeTreeChil(e,i,s);else for(let l=0;l<e.chil.length;l++){const o=e.chil[l];this.changeTreeItem(o,t,a,i,s)}},this.changeTreeChil=(e,t,a)=>{for(let i=0;i<e.chil.length;i++){let s=e.chil[i];s.my_system[t]=a,this.changeTreeChil(s,t,a)}},this.checkTreeChil=(e,t,a,i)=>{for(let s=0;s<e.chil.length;s++){let o=e.chil[s];o.my_system[t]===a?i.value=!0:this.checkTreeChil(o,t,a,i)}},this.updateCheckboxTree=e=>{let t={value:!1},a={value:!1};this.checkTreeChil(e,"isChecked",!0,t),this.checkTreeChil(e,"isChecked",!1,a),!0===t.value&&!0===a.value?(e.my_system.isChecked=!0,e.my_system.isDisable=!0):!0===t.value?(e.my_system.isChecked=!0,e.my_system.isDisable=!1):!0===a.value?(e.my_system.isChecked=!1,e.my_system.isDisable=!1):e.my_system.isDisable=!1;for(let i=0;i<e.chil.length;i++){let t=e.chil[i];this.updateCheckboxTree(t)}},this.renderTreeView=e=>{if(void 0!==e&&e.chil.length>0)return o.a.createElement("div",{className:"item-jTreeView"},o.a.createElement("ul",null,e.chil.map((e,t)=>o.a.createElement("li",{key:t},o.a.createElement("span",{style:{position:"relative",display:"inline-block"}},!0===e.my_system.isDisable&&o.a.createElement("div",{style:{position:"absolute",left:"0",right:"0",top:"0",bottom:"0",cursor:"pointer"},onClick:()=>this.eventOnTree(e,"isChecked")}),o.a.createElement("input",{type:"checkbox",checked:e.my_system.isChecked,onChange:()=>this.eventOnTree(e,"change_isChecked"),disabled:e.my_system.isDisable})),e.chil.length>0?!0===e.my_system.isOpen?o.a.createElement("i",{className:this.icon_close_,onClick:()=>this.eventOnTree(e,"change_isOpen")}):o.a.createElement("i",{className:this.icon_open_,onClick:()=>this.eventOnTree(e,"change_isOpen")}):o.a.createElement("i",{className:this.icon_min_chil_}),o.a.createElement("span",null,this.changeView(e.value,this.key_view,"data_view_format")),!0===e.my_system.isOpen&&this.renderTreeView(e)))))},this.data_gb=[],void 0!==this.props.config.data_type){if("query"===this.props.config.data_type&&void 0!==this.props.config.data_query){let e=this.props.config.data_query;if(void 0!==e){let t=l.g.getDataLimited(e,0,999999);void 0!==t?this.data_gb=t.data:l.g.AppException("#jSelect.constructor#1","Kh\xf4ng c\xf3 d\u1eef li\u1ec7u","data")}}if("json"===this.props.config.data_type&&void 0!==this.props.config.data_json){let e=l.g.parseJson(this.props.config.data_json);void 0!==e?this.data_gb=e:l.g.AppException("#jSelect.constructor#1","Kh\xf4ng c\xf3 d\u1eef li\u1ec7u","data")}}if(void 0!==this.props.config.data_more&&""!==this.props.config.data_more){let e=l.g.parseJson(this.props.config.data_more);if(void 0!==e)for(let t=0;t<e.length;t++){const a=e[t];this.data_gb.unshift(a)}}if(void 0!==this.props.config){this.data_default="",void 0!==this.props.config.data_default&&(this.data_default=this.props.config.data_default);var t=this.props.config.component_title;void 0===t&&(t=""),this.key_private="group_menu.group_menu_id",void 0!==this.props.config.key_private&&(this.key_private=this.props.config.key_private),this.key_set_parent="group_menu.group_menu_id",void 0!==this.props.config.key_set_parent&&(this.key_set_parent=this.props.config.key_set_parent),this.key_get_parent="group_menu.group_menu_parent",void 0!==this.props.config.key_get_parent&&(this.key_get_parent=this.props.config.key_get_parent),this.key_view="group_menu.group_menu_name",void 0!==this.props.config.key_view&&(this.key_view=this.props.config.key_view),this.icon_close_="",void 0!==this.props.config.icon_close&&(this.icon_close_=this.props.config.icon_close),this.icon_open_="",void 0!==this.props.config.icon_open&&(this.icon_open_=this.props.config.icon_open),this.icon_min_chil_="",void 0!==this.props.config.icon_min_chil&&(this.icon_min_chil_=this.props.config.icon_min_chil),this.auto_select=!0,void 0!==this.props.config.auto_select&&(this.auto_select=this.props.config.auto_select),this.tree_level="0",void 0!==this.props.config.tree_level&&(this.tree_level=this.props.config.tree_level),this.tree_level=parseInt(this.tree_level),this.max_parent_id="",void 0!==this.props.config.max_parent_id&&(this.max_parent_id=this.props.config.max_parent_id),""===this.max_parent_id&&(this.max_parent_id="0")}var a=this.props.validate;void 0===a&&(a={});var i=this.props.lang;void 0===i&&(i={}),this.callform_detail="",this.callform="",this.data_select={},this.state={value:this.data_default,value_old:"",lang:i,lang_select:l.g.getLangKey(),validate:a,data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",data_gb:this.data_gb,json_tree:{},component_title:t,key_component:l.g.autoID(),update:!1};let s={};this.createJsonTree(s,this.state.data_gb,this.max_parent_id,[]),this.state.json_tree=s}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}readData(e,t){let a=this.getResultData();if(e.includes(".")){var i=e.split(".");void 0===t||"true"===t?l.g.putData(i[0],i[1],a,this.props.infoA):"false"===t&&l.g.putDataGB(i[0],i[1],a),l.g.putDataGB(i[0],i[1],"")}}render(){return o.a.createElement("div",{className:this.props.default.class},o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,void 0!==this.state.lang.ui&&void 0!==this.state.lang.ui[this.state.lang_select]&&void 0!==this.state.lang.ui[this.state.lang_select][this.state.component_title]?this.state.lang.ui[this.state.lang_select][this.state.component_title]:this.state.component_title,""===this.state.component_title&&o.a.createElement("small",{className:"form-text text-success"},"\xa0")),this.renderTreeView(this.state.json_tree,this.state.key_component))))}}var Kt=Wt,Zt=a(12),Xt=a.n(Zt);class $t extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.data_elearning?t.data_elearning=e.data_elearning:t.data_elearning="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u \u0111\xe0o t\u1ea1o",value:this.state.data.data_elearning,onChange:e=>this.onChange_Value("data_elearning",e)}))}}var ea=$t;class ta extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng nh\u1ecf h\u01a1n"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng v\u01b0\u1ee3t qu\xe1"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))))))))}}var aa=ta;class ia extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var sa=ia;class oa extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var la=oa;class na extends s.Component{constructor(e){super(e),this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(ea,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(la,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(aa,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(sa,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}),this.getCode=()=>this.props.default.code,this.getElearning=()=>Xt.a.findDOMNode(this),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}};var t="";void 0!==this.props.config.data_elearning&&(t=this.props.config.data_elearning),this.ob_mde=void 0,this.state={data_elearning:t,lang_select:l.g.getLangKey(),lang_system:l.g.getConfigUserDefault("list_lang_config"),data:{}}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this);let e=document.body.getElementsByClassName("content");for(let t of e)for(let e of t.getElementsByTagName("img"))e.style.width="100%"},l.g.getTimeAddComponent()),this.downLoadOneELearning()}downLoadOneELearning(){for(var e="",t=0;t<this.state.lang_system.length;t++)e+=""===e?this.state.lang_system[t].key:";"+this.state.lang_system[t].key;Object(W.b)([{txcode:"#sys:bo-load-oneELearing",input:{eleaning_id:this.state.data_elearning,all_lang:e}}],{}).then(e=>{this.setState({data:l.g.foGetData("data",e)})},e=>{})}render(){return o.a.createElement("div",{className:this.props.default.class},o.a.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:l.g.markdown_render(this.state.data[this.state.lang_select])}}))}}var ra=na;class ca extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),void 0!==e.action?t.action=e.action:t.action="",void 0!==e.structable?t.structable=e.structable:t.structable="",void 0!==e.structable_read?t.structable_read=e.structable_read:t.structable_read="",void 0!==e.data_default?t.data_default=e.data_default:t.data_default="{}",void 0!==e.callform?t.callform=e.callform:t.callform="",void 0!==e.hidden?t.hidden=e.hidden:t.hidden="",void 0!==e.is_open?t.is_open=e.is_open:t.is_open="true",void 0!==e.has_default?t.has_default=e.has_default:t.has_default="true",void 0!==e.value_default?t.value_default=e.value_default:t.value_default="",void 0!==e.address_default?t.address_default=e.address_default:t.address_default="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"L\u1ea5y data t\u1eeb form",value:this.state.data.callform,onChange:e=>this.onChange_Value("callform",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"\u1ea8n ti\xeau \u0111\u1ec1 form",value:this.state.data.hidden,data:[{title:"Kh\xf4ng \u1ea9n",code:"false"},{title:"\u1ea8n",code:"true"}],onChange:e=>this.onChange_Value("hidden",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"is_open",value:this.state.data.is_open,data:[{title:"M\u1edf",code:"true"},{title:"\u0110\xf3ng",code:"false"}],onChange:e=>this.onChange_Value("is_open",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Tr\u1ea3 v\u1ec1 data m\u1eb7c \u0111\u1ecbnh",value:this.state.data.has_default,data:[{title:"C\xf3",code:"true"},{title:"Kh\xf4ng",code:"false"}],onChange:e=>this.onChange_Value("has_default",e)}),"true"===this.state.data.has_default&&o.a.createElement("div",null,o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"N\u01a1i l\u01b0u",value:this.state.data.address_default,onChange:e=>this.onChange_Value("address_default",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Gi\xe1 Tr\u1ecb L\u01b0u",value:this.state.data.value_default,onChange:e=>this.onChange_Value("value_default",e)})))}}var da=ca;class ma extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){return{}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"}))}}var ua=ma;class ha extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var ga=ha;class _a extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var pa=_a;class fa extends s.Component{constructor(e){super(e),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.getCodeHidden=()=>this.props.default.codeHidden,this.changeKeyLanguage=()=>{""!==this.state.help_mess&&this.checkValidate(),this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.checkIsLoading=()=>this.isLoading,this.setCallFormBack=(e,t)=>{if(void 0!==e.key_form&&void 0!==e.key&&e.key===this.props.default.codeHidden){this.muti_form_didMount[this.muti_form_didMount.length]=e.key_form,this.isLoading=!0;var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.hasOwnProperty("componentIsLoaded")&&a.componentIsLoaded(this.props.default.codeHidden)}},this.getFormConfig=e=>o.a.createElement(da,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(pa,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(ua,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(ga,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}),this.set=(e,t)=>{if(void 0!==t)if(void 0!==this.props.config.structable_read&&this.props.config.structable_read.includes(".")){var a=this.props.config.structable_read.split(".");if(a.length>0&&void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]]){let e=t[a[0]][a[1]];return e=JSON.parse(JSON.stringify(e)),"object"!==typeof e&&(e={}),e={muti:e},this.setState({value:e}),void this.setDataCallForm(e)}this.setDataCallForm(void 0)}else this.reloadForm(this.muti_form_didMount[0]);else this.setDataCallForm(void 0)},this.getInfoErrror=()=>{let e="";var t=l.g.getFormAppAuto(this.muti_form_didMount[0]);if(void 0!==t&&t.hasOwnProperty("getValidateForm")){let a=t.getValidateForm();for(let t=0;t<a.length;t++){const i=a[t];e+=i.key+": "+i.info+"; "}}if(""!==e)return{info:e,key:this.props.default.name,infoComponent:this.props.default}},this.get=(e,t)=>{var a=this.props.config.structable;if(a.includes("|"))for(var i=a.split("|"),s=0;s<i.length;s++)this.readData(i[s],e.inform);else this.readData(a,e.inform)},this.checkValidate=()=>{var e=!1,t=l.g.getFormAppAuto(this.muti_form_didMount[0]);if(void 0!==t&&(t.hasOwnProperty("setFormValidateFromFunctionClient")&&t.setFormValidateFromFunctionClient(!1),t.hasOwnProperty("callDirFromSupport")&&(t.callDirFromSupport("clearError",{},{}),t.callDirFromSupport("checkValidate",{},{}),t.hasOwnProperty("getFormValidate")&&(e=t.getFormValidate()))),e){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{this.setState({value:this.data_default},()=>{this.reloadForm(this.muti_form_didMount[0])})},this.getDataCallForm=e=>{var t=l.g.getFormAppAuto(e);return void 0===t?"":(t.hasOwnProperty("setFormValidateFromFunctionClient")&&t.setFormValidateFromFunctionClient(!1),t.hasOwnProperty("callDirFromSupport")&&(t.callDirFromSupport("clearError",{},{}),t.callDirFromSupport("checkValidate",{},{}),t.hasOwnProperty("getFormValidate")&&!t.getFormValidate()&&(t.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:!1},{}),t.hasOwnProperty("getData")))?t.getData(""):void 0)},this.setCMD=(e,t)=>{var a=l.g.getFormAppAuto(this.muti_form_didMount[0]);void 0!==a&&a.hasOwnProperty("callDirFromSupport")&&a.callDirFromSupport("setCMD",{list_component:"*"},t)},this.clearError=()=>{var e=l.g.getFormAppAuto(this.muti_form_didMount[0]);void 0!==e&&e.hasOwnProperty("clearError")&&e.clearError()},this.reloadForm=e=>{var t=l.g.getFormAppAuto(e);void 0!==t&&(t.hasOwnProperty("reload")&&t.reload({}),t.hasOwnProperty("clearError")&&t.clearError())},this.setDataCallForm=e=>{if(this.muti_form_didMount.length>0){var t=l.g.getFormAppAuto(this.muti_form_didMount[0]);void 0!==t?this.isLoading&&(void 0!==e?t.putDataAll_andSet(e):t.clearForm()):l.g.AppException("#jMutivalue.setDataCallForm","form is undefined","system")}else l.g.AppException("#jMutivalue.setDataCallForm","muti_form_didMount is 0","system")},this.renderButton=()=>{const e=this.state.isOpenForm;return o.a.createElement("div",{style:{height:"34px"}},o.a.createElement("div",{className:"btn btn-primary","data-toggle":"collapse",href:"#collapseOne"+this.id_component,onClick:()=>{this.setState({isOpenForm:!e})}},e?o.a.createElement("i",{className:"fa fa-minus-circle","aria-hidden":"true"}):o.a.createElement("i",{className:"fa fa-plus-circle","aria-hidden":"true"})))},this.config={},this.props.config&&(this.config=this.props.config),this.data_default="",void 0!==this.config.data_default&&(this.data_default=this.config.data_default);var t=this.props.validate;void 0===t&&(t={}),this.data_select={};var a=this.props.lang;void 0===a&&(a={}),this.is_open="true"===this.config.is_open;let i={mode:"",col_text:"",col_input:""};void 0!==e.infoA.mode_form&&(i=e.infoA.mode_form);let s={parent:"",child:""},n={class:""},r=void 0!==this.props.ofgroup&&""!==this.props.ofgroup&&"false"!==this.props.ofgroup,c=void 0!==e.infoA.mode_form&&"1"===e.infoA.mode_form.mode,d=!!this.props.ofgroup_child;if(c)if(d)s={parent:"",child:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:void 0!==this.props.css_default.class&&""!==this.props.css_default.class?this.props.css_default.class:"col-sm-4"};else if(r){let e=4/(this.props.ofgroup_data.length+1);n={class:"col-sm-"+parseInt(e<0?1:e)},s={parent:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:"col-sm-6",child:""}}else s={parent:"col-sm-6",child:""};else s=d?{parent:"",child:this.props.default.class+" jwebui-ofgroup"}:r?0===this.props.ofgroup_data.length?{parent:this.props.default.class,child:""}:{parent:this.props.default.class_ofgroup,child:this.props.default.class+" jwebui-ofgroup-fisrt"}:{parent:this.props.default.class,child:""};this.state={value:this.data_default,value_old:"",lang:a,lang_select:l.g.getLangKey(),validate:t,data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",isOpenForm:this.is_open,call_form:this.props.config.callform||"",config_mode:i,class_config:s,css_default:n},this.id_component=l.g.autoID(),this.isLoading=!1,this.isErrorLoadForm=!1,this.muti_form_didMount=[]}componentDidUpdate(e){this.props.default!==e.default&&this.setState({default:this.props.default}),this.props.config!==e.config&&this.setState({config:this.props.config}),this.props.role!==e.role&&this.setState({role:this.props.role}),this.props.lang!==e.lang&&this.setState({lang:this.props.lang}),this.props.validate!==e.validate&&this.setState({validate:this.props.validate}),this.props.property!==e.property&&this.setState({property:this.props.property})}componentDidMount(){let e=this.props.config.callform;e&&""!==e.trim()&&void 0!==this.refs.ref_callForm&&Object(D.b)(e,this.refs.ref_callForm,this.props.infoA,this.props.default,this.props.default.codeHidden),setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}readData(e,t){const a=this.getDataCallForm(this.muti_form_didMount[0]);if(e.includes(".")){var i=e.split(".");if(void 0===t)l.g.putData(i[0],i[1],a.muti,this.props.infoA);else if("true"===t&&void 0!==a){const{address_default:e,value_default:t,has_default:s}=this.props.config;if(l.g.putData(i[0],i[1],a.muti,this.props.infoA),"true"===s){let i=e.split(".")||[],s=t.split(".")||[];if(2===i.length&&2===s.length){let e=a||{};e=e[s[0]]||{},e=e[s[1]],l.g.putData(i[0],i[1],e,this.props.infoA)}}}else"false"===t?l.g.putDataGB(i[0],i[1],a):l.g.putDataGB(i[0],i[1],"")}}render(){let e=this.state.lang||{};e=e[this.state.lang_select]||this.props.default.name;const t=Object(v.a)("uMultiValue"),a=Object(v.a)("uView");return o.a.createElement(a,{class:"col-12"},o.a.createElement(t,{title:e,class:this.props.default.class},o.a.createElement("div",{ref:"ref_callForm"})))}}var va=fa;class ba extends s.Component{constructor(e){super(e),this.getValue=()=>{let e=this.state.data;return"cdlist"===this.state.data.data_type&&(e.cdlist=this.refs.ref_designCdlist.get(),e.data_gb=e.cdlist.query),e},this.state={data:this.readConfig(this.props.data)}}readConfig(e){let t={};return void 0===e&&(e={}),e.structable,t.structable="word_typing.key_word_ex",null!=e.structable_read?t.structable_read=e.structable_read:t.structable_read="word_typing.key_word_ex",null!=e.data_default?t.data_default=e.data_default:t.data_default="",null!=e.data_gb?t.data_gb=e.data_gb:t.data_gb="",null!=e.data_json?t.data_json=e.data_json:t.data_json="",null!=e.cdlist?t.cdlist=e.cdlist:t.cdlist="",null!=e.data_display?t.data_display=e.data_display:t.data_display="c_cdlist.cdid",null!=e.isSearch?t.isSearch=e.isSearch:t.isSearch="false",null!=e.title_tag_input?t.title_tag_input=e.title_tag_input:t.title_tag_input="",null!=e.tag_display?t.tag_display=e.tag_display:t.tag_display="c_cdlist.cdid",null!=e.format_col?t.format_col=e.format_col:t.format_col="true",null!=e.data_type?t.data_type=e.data_type:t.data_type="cdlist",null!=e.type_value_string?t.type_value_string=e.type_value_string:t.type_value_string="c_cdlist.cdid",null!=e.separator?t.separator=e.separator:t.separator=";",null!=e.display_mixing_col?t.display_mixing_col=e.display_mixing_col:t.display_mixing_col="@c_cdlist.cdid",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){let a=this.state.data;a[e]=t.target.value,this.setState({data:a})}onChange(e,t){let a=this.state.data;a[e]=t.target.value,this.setState({data:a,errorJson:!1})}onBlur(e,t){let a=this.state.data,i=!1;try{if(""!==t.target.value){let i=JSON.parse(t.target.value);a[e]=JSON.stringify(i,null,4)}}catch(s){i=!0,console.error(s)}this.setState({data:a,errorJson:i})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"T\xean ti\xeau \u0111\u1ec1",value:this.state.data.title_tag_input,onChange:e=>this.onChange_Value("title_tag_input",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"D\xf9ng search",value:this.state.data.isSearch,data:[{title:"Kh\xf4ng",code:"false"},{title:"C\xf3",code:"true"}],onChange:e=>this.onChange_Value("isSearch",e)}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-7 col-sm-7 col-md-8 col-lg-8"},o.a.createElement("h4",{className:"text-capitalize mrgn-all-none"},"Kho d\u1eef li\u1ec7u")," "),o.a.createElement("div",{className:"col-xs-5 col-sm-5 col-md-4 col-lg-4"},o.a.createElement("div",{className:"tab-icon pull-right"},o.a.createElement("div",{"data-toggle":"collapse","data-target":"#database","aria-expanded":"true",style:{cursor:"pointer"}}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," "))))),o.a.createElement("div",{id:"database",className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Lo\u1ea1i d\u1eef li\u1ec7u",value:this.state.data.data_type,data:[{title:"Query",code:"database"},{title:"Json",code:"json"},{title:"Cdlist",code:"cdlist"}],onChange:e=>this.onChange_Value("data_type",e)}),"database"===this.state.data.data_type&&o.a.createElement("div",null,o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Query l\u1ea5y d\u1eef li\u1ec7u",value:this.state.data.data_gb,onChange:e=>this.onChange_Value("data_gb",e)})),"cdlist"===this.state.data.data_type&&o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement(ke,{cdlist:this.state.data.cdlist,class:"col-sm-12 col-md-12",name:"CDList",ref:"ref_designCdlist"})),"json"===this.state.data.data_type&&o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12",style:{marginBottom:"2rem"}},"D\u1eef li\u1ec7u d\u1ea1ng json",o.a.createElement("textarea",{className:"form-control",rows:"10",value:this.state.data.data_json,id:"data_json",onChange:e=>{this.onChange("data_json",e)},onBlur:e=>{this.onBlur("data_json",e)},placeholder:"data_json"}))))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-7 col-sm-7 col-md-8 col-lg-8"},o.a.createElement("h4",{className:"text-capitalize mrgn-all-none"},"C\u1ea5u h\xecnh d\u1eef li\u1ec7u")," "),o.a.createElement("div",{className:"col-xs-5 col-sm-5 col-md-4 col-lg-4"},o.a.createElement("div",{className:"tab-icon pull-right"},o.a.createElement("div",{"data-toggle":"collapse","data-target":"#get_set_data","aria-expanded":"true",style:{cursor:"pointer"}}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," "))))),o.a.createElement("div",{id:"get_set_data",className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},o.a.createElement("div",null,o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"C\u1ea5u h\xecnh d\u1eef li\u1ec7u",value:this.state.data.type_value_string,onChange:e=>this.onChange_Value("type_value_string",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1ea5u ph\xe2n c\xe1ch",value:this.state.data.separator,onChange:e=>this.onChange_Value("separator",e)}))))))),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-7 col-sm-7 col-md-8 col-lg-8"},o.a.createElement("h4",{className:"text-capitalize mrgn-all-none"},"Hi\u1ec3n th\u1ecb l\u01b0\u1edbi d\u1eef li\u1ec7u")," "),o.a.createElement("div",{className:"col-xs-5 col-sm-5 col-md-4 col-lg-4"},o.a.createElement("div",{className:"tab-icon pull-right"},o.a.createElement("div",{"data-toggle":"collapse","data-target":"#typeTable","aria-expanded":"true",style:{cursor:"pointer"}}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," "))))),o.a.createElement("div",{id:"typeTable",className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"Tr\u1ed9n c\u1ed9t/\u0110a c\u1ed9t",value:this.state.data.format_col,data:[{title:"D\xf9ng \u0111a c\u1ed9t",code:"true"},{title:"D\xf9ng tr\u1ed9n c\u1ed9t",code:"false"}],onChange:e=>this.onChange_Value("format_col",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1eef li\u1ec7u hi\u1ec3n th\u1ecb (c\xe1ch nhau b\u1eb1ng d\u1ea5u ';')",value:this.state.data.data_display,onChange:e=>this.onChange_Value("data_display",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ti\xeau \u0111\u1ec1 th\u1ebb tag",value:this.state.data.tag_display,onChange:e=>this.onChange_Value("tag_display",e)}),"false"===this.state.data.format_col&&o.a.createElement("div",null,o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"C\xe1ch hi\u1ec3n th\u1ecb d\u1eef li\u1ec7u",value:this.state.data.display_mixing_col,onChange:e=>this.onChange_Value("display_mixing_col",e)}))))))))}}var ya=ba;class Da extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))))))))}}var Aa=Da;class Ca extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var Na=Ca;class Ma extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var ka=Ma;class Ea{}Ea.getProperty=()=>({main:[{tagType:{style:[{backgroundColor:"#ff471a"},{marginRight:"4px"}],attr:[{tabIndex:-1}],class:"tag label label-info tag-focus"}},{tagData:{style:[{backgroundColor:"#adad85"},{marginRight:"4px"}],attr:[{tabIndex:-1}],class:"tag label label-info tag-focus"}}],position:[{tagRemove:{style:[{marginRight:"10px"}],attr:[{tabIndex:-1}],class:""}}]});var xa=Ea;class Ia extends s.Component{constructor(e){super(e),this.renderTable=e=>e.map((t,a)=>o.a.createElement("table",{key:a},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,Object.keys(t)))),o.a.createElement("tbody",null,t[Object.keys(t)[0]].style.map((i,s)=>o.a.createElement("tr",{key:s},o.a.createElement("td",null,void 0!==Object.keys(i)[1]?o.a.createElement("input",{type:"text",tabIndex:-1,className:"form-control",value:Object.keys(i)[0],readOnly:!0}):o.a.createElement("input",{type:"text",className:"form-control",value:Object.keys(i)[0],onChange:o=>{let{value:l}=o.target,n=Object.values(i)[0];e[a][Object.keys(t)[0]].style[s]={[l]:void 0!==n?n:""},this.setState({data:this.state.data})}})),o.a.createElement("td",null,o.a.createElement("input",{type:"text",className:"form-control",value:Object.values(i)[0],onChange:o=>{let{value:l}=o.target,n=e[a][Object.keys(t)[0]].style[s],r=Object.keys(i)[0];void 0!==r?n[r]=l:e[a][Object.keys(t)[0]].style[s]={"*":l},this.setState({data:this.state.data})}})),o.a.createElement("td",null,void 0!==Object.values(i)[1]?o.a.createElement("input",{type:"text",tabIndex:-1,className:"form-control",value:Object.values(i)[1],readOnly:!0}):o.a.createElement("i",{className:"fa fa-minus-square",onClick:()=>{t[Object.keys(t)].style.splice(s,1),this.setState({data:this.state.data})}})),o.a.createElement("td",null,0===s&&o.a.createElement("i",{className:"fa fa-plus-square",onClick:()=>{t[Object.keys(t)].style.push({"":""}),this.setState({data:this.state.data})}})))),t[Object.keys(t)].attr.map((i,s)=>o.a.createElement("tr",{key:s},o.a.createElement("td",null,void 0!==Object.keys(i)[1]?o.a.createElement("input",{type:"text",tabIndex:-1,className:"form-control",value:Object.keys(i)[0],readOnly:!0}):o.a.createElement("input",{type:"text",className:"form-control",value:Object.keys(i)[0],onChange:o=>{let{value:l}=o.target,n=Object.values(i)[0];e[a][Object.keys(t)[0]].attr[s]={[l]:void 0!==n?n:""},this.setState({data:this.state.data})}})),o.a.createElement("td",null,o.a.createElement("input",{type:"text",className:"form-control",value:Object.values(i)[0],onChange:o=>{let{value:l}=o.target,n=e[a][Object.keys(t)[0]].attr[s],r=Object.keys(i)[0];void 0!==r?n[r]=l:e[a][Object.keys(t)[0]].attr[s]={"*":l},this.setState({data:this.state.data})}})),o.a.createElement("td",null,void 0!==Object.values(i)[1]?o.a.createElement("input",{type:"text",tabIndex:-1,className:"form-control",value:Object.values(i)[1],readOnly:!0}):o.a.createElement("i",{className:"fa fa-minus-square",onClick:()=>{t[Object.keys(t)].attr.splice(s,1),this.setState({data:this.state.data})}})),o.a.createElement("td",null,0===s&&o.a.createElement("i",{className:"fa fa-plus-square",onClick:()=>{t[Object.keys(t)].attr.push({"":""}),this.setState({data:this.state.data})}})))),o.a.createElement("tr",null,o.a.createElement("td",null),o.a.createElement("td",null,o.a.createElement("input",{type:"text",className:"form-control",value:t[Object.keys(t)].class.value,onChange:i=>{let{value:s}=i.target;e[a][Object.keys(t)[0]].class.value=s,this.setState({data:this.state.data})}})),o.a.createElement("td",null,o.a.createElement("input",{type:"text",tabIndex:-1,className:"form-control",value:t[Object.keys(t)].class.default_,readOnly:!0})))))),this.get=()=>this.state.data;let t=this.props.propertyDefault;for(let i of t.main)for(let e in i){let t=[],a=[];for(let s of i[e].style)t.push({[Object.keys(s)[0]]:"#",default_:Object.values(s)[0]});i[e].style=t;for(let s of i[e].attr)a.push({[Object.keys(s)[0]]:"#",default_:Object.values(s)[0]});i[e].attr=a,i[e].class={value:"#",default_:i[e].class}}for(let i of t.position)for(let e in i){let t=[],a=[];for(let s of i[e].style)t.push({[Object.keys(s)[0]]:"#",default_:Object.values(s)[0]});i[e].style=t;for(let s of i[e].attr)a.push({[Object.keys(s)[0]]:"#",default_:Object.values(s)[0]});i[e].attr=a,i[e].class={value:"#",default_:i[e].class}}let a=this.props.properties;if(void 0!==a.main)for(let i=0;i<a.main.length;i++)for(let e in a.main[i])if(void 0!==t.main[i]&&void 0!==t.main[i][e]&&void 0!==a.main[i]){for(let s=0;s<a.main[i][e].style.length;s++){let o=a.main[i][e].style[s],l=t.main[i][e].style;l.some(e=>Object.keys(e)[0]===Object.keys(o)[0])?"#"!==Object.values(o)[0]&&(void 0!==l[s]?l[s][Object.keys(l[s])[0]]=Object.values(o)[0]:l.push(o)):l.push(o)}for(let s=0;s<a.main[i][e].attr.length;s++){let o=a.main[i][e].attr[s],l=t.main[i][e].attr;l.some(e=>Object.keys(e)[0]===Object.keys(o)[0])?"#"!==Object.values(o)[0]&&(void 0!==l[s]?l[s][Object.keys(l[s])[0]]=Object.values(o)[0]:l.push(o)):l.push(o)}void 0!==a.main[i][e].class&&"#"!==a.main[i][e].class.value&&(t.main[i][e].class.value=a.main[i][e].class)}if(void 0!==a.position)for(let i=0;i<a.position.length;i++)for(let e in a.position[i]){for(let s=0;s<a.position[i][e].style.length;s++){let o=a.position[i][e].style[s],l=t.position[i][e].style;l.some(e=>Object.keys(e)[0]===Object.keys(o)[0])?"#"!==Object.values(o)[0]&&(void 0!==l[s]?l[s][Object.keys(l[s])[0]]=Object.values(o)[0]:l.push(o)):l.push(o)}for(let s=0;s<a.position[i][e].attr.length;s++){let o=a.position[i][e].attr[s],l=t.position[i][e].attr;l.some(e=>Object.keys(e)[0]===Object.keys(o)[0])?"#"!==Object.values(o)[0]&&(void 0!==l[s]?l[s][Object.keys(l[s])[0]]=Object.values(o)[0]:l.push(o)):l.push(o)}void 0!==a.position[i][e].class&&"#"!==a.position[i][e].class.value&&(t.position[i][e].class.value=a.position[i][e].class)}this.state={data:t}}render(){return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("div",{className:"form-group "+this.props.className,style:{marginBottom:25},hidden:void 0!==this.props.hidden&&!this.props.hidden},"Main "," ",this.renderTable(this.state.data.main)),o.a.createElement("div",{className:"form-group "+this.props.className,style:{marginBottom:25},hidden:void 0!==this.props.hidden&&!this.props.hidden},"Position "," ",this.renderTable(this.state.data.position))))}}class Ta extends s.Component{constructor(e){super(e),this.getValue=()=>{let e=this.state.data;return e.properties=this.convertData(this.refs.DesignProperty.get()),e},this.convertData=e=>{for(let t of e.main)for(let e in t){let a=[],i=[];for(let s of t[e].style)void 0===s.default_?0!==Object.keys(s)[0].length&&0!==Object.values(s)[0].length&&a.push(s):0!==Object.values(s)[0].length?a.push({[Object.keys(s)[0]]:Object.values(s)[0]}):a.push({[Object.keys(s)[0]]:"#"});t[e].style=a;for(let s of t[e].attr)void 0===s.default_?0!==Object.keys(s)[0].length&&i.push(s):i.push({[Object.keys(s)[0]]:Object.values(s)[0]});t[e].attr=i,0!==t[e].class.value.length?t[e].class=t[e].class.value:t[e].class="#"}for(let t of e.position)for(let e in t){let a=[],i=[];for(let s of t[e].style)void 0===s.default_?0!==Object.keys(s)[0].length&&0!==Object.values(s)[0].length&&a.push(s):0!==Object.values(s)[0].length?a.push({[Object.keys(s)[0]]:Object.values(s)[0]}):a.push({[Object.keys(s)[0]]:"#"});t[e].style=a;for(let s of t[e].attr)void 0===s.default_?0!==Object.keys(s)[0].length&&i.push(s):i.push({[Object.keys(s)[0]]:Object.values(s)[0]});t[e].attr=i,0!==t[e].class.value.length?t[e].class=t[e].class.value:t[e].class="#"}return e},this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.properties?t.properties=e.properties:t.properties="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",null,o.a.createElement(Ia,{properties:this.state.data.properties,propertyDefault:xa.getProperty(),ref:"DesignProperty"}))}}var wa=Ta;class Oa extends s.Component{constructor(e){super(e),this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(ya,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(ka,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(Aa,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormProperty=e=>o.a.createElement(wa,{data:e,ref:e=>l.g.setConfigComponent("property",e)}),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(Na,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}),this.set=(e,t)=>{if(this.setState({value_selected:[]}),void 0!==t){if(void 0!==this.props.config.structable_read&&this.props.config.structable_read.includes(".")){var a=this.props.config.structable_read.split(".");if(a.length>0&&void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]]&&0!==t[a[0]][a[1]].length){let e=[],i=this.state.data_search;for(let s of t[a[0]][a[1]].split(";"))0===this.getDataFromValueSelected(s).length?e.push(s):e=e.concat(this.getDataFromValueSelected(s));for(let t of e)i=i.filter(e=>e!==t);return void this.setState({value_selected:e,data_search:i})}}this.setState({value:""})}},this.setAdvanced=(e,t)=>{if(e.codeHidden&&e.codeHidden===this.props.default.codeHidden&&(this.data_select=t,void 0!==this.data_select)){if(this.state.isLookup){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&(a.putDataSetAdvanced(this.props.default,this.data_select),a.runRuleFunction(this.props.default,this.data_select,this.props.infoA_parent,"on_change"))}var i="";void 0!==this.props.config.data_view&&(i=": "+l.g.getOOP(this.data_select,this.props.config.data_view.trim()));var s="";void 0!==this.props.config.data_value&&(s=l.g.getOOP(this.data_select,this.props.config.data_value.trim())),this.setState({value:s,data_view:i})}},this.get=(e,t)=>{var a=!0;if(e.checkError&&"false"===e.checkError&&(a=!1),!a||!this.checkValidate()){var i=!1;if(null!==e&&void 0!==e&&(e.list_component?(";"+e.list_component+";").includes(";"+this.props.default.code+";")&&(i=!0):void 0!==e.list_view&&void 0!==this.props.infoView.code&&this.props.infoView.code===e.list_view&&(i=!0),i)){if(0!==this.state.value_selected.length){let e=[];for(let t of this.state.value_selected)"string"===typeof t?e.push(t):e.push(l.g.getOOP(t,this.state.config_.type_value_string_config));this.setState({result_:e.join(this.state.config_.separator_config)})}var s=this.props.config.structable;if(s.includes("|"))for(var o=s.split("|"),n=0;n<o.length;n++)this.readData(o[n],e.inform);else this.readData(s,e.inform)}}},this.checkValidate=()=>{let e=!1,t=this.state.value_selected;if(void 0!==t&&(void 0===this.state.validate.request||e||this.state.validate.request&&0===t.length&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:"validateRequest"}))),e){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{this.setState({value:this.data_default,value_selected:[]})},this.onClickSelected=e=>{if(!this.state.value_selected.includes(e)){let t=this.state.data_search.filter(t=>t!==e);this.setState({value_selected:[...this.state.value_selected,e],data_search:t})}},this.onClickRemove=e=>{let t=this.state.value_selected.filter(t=>t!==e);"string"===typeof e?this.setState({value_selected:t}):this.setState({value_selected:t,data_search:[...this.state.data_search,e]})},this.getDataFromValueSelected=e=>{let t=l.g.convertStringToEn(e).replace(/ /g,""),a="";for(let i of this.state.config_.data_display_array)for(let e of this.state.data_search){l.g.convertStringToEn(l.g.getOOP(e,i)).replace(/ /g,"")===t&&(a=e)}return a},this.handleSearch=e=>{let t=this.state.arr_,a=this.state.value_selected,i=this.state.config_.data_display_array,s=l.g.convertStringToEn(e.target.value.trim()).replace(/ /g,""),o=[],n=[];if(0!==e.target.value.length&&0===a.length){for(let e of t)for(let t of i){l.g.convertStringToEn(l.g.getOOP(e,t)).replace(/ /g,"").includes(s)&&-1===o.indexOf(e)&&o.push(e)}n=o}if(0===e.target.value.length&&0===a.length&&(n=t),0!==a.length&&0===e.target.value.length){for(let e=0;e<a.length;e++)t=t.filter(t=>t!==a[e]);n=t}if(0!==a.length&&0!==e.target.value.length){for(let e=0;e<a.length;e++)t=t.filter(t=>t!==a[e]);for(let e of t)for(let t of i){l.g.convertStringToEn(l.g.getOOP(e,t)).replace(/ /g,"").includes(s)&&-1===o.indexOf(e)&&o.push(e)}n=o}this.setState({data_search:n})},this.handleChangeValue=e=>{const{name:t,value:a}=e.target;this.setState({[t]:a})},this.handleKeyDownForInput=e=>{switch(e.keyCode){case 37:if(0!==this.state.value_selected.length){let e=this.state.value_selected.length-1;this.refs["tag_"+e.toString()].focus(),this.setState({current_tag:e})}break;case 40:"true"===this.state.config_.isSearch_config?this.refs.input_search.focus():0!==this.state.data_search.length&&(this.refs.tr_0.focus(),this.setState({current_tableRow:0}));break;case 13:if(""!==e.target.value)if(this.state.value_selected.some(t=>t===e.target.value)){let t=this.state.value_selected.findIndex(t=>t===e.target.value);this.refs["tag_"+t.toString()].focus(),this.setState({current_tag:t,value:""})}else this.setState({value_selected:[...this.state.value_selected,e.target.value],value:""})}},this.handleKeyDownForInputSearch=e=>{switch(e.keyCode){case 38:this.refs.input_import.focus();break;case 40:0!==this.state.data_search.length&&(this.refs.tr_0.focus(),this.setState({current_tableRow:0}))}},this.handleKeyDownForSpanTag=e=>{let t=this.state.value_selected.length-1,a=this.state.current_tag-1,i=this.state.current_tag+1;switch(e.keyCode){case 37:this.state.current_tag>=0&&a>=0&&(this.refs["tag_"+a.toString()].focus(),this.setState({current_tag:a<0?0:a}));break;case 39:this.state.current_tag===t?(this.refs.input_import.focus(),this.setState({current_tag:void 0})):this.state.current_tag<t&&(this.refs["tag_"+i.toString()].focus(),this.setState({current_tag:i>t?t:i}));break;case 46:this.onClickRemove(this.state.value_selected[this.state.current_tag]),this.state.current_tag===t&&0!==this.state.current_tag&&(this.refs["tag_"+(0!==t&&t-1).toString()].focus(),this.setState({current_tag:0!==t&&t-1}))}},this.handleKeyDownForTable=e=>{let t=this.state.data_search.length-1,a=this.state.current_tableRow-1,i=this.state.current_tableRow+1;switch(e.keyCode){case 38:0===this.state.current_tableRow?"true"!==this.state.config_.isSearch_config?this.refs.input_import.focus():this.refs.input_search.focus():this.state.current_tableRow>0&&(this.refs["tr_"+a.toString()].focus(),this.setState({current_tableRow:a<0?0:a}));break;case 40:this.state.current_tableRow<t&&(this.refs["tr_"+i.toString()].focus(),this.setState({current_tableRow:i>t?t:i}));break;case 13:let e=this.refs["hiddenInput_"+this.state.current_tableRow.toString()].value;for(let t of this.state.config_.data_display_array){let a=this.state.data_search.filter(a=>l.g.getOOP(a,t).includes(e));0!==a.length&&this.onClickSelected(a[0])}this.state.current_tableRow===t&&0!==t&&(this.refs["tr_"+(t-1).toString()].focus(),this.setState({current_tableRow:t-1}))}},this.renderTable=()=>o.a.createElement("div",{className:"selectize-dropdown-content"},o.a.createElement("table",{id:"myTable",className:"table table-hover table-bordered table-striped"},"true"===this.state.config_.format_col_config?o.a.createElement("tbody",null,this.state.data_search.map((e,t)=>o.a.createElement("tr",{key:t,style:{cursor:"pointer"},tabIndex:"-1",ref:"tr_"+t,onKeyDown:this.handleKeyDownForTable,onClick:()=>{this.onClickSelected(e)}},"json"!==this.state.config_.data_type_config?this.state.config_.data_display_array.map((a,i)=>o.a.createElement("td",{key:i},l.g.getOOP(e,a),this.state.config_.data_display_array[0]===a&&o.a.createElement("input",{ref:"hiddenInput_"+t,value:l.g.getOOP(e,this.state.config_.data_display_array[0]),hidden:!0,readOnly:!0}))):this.state.config_.data_display_array.map((t,a)=>o.a.createElement("td",{key:a},e[t]))))):o.a.createElement("tbody",null,this.state.data_search.map((e,t)=>o.a.createElement("tr",{key:t,style:{cursor:"pointer"},tabIndex:"-1",ref:"tr_"+t,onKeyDown:this.handleKeyDownForTable,onClick:()=>{this.onClickSelected(e)}},"json"!==this.state.config_.data_type_config?o.a.createElement("td",null,this.convertMixDisplay(e),o.a.createElement("input",{ref:"hiddenInput_"+t,value:l.g.getOOP(e,this.state.config_.data_display_array[0]),hidden:!0,readOnly:!0})):o.a.createElement("td",null,this.convertMixDisplay(e))))))),this.renderTag=()=>this.state.value_selected.map((e,t)=>o.a.createElement("span",{key:t},-1===this.state.arr_.indexOf(e)?o.a.createElement("span",Object.assign({className:"tagInput "+this.state.property.main.tagType.class},this.state.property.main.tagType.attr,{ref:"tag_"+t,style:this.state.property.main.tagType.style,onKeyDown:this.handleKeyDownForSpanTag}),e,o.a.createElement("span",{"data-role":"remove",className:"tag-style",onClick:()=>{this.onClickRemove(e)}})):o.a.createElement("span",Object.assign({className:"tagInput "+this.state.property.main.tagData.class,ref:"tag_"+t},this.state.property.main.tagData.attr,{style:this.state.property.main.tagData.style,onKeyDown:this.handleKeyDownForSpanTag}),"json"!==this.state.config_.data_type_config?l.g.getOOP(e,this.state.config_.tag_display_config):e[this.state.config_.tag_display_config],o.a.createElement("span",{"data-role":"remove",className:"tag-style",onClick:()=>{this.onClickRemove(e)}})))),this.convertMixDisplay=e=>{let t=this.state.config_.display_mixing_col_config,a=l.g.component_getListCode(this.state.config_.display_mixing_col_config);if("json"!==this.state.config_.data_type_config)for(let i of a)t=t.replace(i.key,l.g.getOOP(e,i.code));else for(let i of a)t=t.replace(i.key,e[i.code]);return t.trim()},this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.renderMess=e=>{switch(e){case"validateRequest":default:return l.g.getLang(e)}},this.data_default="",void 0!==this.props.config.data_default&&(this.data_default=this.props.config.data_default);var t=this.props.validate;void 0===t&&(t={}),this.callform_detail="",this.callform="",this.data_select={};var a=l.g.component_propertyIndex(this.props.property.properties,xa.getProperty());void 0===a&&(a={});var i=this.props.lang;void 0===i&&(i={});var s="";void 0!==this.props.config.data_type&&(s=this.props.config.data_type);var n="false";void 0!==this.props.config.isSearch&&(n=this.props.config.isSearch);var r="true";void 0!==this.props.config.format_col&&(r=this.props.config.format_col);var c="";void 0!==this.props.config.tag_display&&(c=this.props.config.tag_display);var d="";void 0!==this.props.config.data_gb&&(d=this.props.config.data_gb);var m="";void 0!==this.props.config.cdlist&&(m=this.props.config.cdlist);var u="";void 0!==this.props.config.data_display&&(u=this.props.config.data_display);var h="";void 0!==this.props.config.title_tag_input&&(h=this.props.config.title_tag_input);var g="";void 0!==this.props.config.type_value_string&&(g=this.props.config.type_value_string);var _=";";void 0!==this.props.config.separator&&(_=this.props.config.separator);var p="";void 0!==this.props.config.display_mixing_col&&(p=this.props.config.display_mixing_col),this.state={value:this.data_default,value_old:"",lang:i,lang_select:l.g.getLangKey(),validate:t,property:a,data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",value_selected:[],arr_:[],data_search:[],result_:"",config_:{data_display_array:u.split(";"),query_db:d,isSearch_config:n,format_col_config:r,title_tag_input_config:h,type_value_string_config:g,separator_config:_,display_mixing_col_config:p,cdlist_config:m,data_type_config:s,tag_display_config:c},current_tag:void 0,current_tableRow:void 0,hover_event:!1}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent()),this.setState({data_search:this.state.arr_})}UNSAFE_componentWillMount(){switch(this.state.config_.data_type_config){case"database":0!==this.state.config_.query_db.length&&this.setState({arr_:l.g.getDataLimited(this.state.config_.query_db,0,999999).data});break;case"cdlist":let e=this.state.config_.cdlist_config.cdgrp,t=this.state.config_.cdlist_config.cdname;this.setState({arr_:l.g.data_cdList(e,t)||[]});break;case"json":if(void 0!==this.props.config.data_json){let e=l.g.parseJson(this.props.config.data_json);void 0!==e&&this.setState({arr_:e})}}}readData(e,t){if(e.includes(".")){var a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.result_,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.result_):l.g.putDataGB(a[0],a[1],"")}}render(){return o.a.createElement("div",{ref:"jTagInput"},o.a.createElement("div",{className:this.props.default.class},o.a.createElement("label",{style:{fontWeight:400}},void 0!==this.state.lang&&(void 0!==this.state.lang[this.state.lang_select]?this.state.lang[this.state.lang_select]:""!==this.state.config_.title_tag_input_config?this.state.config_.title_tag_input_config:this.props.default.name)),o.a.createElement("div",{className:""!==this.state.help_css?"form-group has-"+this.state.help_css+" has-feedback":"prtm-block-content"},o.a.createElement("div",{className:"bootstrap-tagsinput tag-input"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 cont-tag"},this.renderTag()),o.a.createElement("div",{className:"col-sm-6 cont-main"},o.a.createElement("div",{className:"selectize-control selectize-optgroup single plugin-optgroup_columns"},o.a.createElement("div",{className:"items has-options not-full"},o.a.createElement("input",{type:"text",className:"tag-register",ref:"input_import",autoComplete:"off",name:"value",placeholder:l.g.getLang("jTagInput_register_Input"),value:this.state.value,onChange:this.handleChangeValue,onKeyDown:this.handleKeyDownForInput}),o.a.createElement("div",{className:"selectize-dropdown single selectize-optgroup plugin-optgroup_columns table-data cont-table"},"true"===this.state.config_.isSearch_config&&o.a.createElement("div",{className:"cont-search"},o.a.createElement("input",{type:"text",className:"tag-search",ref:"input_search",placeholder:l.g.getLang("jTagInput_search_Input"),name:"value_search",onKeyDown:this.handleKeyDownForInputSearch,onChange:this.handleSearch}),o.a.createElement("i",{className:"fa fa-search tag-remove"})),0!==this.state.data_search.length&&this.renderTable())))))))),""!==this.state.help_icon&&o.a.createElement("span",{className:"glyphicon "+this.state.help_icon+" form-control-feedback","aria-hidden":"true"}),""===this.state.help_mess&&o.a.createElement("small",{className:"form-text text-danger"},"\xa0"),""!==this.state.help_mess&&o.a.createElement("small",{className:"form-text text-danger"},this.renderMess(this.state.help_mess)))}}var Sa=Oa;class Fa extends s.Component{constructor(){super(...arguments),this.getInfoCheckRun=()=>({view:this.props.infoView,default:this.props.default}),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.printComponent=()=>{let e=l.g.getFormAppAuto(this.props.infoA.key_form).callDirFromSupport("getElearning",{},{}),t=window.open("","","height=600,width=1200");for(let i in e){if(void 0===e[i])return;let s="",o="",l="",n="";if(null!==document.querySelector("code")&&void 0!==document.querySelector("code")){let e=window.getComputedStyle(document.querySelector("code"));for(let t=0;t<e.length;t++)s+=e[t]+":"+e.getPropertyValue(e[t])+";"}if(null!==document.querySelector("p")&&void 0!==document.querySelector("p")){let e=window.getComputedStyle(document.querySelector("p"));for(let t=0;t<e.length;t++)o+=e[t]+":"+e.getPropertyValue(e[t])+";"}if(null!==document.querySelector("pre")&&void 0!==document.querySelector("pre")){let e=window.getComputedStyle(document.querySelector("pre"));for(let t=0;t<e.length;t++)l+=e[t]+":"+e.getPropertyValue(e[t])+";"}if(null!==document.querySelector("blockquote")&&void 0!==document.querySelector("blockquote")){let e=window.getComputedStyle(document.querySelector("blockquote"));for(let t=0;t<e.length;t++)n+=e[t]+":"+e.getPropertyValue(e[t])+";"}var a=`code {${s}}p {${o}}pre {${l} height: auto; width: auto;}blockquote {${n} height: auto; width: auto;}hr {page-break-before:always;}`;t.document.write('<html><head><style type="text/css">'),t.document.write(a),t.document.write("</style></head><body>"),t.document.write(e[i].innerHTML),t.document.write("</body></html>")}t.document.close(),t.print()}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}render(){return o.a.createElement("div",{className:this.props.default.class},o.a.createElement("div",{style:{textAlign:"right"}},o.a.createElement("button",{className:"btn btn-primary",onClick:()=>this.printComponent()},l.g.getLang("jButtonPrint_title"))))}}var ja=Fa;class La extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.action?t.action=e.action:t.action="",null!=e.structable?t.structable=e.structable:t.structable="",null!=e.structable_read?t.structable_read=e.structable_read:t.structable_read="",null!=e.data_default?t.data_default=e.data_default:t.data_default="",null!=e.isLookup?t.isLookup=e.isLookup:t.isLookup="false",null!=e.callform?t.callform=e.callform:t.callform="",null!=e.callform_detail?t.callform_detail=e.callform_detail:t.callform_detail="",null!=e.callform_detail_mode?t.callform_detail_mode=e.callform_detail_mode:t.callform_detail_mode="modal",null!=e.data_view?t.data_view=e.data_view:t.data_view="",null!=e.data_value?t.data_value=e.data_value:t.data_value="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"D\xf9ng lookup",value:this.state.data.isLookup,data:[{title:"Kh\xf4ng d\xf9ng",code:"false"},{title:"D\xf9ng lookup",code:"true"}],onChange:e=>this.onChange_Value("isLookup",e)}),"true"===this.state.data.isLookup&&o.a.createElement(Ze,{class:"col-sm-12 col-md-6",name:"L\u1ea5y data t\u1eeb form",value:this.state.data.callform,onChange:e=>this.onChange_Value("callform",e)}),"true"===this.state.data.isLookup&&o.a.createElement(Ze,{class:"col-sm-12 col-md-6",name:"Xem chi ti\u1ebft",value:this.state.data.callform_detail,onChange:e=>this.onChange_Value("callform_detail",e)}),"true"===this.state.data.isLookup&&o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Xem chi ti\u1ebft mode",value:this.state.data.callform_detail_mode,data:[{title:"Modal",code:"modal"},{title:"Main",code:"main"}],onChange:e=>this.onChange_Value("callform_detail_mode",e)}),"true"===this.state.data.isLookup&&o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"OOP hi\u1ec3n th\u1ecb",value:this.state.data.data_view,onChange:e=>this.onChange_Value("data_view",e)}),"true"===this.state.data.isLookup&&o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"OOP gi\xe1 tr\u1ecb",value:this.state.data.data_value,onChange:e=>this.onChange_Value("data_value",e)}))}}var za=La;class Ra extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng nh\u1ecf h\u01a1n"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng v\u01b0\u1ee3t qu\xe1"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))))))))}}var Ua=Ra;class Pa extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var Va=Pa;class Ya extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var Qa=Ya;class Ba extends s.Component{constructor(e){super(e),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.setCMD=(e,t)=>{},this.getAdvanced=(e,t)=>{},this.getDataOOP=(e,t)=>{const{list_component:a}=e,{code:i}=this.props.default;if(a){if(a.split(";").includes(i))return this.data_select}},this.changeKeyLanguage=()=>{""!==this.state.help_mess&&this.checkValidate(),this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(za,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(Qa,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(Ua,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(Va,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}),this.setDataGB=(e,t)=>{},this.set=(e,t)=>{if(void 0!==t){if(void 0!==this.props.config.structable_read&&this.props.config.structable_read.includes(".")){var a=this.props.config.structable_read.split(".");if(a.length>0&&void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]])return void this.setState({value:t[a[0]][a[1]]})}this.setState({value:""})}},this.setAdvanced=(e,t)=>{if(e.codeHidden&&e.codeHidden===this.props.default.codeHidden&&(this.data_select=t,void 0!==this.data_select)){if(this.state.isLookup){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&(a.putDataSetAdvanced(this.props.default,this.data_select),a.runRuleFunction(this.props.default,this.data_select,this.props.infoA_parent,"on_change"))}var i="";void 0!==this.props.config.data_view&&(i=": "+l.g.getOOP(this.data_select,this.props.config.data_view.trim()));var s="";void 0!==this.props.config.data_value&&(s=l.g.getOOP(this.data_select,this.props.config.data_value.trim())),this.setState({value:s,data_view:i})}},this.get=(e,t)=>{var a=!0;if(e.checkError&&"false"===e.checkError&&(a=!1),!a||!this.checkValidate()){var i=!1;if(null!==e&&void 0!==e&&(e.list_component?(";"+e.list_component+";").includes(";"+this.props.default.code+";")&&(i=!0):void 0!==e.list_view&&void 0!==this.props.infoView.code&&this.props.infoView.code===e.list_view&&(i=!0),i)){var s=this.props.config.structable;if(s.includes("|"))for(var o=s.split("|"),l=0;l<o.length;l++)this.readData(o[l],e.inform);else this.readData(s,e.inform)}}},this.checkValidate=()=>{var e=!1,t=this.state.value;if(void 0!==t&&(void 0===this.state.validate.request||e||this.state.validate.request&&""===t&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:l.g.getLang("validateRequest")}))),e){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{this.setState({value:this.data_default})},this.data_default="",void 0!==this.props.config.data_default&&(this.data_default=this.props.config.data_default);var t=this.props.validate;void 0===t&&(t={}),this.callform_detail="",this.callform="",this.data_select={};var a=this.props.lang;void 0===a&&(a={}),this.state={value:this.data_default,value_old:"",lang:a,lang_select:l.g.getLangKey(),validate:t,data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:""}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}readData(e,t){if(e.includes(".")){var a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.value,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.value):l.g.putDataGB(a[0],a[1],"")}}render(){return o.a.createElement("div",{className:this.props.default.class},"jTableCalculator")}}var Ha=Ba;class Ga extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.action?t.action=e.action:t.action="",null!=e.structable?t.structable=e.structable:t.structable="",null!=e.structable_read?t.structable_read=e.structable_read:t.structable_read="",null!=e.data_default?t.data_default=e.data_default:t.data_default="",null!=e.checked_mode?t.checked_mode=e.checked_mode:t.checked_mode="true_false",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Lo\u1ea1i d\u1eef li\u1ec7u",value:this.state.data.checked_mode,data:[{title:"True - False",code:"true_false"},{title:"Y - N",code:"Y_N"},{title:"1 - 0",code:"1_0"}],onChange:e=>this.onChange_Value("checked_mode",e)}))}}var Ja=Ga;class qa extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng nh\u1ecf h\u01a1n"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng v\u01b0\u1ee3t qu\xe1"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))))))))}}var Wa=qa;class Ka extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var Za=Ka;class Xa extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var $a=Xa;class ei extends s.Component{constructor(e){switch(super(e),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCMD=(e,t)=>{const{CMD:a}=this.state||{};let i=Object.assign(l.g.cloneJson(a),t);for(let s in i)"true"===i[s]&&(i[s]=!0),"false"===i[s]&&(i[s]=!1);this.setState({CMD:i})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(Ja,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement($a,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(Wa,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(Za,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}),this.renderDebug=()=>{if(l.g.isDebug()){let e=this.props.config.structable.split(".")[1],t=this.data_debug.data_cpn;return null===t&&(t="NULL"),void 0===this.props.config.cdlist&&(this.props.config.cdlist={}),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{color:"#f17316"}},`DATA-> |${e}|:|${t}|`))}},this.set=(e,t)=>{if(void 0!==t){if(void 0!==this.props.config.structable_read&&this.props.config.structable_read.includes(".")){var a=this.props.config.structable_read.split(".");if(a.length>0&&void 0!==t[a[0]]&&(this.data_debug.data_cpn=t[a[0]][a[1]],void 0!==t[a[0]][a[1]])){let e=t[a[0]][a[1]]==this.IS_CHECKED;return void this.setState({value:e})}}this.setState({value:!1})}},this.setAdvanced=(e,t)=>{if(e.codeHidden&&e.codeHidden===this.props.default.codeHidden&&(this.data_select=t,void 0!==this.data_select)){if(this.state.isLookup){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&(a.putDataSetAdvanced(this.props.default,this.data_select),a.runRuleFunction(this.props.default,this.data_select,this.props.infoA_parent,"on_change"))}var i="";void 0!==this.props.config.data_view&&(i=": "+l.g.getOOP(this.data_select,this.props.config.data_view.trim()));var s="";void 0!==this.props.config.data_value&&(s=l.g.getOOP(this.data_select,this.props.config.data_value.trim())),this.setState({value:s,data_view:i})}},this.get=(e,t)=>{var a=this.props.config.structable;if(a.includes("|"))for(var i=a.split("|"),s=0;s<i.length;s++)this.readData(i[s],e.inform);else this.readData(a,e.inform)},this.checkValidate=()=>{var e=!1,t=this.state.value;if(void 0!==t&&(void 0===this.state.validate.request||e||this.state.validate.request&&""===t&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:l.g.getLang("validateRequest")}))),e){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{this.setState({value:"true"===this.data_default})},this.props.config.checked_mode||"Y_N"){case"true_false":this.IS_CHECKED=!0,this.IS_UNCHECKED=!1;break;case"1_0":this.IS_CHECKED=1,this.IS_UNCHECKED=0;break;default:this.IS_CHECKED="Y",this.IS_UNCHECKED="N"}this.data_default="",void 0!==this.props.config.data_default&&(this.data_default=this.props.config.data_default);var t=this.props.validate;void 0===t&&(t={}),this.callform_detail="",this.callform="",this.data_select={};var a=this.props.lang;void 0===a&&(a={});let i={mode:"",col_text:"",col_input:""};void 0!==e.infoA.mode_form&&(i=e.infoA.mode_form);let s={parent:"",child:""},n={class:""},r=void 0!==this.props.ofgroup&&""!==this.props.ofgroup&&"false"!==this.props.ofgroup,c=void 0!==e.infoA.mode_form&&"1"===e.infoA.mode_form.mode,d=!!this.props.ofgroup_child;if(c)if(d)s={parent:"",child:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:void 0!==this.props.css_default.class&&""!==this.props.css_default.class?this.props.css_default.class:"col-sm-4"};else if(r){let e="col-sm-"+parseInt(10/(this.props.ofgroup_data.length+1));n={class:e},s={parent:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:e,child:""}}else s={parent:"col-sm-6",child:""};else s=d?{parent:"",child:this.props.default.class+" jwebui-ofgroup"}:r?0===this.props.ofgroup_data.length?{parent:this.props.default.class,child:""}:{parent:this.props.default.class_ofgroup,child:this.props.default.class+" jwebui-ofgroup-fisrt"}:{parent:this.props.default.class,child:""};this.state={value:"true"===this.data_default,value_old:"",lang:a,lang_select:l.g.getLangKey(),validate:t,data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",CMD:{},config_mode:i,class_config:s,css_default:n},this.data_debug={}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}readData(e,t){if(e.includes(".")){var a=e.split(".");void 0===t?l.g.putData(a[0],a[1],this.state.value,this.props.infoA):"true"===t?!0===this.state.value?l.g.putData(a[0],a[1],this.IS_CHECKED,this.props.infoA):l.g.putData(a[0],a[1],this.IS_UNCHECKED,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.value):l.g.putDataGB(a[0],a[1],"")}}render(){if(!1===this.state.CMD.visible)return null;let e=Object(v.a)("uCheckBox");return o.a.createElement(e,{dataFull:{class:this.props.default.class,title:this.props.default.name,value:this.state.value,config:{cmd:{disable:this.state.CMD.disabled+""==="true"}},abs_Click:()=>{this.setState({value:!this.state.value})}}})}}var ti=ei;const ai={structable:"",structable_read:"",data_default:"",format:"#,###.00",decimal_length:2},ii=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.a)({},ai);for(let a in t)void 0!==e[a]&&(""!==t[a]&&""===e[a]||(t[a]=e[a]));return t||{}},si={request:!1,min:0,max:void 0,max_length:void 0};class oi extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){return ii(e)}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement("div",{className:"col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"prtm-full-block inner-acccordians"},o.a.createElement("div",{className:"panel panel-inverse mrgn-b-none"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-7 col-sm-7 col-md-8 col-lg-8"},o.a.createElement("h4",{className:"text-capitalize mrgn-all-none"},"\u0110\u1ecbnh d\u1ea1ng ki\u1ec3u hi\u1ec3n th\u1ecb")," "),o.a.createElement("div",{className:"col-xs-5 col-sm-5 col-md-4 col-lg-4"},o.a.createElement("div",{className:"tab-icon pull-right"},o.a.createElement("div",{"data-toggle":"collapse","data-target":"#type_currency","aria-expanded":"true",style:{cursor:"pointer"}}," ",o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"})," "))))),o.a.createElement("div",{id:"type_currency",className:"collapse","aria-expanded":"true"},o.a.createElement("div",{className:"pad-all-md"},o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"\u0110\u1ecbnh d\u1ea1ng d\u1ea5u",value:this.state.data.format,data:[{title:"#_______________1235",code:"#"},{title:"#.00____________1234.56",code:"#.00"},{title:"#,###.00________1,234.56",code:"#,###.00"},{title:"#.###,00________1.234,56",code:"#.###,00"},{title:"#,###___________1,234",code:"#,###"},{title:"#.###___________1.234",code:"#.###"}],onChange:e=>this.onChange_Value("format",e)}),!1===["#","#.###","#,###"].includes(this.state.data.format)&&o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ch\u1eef s\u1ed1 th\u1eadp ph\xe2n",value:this.state.data.decimal_length,onChange:e=>this.onChange_Value("decimal_length",e)})))))))}}var li=oi;class ni extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.a)({},si);for(let a in t)e[a]&&(""!==t[a]&&""===e[a]||(t[a]=e[a]));return t||{}}(e)}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Kh\xf4ng nh\u1ecf h\u01a1n"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Kh\xf4ng v\u01b0\u1ee3t qu\xe1"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"\u0110\u1ed9 d\xe0i t\u1ed1i \u0111a"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max_length?this.state.data.max_length:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max_length=parseFloat(e.target.value):void 0!==t.max_length&&delete t.max_length,this.setState({data:t})}}))))))))}}var ri=ni;class ci extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var di=ci;class mi extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var ui=mi;a(152);class hi extends s.Component{constructor(e){super(e),this.getFormConfig=e=>o.a.createElement(li,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(ui,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(ri,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(di,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getInfoErrror=()=>{if(""!==this.state.help_mess){var e=void 0!==this.state.lang&&void 0!==this.state.lang[this.state.lang_select]?this.state.lang[this.state.lang_select]:this.props.default.name;return{info:this.state.help_mess,key:e,infoComponent:this.props.default}}return""},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.setAdvanced=(e,t)=>{if(e.codeHidden){if(e.codeHidden===this.props_smooth.default.codeHidden&&(this.data_select=t,void 0!==this.data_select)){let e="";void 0!==this.props.config.data_value&&(e=l.g.getOOP(this.data_select,this.props.config.data_value.trim())+""),this.setValue(e,this.isNegative,"enter_tab")}}else this.setValue(t)},this.set=(e,t)=>{this.props.default.code;let a=this.props_smooth.config.structable_read?l.g.getNodeJson(t,this.props.config.structable_read):this.props_smooth.config.data_default;this.setValue(a,this.isNegative)},this.getAdvanced=(e,t)=>this.getValue(),this.get=(e,t)=>{var a=this.props.config.structable.split("|");let i=this.getValue();for(const o of a){var s=o.split(".");switch(e.inform){case"false":l.g.putDataGB(s[0],s[1],i);break;default:l.g.putData(s[0],s[1],i,this.props.infoA)}}},this.checkValidate=()=>{let e=!1,t=this.getValue();const{request:a,max:i,min:s,max_length:o}=this.props_smooth.validate;if(void 0!==t&&""!==t||"true"!==a.toString()){if(void 0!==t){this.state.value.replace(/\D/g,"").length>Number(o)&&Number(o)>0?(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:"jCurrency_maxLength"})):t>Number(i)&&null!==i&&void 0!==i&&""!==i?(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:"validateNumMax"})):t<Number(s)&&null!==s&&void 0!==s&&""!==s&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:"validateNumMin"}))}}else e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:"validateRequest"});if(e){var n=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==n&&n.setFormValidateFromComponent(!0,this.props.default)}else this.setState({help_css:"",help_icon:"",help_mess:""});return e},this.convertConfigWithContext=e=>{let t=e,a=l.g.getlistCodeContext(e);for(const i of a){let e=l.g.context_get(i.code)||"";t=t.replace(i.key,e),"number"===typeof e&&(t=Number(t))}return t},this.reload=(e,t)=>{this.setValue(this.props_smooth.config.data_default,this.isNegative)},this.setCMD=(e,t)=>{const{CMD:a}=this.state;let i=Object.assign(l.g.cloneJson(a),t);a.disabled===i.disabled&&a.visible===i.visible&&a.block===i.block||this.setState({CMD:i})},this.onBlur=async()=>{void 0!==this.state.value&&!this.state.value.includes("-.")&&0!==Number(this.state.value)||""===this.state.value||await this.setValue(0),!1===this.checkValidate()&&!0===this.state.isChange&&(this.setState({isChange:!1}),this.onRunRule("enter_tab")),this.onFocus=!1},this.onChange=e=>{let t=e.target;const{selectionStart:a,value:i}=t,{decimal_char:s,int_char:o,decimal_length:l}=this,n=this.state.value;let r=i;if(r.includes("-")&&!1===this.isNegative)return void this.setState({value:n},()=>{t.setSelectionRange(0,0)});if(n.includes(s)&&!i.includes(s)&&s){let e=n.lastIndexOf(s);r=i.substring(0,e)+s+i.substring(e,i.length),r===s&&(r="")}let c=n,d=i.lastIndexOf(s);i.indexOf(s)!==i.lastIndexOf(s)&&s?d=c.length-l:(c=Object(Ae.a)(r,l,o,s)||"",d=a-(i.length-c.length),1===a?d=1:a>i.lastIndexOf(s)&&(d+=1));let m=c.replace(/\D/g,"");const u=this.props_smooth.validate.max_length;m.length>Number(u)&&Number(u)>0&&(c=n),this.setState({value:c,isChange:!0},()=>{t.setSelectionRange(d,d)})},this.modalToggle=e=>{this.buildFormChild(),!0!==this.state.CMD.disabled&&(void 0===e?this.setState({show_modal:l.g.autoID()}):e&&this.setState({show_modal:"none"}))},this.renderMess=e=>{switch(e){case"validateNumMin":return l.g.getLang(e).replace("{count}",this.props_smooth.validate.min);case"validateNumMax":return l.g.getLang(e).replace("{count}",this.props_smooth.validate.max);case"validateRequest":return l.g.getLang(e);case"jCurrency_maxLength":return l.g.getLang(e).replace("@{max_length}",this.props_smooth.validate.max_length);default:return l.g.getLang(e)}},this.props.config.data_default=this.convertConfigWithContext(this.props.config.data_default),this.props_smooth=this.getConfigSmooth(this.props),this.int_char=l.g.getElementWithRegex(/#(\D)#/,this.props_smooth.config.format)||"",this.decimal_char=l.g.getElementWithRegex(/#(\D)0/,this.props_smooth.config.format)||"",this.decimal_length=this.props_smooth.config.decimal_length,this.decimal_char=l.g.getElementWithRegex(/#(\D)0/,this.props_smooth.config.format)||"",""!==this.decimal_char&&this.decimal_char!==this.int_char||(this.decimal_length=0),this.isNegative=!1,(void 0===Object(Ae.b)(this.props_smooth.validate.min)||Object(Ae.b)(this.props_smooth.validate.min)<0)&&(this.isNegative=!0),this.state={isLookup:"true"===this.props.config.isLookup,help_css:"",help_icon:"",help_mess:"",value:"",CMD:{},isChange:!1},this.onFocus=!1,this.data_debug={}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent()),this.setValue(this.props_smooth.config.data_default,this.isNegative)}onRunRule(e){var t=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==t&&t.runRuleFunction(this.props.default,this.data_select,this.props.infoA_parent,e)}getConfigSmooth(e){let t=l.g.cloneJson(e);return t.config=ii(t.config),t.validate.max_length&&!Number(t.validate.max_length>16)||(t.validate.max_length=16),t}getValue(){return Object(Ae.b)(this.state.value,this.int_char,this.decimal_char)}setValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.isNegative,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"on_change";null!==e&&void 0!==e||(e=""),e+="";const{decimal_char:i,int_char:s,decimal_length:o}=this;let l=Object(Ae.a)(e,o,s,i);(void 0===l||l.includes("-")&&!1===t)&&(l=""),0===Number(l)&&""!==l&&(l=Object(Ae.a)(0,o,s,i)),this.setState({value:l,help_css:"",help_icon:"",help_mess:""},()=>{this.onRunRule(a||"on_change")})}render(){if("false"===String(this.state.CMD.visible))return null;const e=Object(v.a)("uInput");return o.a.createElement(o.a.Fragment,null,o.a.createElement(e,{dataFull:Object(i.a)(Object(i.a)({},this.getConfigTemplate()),{},{abs_Change:this.onChange,abs_Blur:this.onBlur})}),this.state.isLookup&&o.a.createElement(y,{info_component:this.props.default,show:this.state.show_modal,infoA_call_form:this.state.infoA_call_form,ref:"b_modal",callform:this.state.callform}))}buildFormChild(){if(this.state.isLookup&&this.props.config.callform&&""!==this.props.config.callform.trim()){let e=l.g.cloneJson(this.props.infoA);e.componentParent=this.props.default,Object(D.b)(this.props.config.callform,this.refs.b_modal.getElementContentModal(),e,this.props.default,"callform")}}getConfigTemplate(){return{abs_ClickIcon:()=>{this.modalToggle()},config:{default:{title:this.props_smooth.default.name,type:"",class:this.props_smooth.default.class,required:this.props_smooth.validate.request,icon:!0===this.state.isLookup?"search":"",placeholder:"true"===String(this.state.CMD.disabled)?" ":""},cmd:{disable:this.state.CMD.disabled+""==="true",visible:this.state.CMD.visible+""!=="false",error:{message:this.renderMess(this.state.help_mess),type:""}},mode:{textAlign:"right"}},mode:{readOnly:"true"===String(this.props.config.readOnly)},valueTitleHover:this.state.CMD.disabled+""!=="true"?"":this.state.value,value:this.state.value}}}var gi=hi;class _i extends s.Component{constructor(e){super(e),this.getValue=()=>{var e=this.state.data;if(void 0!==this.refs.txFo){var t=this.refs.txFo.getValue();void 0!==t.txFo&&(e.txFo=t.txFo)}if(void 0!==this.refs.txFoAction){var a=this.refs.txFoAction.getValue();void 0!==a.txFoActions&&(e.txFoActions=a.txFoActions)}return e},this.state={data:this.readConfig(this.props.data),private_key_config:l.g.autoID()}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.node_data_print?t.node_data_print=e.node_data_print:t.node_data_print="",null!=e.json_path?t.json_path=e.json_path:t.json_path="",null!=e.auto_print?t.auto_print=e.auto_print:t.auto_print="true",null!=e.txFoActions?t.txFoActions=e.txFoActions:t.txFoActions="",null!=e.txFo?t.txFo=e.txFo:t.txFo="",null!=e.useAction?t.useAction=e.useAction:t.useAction="true",null!==e.list_report?t.list_report=e.list_report:t.list_report="",null!==e.get_voucher_way?t.get_voucher_way=e.get_voucher_way:t.get_voucher_way="key",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"C\xe1ch l\u1ea5y danh s\xe1ch voucher",value:this.state.data.get_voucher_way,data:[{title:"T\u1eeb key",code:"key"},{title:"Nh\u1eadp tay",code:"type"}],onChange:e=>this.onChange_Value("get_voucher_way",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",hidden:"key"===this.state.data.get_voucher_way,name:"M\xe3 template",value:this.state.data.node_data_print,onChange:e=>this.onChange_Value("node_data_print",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"List reports",hidden:"type"===this.state.data.get_voucher_way,value:this.state.data.list_report,placeholder:"Input list of vouchers, separate by comma (,)",onChange:e=>this.onChange_Value("list_report",e)}),o.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"panel panel-primary"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-8 col-sm-8 col-md-8"},o.a.createElement("h3",{className:"panel-title text-capitalize"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-left","data-toggle":"collapse"},"H\xe0nh \u0111\u1ed9ng"))),o.a.createElement("div",{className:"col-xs-4 col-sm-4 col-md-4"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-right","data-toggle":"collapse"},o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"}))))),o.a.createElement("div",{id:this.state.private_key_config+"_function",className:"collapse"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"H\xe0nh \u0111\u1ed9ng click",value:this.state.data.useAction,data:[{title:"G\u1ecdi tx fo",code:"false"},{title:"G\xf5 nhanh",code:"true"}],onChange:e=>this.onChange_Value("useAction",e)}),o.a.createElement(d.a,{ref:"txFo",hidden:"false"===this.state.data.useAction,data:this.state.data.txFo}),o.a.createElement(c.a,{hidden:"true"===this.state.data.useAction,ref:"txFoAction",data:this.state.data.txFoActions}))))))}}var pi=_i;class fi extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng nh\u1ecf h\u01a1n"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng v\u01b0\u1ee3t qu\xe1"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))))))))}}var vi=fi;class bi extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var yi=bi;class Di extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var Ai=Di,Ci=a(16);class Ni extends s.Component{constructor(e){super(e),this.getCode=()=>this.props.default.code,this.getCodeHidden=()=>this.props.default.codeHidden,this.setCMD=(e,t)=>{},this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.getAdvanced=(e,t)=>{},this.getDataOOP=(e,t)=>{const{list_component:a}=e,{code:i}=this.props.default;if(a){if(a.split(";").includes(i))return this.data_select}},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(pi,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(Ai,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(vi,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(yi,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.setDataGB=(e,t)=>{},this.set=(e,t)=>{let a=t,i=this.state.json_path.split(".");if(void 0!==this.state.node_data_print&&void 0!==a[this.state.node_data_print]&&null!==a[this.state.node_data_print]&&""!==a[this.state.node_data_print]||this.setState({first_print:!1}),void 0!==a){if(i.length>0)for(let e=0;e<i.length;e++)void 0!==a[i[e]]&&(a=a[i[e]]);this.setState({value:a,first_print:!0})}else this.setState({value:""})},this.setAdvanced=(e,t)=>{},this.get=(e,t)=>{let a=!0;if(e.checkError&&"false"===e.checkError&&(a=!1),!a||!this.checkValidate()){let t=!1;if(null!==e&&void 0!==e&&(e.list_component?(";"+e.list_component+";").includes(";"+this.props.default.code+";")&&(t=!0):void 0!==e.list_view&&void 0!==this.props.infoView.code&&this.props.infoView.code===e.list_view&&(t=!0),t)){let t=this.props.config.structable;if(t.includes("|")){let a=t.split("|");for(let t=0;t<a.length;t++)this.readData(a[t],e.inform)}else this.readData(t,e.inform)}}},this.checkValidate=()=>{let e=!1,t=this.state.value;if(void 0!==t&&(void 0===this.state.validate.request||e||this.state.validate.request&&""===t&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:l.g.getLang("validateRequest")}))),e){let e=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==e&&e.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{this.setState({value:this.data_default})},this.getInfoErrror=()=>{if(""!==this.state.help_mess){let e=void 0!==this.state.lang&&void 0!==this.state.lang[this.state.lang_select]?this.state.lang[this.state.lang_select]:this.props.default.name;return{info:this.state.help_mess,key:e,infoComponet:this.props.default}}return""},this.getValueByParam=e=>{let t=this.state.value;if(void 0!==t&&0!==t.length){if(-1===e.indexOf("."))return void 0!==t[e]&&0!==t[e].length?t[e]:"";{let a=e.split(".");if(void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]]){let e=""+t[a[0]][a[1]];return 0!==e.length?e:""}return""}}},this.printReportHandler=()=>{if(void 0!==this.props.config.useAction){let e=this.props.config.list_report.split(",");if("true"===this.props.config.useAction){let e=this.props.config.list_report.split(","),t=l.g.parseJson(this.props.config.txFoActions);void 0!==t&&N.a.runActionWithContext(t,{list_template_code:e},this.props.infoA,this.props.infoA_parent,this.props.default)}else if(void 0!==this.props.config.txFo){let t=l.g.parseJson(this.props.config.txFo);void 0!==t&&N.a.runFoWithContext(t,{list_template_code:e},this.props.infoA,this.props.infoA_parent,this.props.default)}}},this.printVoucher=()=>{if("type"===this.props.config.get_voucher_way)Ci.a(this.props.config.list_report,this.printReportHandler);else{if(0===this.state.value.length)return;void 0!==this.state.value[this.state.node_data_print]&&null!==this.state.value[this.state.node_data_print]&&""!==this.state.value[this.state.node_data_print]||this.setState({first_print:!1});let e=this.getValueByParam(this.state.node_data_print);void 0!==e&&""!==e&&Ci.b(e,this.state.value,this.props)}},this.workFlowCall=(e,t)=>{void 0!==e&&void 0!==this.props.default.codeHidden&&(void 0!==e[this.props.default.codeHidden]?(this.visibility=e[this.props.default.codeHidden],this.setState({visibility:e[this.props.default.codeHidden]})):(this.visibility=!1,this.setState({visibility:!1})))},this.data_default="",void 0!==this.props.config.data_default&&(this.data_default=this.props.config.data_default);let t=this.props.validate;void 0===t&&(t={}),this.callform_detail="",this.callform="",this.data_select={};let a=this.props.lang;void 0===a&&(a={});let i="";void 0!==this.props.config.node_data_print&&(i=this.props.config.node_data_print);let s="";void 0!==this.props.config.json_path&&(s=this.props.config.json_path);let n="true";void 0!==this.props.config.auto_print&&(n=this.props.config.auto_print),this.visibility=e.visibility&&this.visibility_role,this.state={value:this.data_default,value_old:"",lang:a,lang_select:l.g.getLangKey(),validate:t,data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",node_data_print:i,auto_print:n,visibility:e.visibility&&this.visibility_role,block_send_mail:!1,json_path:s,first_print:void 0,str_voucher:"",str_style:""}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}componentDidUpdate(){this.state.first_print&&"true"===this.state.auto_print&&0!==this.state.value.length&&(this.printVoucher(),this.setState({first_print:!1}))}readData(e,t){if(e.includes(".")){let a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.value,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.value):l.g.putDataGB(a[0],a[1],"")}}render(){return o.a.createElement("div",{hidden:"true"===this.state.auto_print},o.a.createElement("button",{className:"btn btn-primary",onClick:()=>this.printVoucher()},o.a.createElement("i",{className:"fa fa-print",style:{padding:5}}),l.g.getLang("jPrintVoucher_title")))}}var Mi=Ni,ki=a(37);class Ei extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.structable?t.structable=e.structable:t.structable="",null!=e.query_data?t.query_data=e.query_data:t.query_data="",null!=e.paging_record?t.paging_record=e.paging_record:t.paging_record="5",null!=e.columns?t.columns=JSON.stringify(JSON.parse(e.columns),null,4):t.columns=JSON.stringify([{code:"table.name",title:"T\xean",inputtype:"ColumnString",config:{}}],null,4),null!==e.hasPaging?t.hasPaging=e.hasPaging:t.hasPaging="true",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}onBlur(e,t){var a=this.state.data;try{var i=JSON.parse(t.target.value);a[e]=JSON.stringify(i,null,4)}catch(s){alert(s)}this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{className:"col-sm-12 col-md-12",name:"Query data",value:this.state.data.query_data,placeholder:"select * from group_menu",onChange:e=>this.onChange_Value("query_data",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"C\xf3 ph\xe2n trang kh\xf4ng?",value:this.state.data.hasPaging,data:[{title:"C\xf3",code:"true"},{title:"Kh\xf4ng",code:"false"}],onChange:e=>this.onChange_Value("hasPaging",e)}),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"C\u1ea5u h\xecnh c\u1ed9t (JSON)"),o.a.createElement("textarea",{className:"form-control",rows:"12",onChange:e=>{this.onChange_Value("columns",e)},value:this.state.data.columns,onBlur:e=>{this.onBlur("columns",e)}})),o.a.createElement(n.a,{className:"col-sm-12 col-md-12",name:"Data m\u1ed7i trang",value:this.state.data.paging_record,onChange:e=>this.onChange_Value("paging_record",e)}),o.a.createElement(n.a,{className:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}))}}var xi=Ei;class Ii extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];void 0!==this.props.config&&void 0!==this.props.config.columns&&(t=JSON.parse(this.props.config.columns)),this.state={data:this.joinTableColumnAndLang(l.g.getConfigUserDefault("list_lang_config"),t),columns:t,lang_system:l.g.getConfigUserDefault("list_lang_config")}}joinTableColumnAndLang(e,t){var a=t;void 0===a&&(a=[]);var i=this.props.data;void 0===i&&(i={});for(var s={},o=0;o<a.length;o++)for(var l=0;l<e.length;l++)if(void 0!==a[o].title){var n=e[l].key;void 0===i[n]&&(i[n]={}),void 0===s[n]&&(s[n]={});var r=a[o].title.trim();void 0===i[n][r]?s[n][r]=r:s[n][r]=i[n][r]}return s}componentDidUpdate(e){if(this.props.config!==e.config&&this.setState({config:this.props.config}),this.props.data!==e.data){var t=[];void 0!==this.props.config&&void 0!==this.props.config.columns&&(t=JSON.parse(this.props.config.columns)),this.setState({data:this.joinTableColumnAndLang(this.state.lang_system,t)})}}render(){return o.a.createElement("div",{className:"col-md-12 col-lg-12"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("div",{className:"no-more-tables"},o.a.createElement("table",{className:"table table-bordered table-middle"},o.a.createElement("tbody",null,this.state.columns.map((e,t)=>o.a.createElement("tr",{key:t},o.a.createElement("td",null,e.title),o.a.createElement("td",null,this.state.lang_system.map((t,a)=>o.a.createElement(n.a,{key:a,class:"col-sm-12 col-md-12",name:t.view,value:this.state.data[t.key][e.title],onChange:a=>{var i=this.state.data;void 0===i[t.key]&&(i[t.key]={}),i[t.key][e.title]=a.target.value,this.setState({data:i})}}))))))))))}}var Ti=Ii;class wi extends s.Component{constructor(e){super(e),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setAdvanced=(e,t)=>{!1===Array.isArray(t)?this.setState({data:[]}):this.setState({data:t})},this.setCMD=(e,t)=>{const{CMD:a}=this.state;let i=Object.assign(l.g.cloneJson(a),t);if(void 0!==e&&void 0!==t){const t=e.list_component;if(t&&t.includes(this.props.default.code)){for(let e in i)"true"===i[e]&&(i[e]=!0),"false"===i[e]&&(i[e]=!1);this.setState({CMD:i})}}},this.getFormConfig=e=>o.a.createElement(xi,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(Ti,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}),this.pageIndexChange=e=>{this.setState({page_index:e})},this.callDir=()=>this,this.set=(e,t)=>{let a=[],i=this.props.config.query_data,s=i.split(".")[1]||i;if(void 0!==i&&""!==i&&(!0===i.includes(".")?void 0!==l.g.getOOP(t,i)&&(a=l.g.getOOP(t,i)):void 0!==t[i]&&(a=t[i])),Array.isArray(a)){for(let e=0;e<a.length;e++){const t=a[e];for(const i in t){const o=t[i];if("object"!==typeof o){let t=l.g.cloneJson(a[e]);a[e]={},a[e][s]=t,a[e][s].AFGHkeyIndexWJ=l.g.autoID();break}void 0===o.AFGHkeyIndexWJ&&(a[e][i].AFGHkeyIndexWJ=l.g.autoID())}}this.setState({data:a,total_record:a.length,data_search:a,column_search:{}},()=>{l.g.getFormAppAuto(this.props.infoA.key_form).runRuleFunction(this.props.default,{},this.props.infoA_parent,"on_change")})}else this.setState({data:[]},()=>{l.g.getFormAppAuto(this.props.infoA.key_form).runRuleFunction(this.props.default,{},this.props.infoA_parent,"on_change")})},this.reload=(e,t)=>{this.set(e,t)},this.get=(e,t)=>{let a=this.props.config.structable;if(a.includes("|")){let t=a.split("|");for(let a=0;a<t.length;a++)this.readData(t[a],e.inform)}else this.readData(a,e.inform)},this.abs_getDataLimited=function(e,t){let a={data:this.state.dataFilter.slice(e,e+t)||[],total:this.state.dataFilter.length},i=a.data;if(!0===this.state.hasCheck)for(let l=0;l<i.length;l++)i[l].hasCheck__=!1;let s=1;void 0!==a.total&&(s=a.total);let o=this.buildPaging(s,this.state.config_table);this.setState({data:i,total_record:s,paging:o})},this.pageRecordChange=e=>{let t=this.state.config_table;t.paging_record=this.state.paging_record[e];let a=this.buildPaging(this.state.total_record,t);this.setState({paging:a,page_index:1,selectedRecordIndex:e,config_table:t})},this.getAdvanced=(e,t)=>this.state.data,this.getHeaderConfig=e=>{let t=[];return!0===e&&"true"!==String(this.state.CMD.disable)&&t.push({title:"",id:"",config:{width:"20px",isFrozen:!1}}),t=t.concat(this.state.columns.map((e,t)=>{var a,i;return{title:(null===(a=this.state.lang)||void 0===a||null===(i=a[this.state.lang_select])||void 0===i?void 0:i[e.title])||e.title,id:e.code,config:{width:"",isFrozen:!1},value_search:this.state.column_search[e.code]}})),t},this.onChangeSearch=(e,t)=>{let a=this.state.column_search;a[t]=e.target.value;let i=this.state.data.filter(e=>{let t=!0;for(const i in a)if(a[i].trim()){let s=l.g.getOOP(e,i);if(null===s)return!1;void 0===l.g.searchPerfect(a[i],s)&&(t=!1)}return t}),s=i.length,o=this.buildPaging(s,this.state.config_table);this.setState({paging:o,page_index:1,total_record:s,data_search:i})},this.abs_autoCallBackData=()=>{let e=this.state.paging_record;e[this.state.selectedRecordIndex]+=5,this.setState({paging_record:e},()=>{this.recordChangeHandler(0)})};let t=[5,10,15,20,50];if(void 0!==this.props.config.paging_record){let e=this.props.config.paging_record.split(",");e.length>1&&(t=e)}let a={paging_record:t[0],query_data:this.props.config.query_data},i={},s=0;void 0!==i.total&&(s=i.total);let n=this.buildPaging(s,a),r=[];void 0!==i.data&&(r=i.data);let c=[],d=e.default.code.trim();if(void 0!==e.btn_of_grid&&""!==d)for(let o=0;o<e.btn_of_grid.length;o++){d===e.btn_of_grid[o].config.onTable.trim()&&(c[c.length]=e.btn_of_grid[o])}let m=this.props.lang;void 0===m&&(m={}),void 0!==this.props.config.hasPaging&&(this.hasPaging="true"===this.props.config.hasPaging),this.state={dataFilter:r,data:r,lang:m,lang_select:l.g.getLangKey(),paging:n,total_record:s,paging_record:t,page_index:1,STT:!1,columns:void 0===this.props.config.columns?[]:JSON.parse(this.props.config.columns),action:c,config_table:a,check_screen_width:void 0,CMD:{disable:!1},selectedRecordIndex:0,column_search:{},data_search:[]}}buildPaging(e,t){let a=[],i=1;if(e>0)for(let s=0;s<e;s+=parseInt(t.paging_record))a[a.length]=i,i++;else a[a.length]=1;return a}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}getDataWithPaging(){let e=arguments.length>2?arguments[2]:void 0,t=((arguments.length>1?arguments[1]:void 0)-1)*e,a=t+e;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).slice(t,a)}readData(e,t){if(e.includes(".")){let a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.data,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.data):l.g.putDataGB(a[0],a[1],"")}}getPagingConfig(){return{config:{show:l.g.getLang("cTable_Paging_show"),in:l.g.getLang("cTable_Paging_in"),jump_to_page:l.g.getLang("cTable_Paging_jump_to_page"),results:l.g.getLang("cTable_Paging_results")},result_total:this.state.total_record,abs_PagingActive:this.pageIndexChange,abs_setRecordActive:this.pageRecordChange,paging_index:this.state.page_index,paging_record:this.state.paging_record.map((e,t)=>({number:e,selected:t===this.state.selectedRecordIndex}))}}UNSAFE_componentWillUpdate(e,t){this.state.data!==t.data&&this.setState({data_search:l.g.cloneJson(t.data)})}render(){var e,t,a;let i=this.state.action.length>0,s=this.getHeaderConfig(i);const n=Object(v.a)("uTable"),r=Object(v.a)("uTableBodyRow");if("false"===String(this.state.CMD.visible))return null;let c=[];return c=this.hasPaging?this.getDataWithPaging(this.state.data_search,this.state.page_index,this.state.config_table.paging_record):this.state.data_search,o.a.createElement(o.a.Fragment,null,o.a.createElement(n,{dataFull:{abs_autoCallBackData:this.abs_autoCallBackData,abs_search:this.onChangeSearch,Header:{data:s,config:{mode:{hasSearch:this.state.data.length>5,isFrozenHeader:!0}}},dataEmpty:{isShow:!(null===(e=this.state)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length),title:l.g.getLang("header_searchNoResult")},config:{search:{placeholder:"Search"},title:this.props.default.name,mode:{maxHeight:!0,modeTitle:"center"},isBorder:!!this.props.default.name},uPagination:this.hasPaging?this.getPagingConfig():void 0}},null===(a=c)||void 0===a?void 0:a.map((e,t)=>o.a.createElement(r,{key:t},!0===i&&"true"!==String(this.state.CMD.disable)&&o.a.createElement($.a,{tableContext:this,key:t,lang_select:this.state.lang_select,infoA:this.props.infoA,infoA_parent:this.props.infoA_parent,data:this.state.action,value:e,title:"Action"}),this.state.columns.map((t,a)=>{var i,s;let n=ki.a[t.inputtype];return void 0===n&&(n=ki.a.ColumnDefault),o.a.createElement(n,{rowData:e,tableContext:this,title_parent:t.title,key:a,title:(null===(i=this.state.lang)||void 0===i||null===(s=i[this.state.lang_select])||void 0===s?void 0:s[t.title])||t.title,config:t.config,data:l.g.getOOP(e,t.code),value:e})})))))}}var Oi=wi;class Si extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),void 0!==e.action?t.action=e.action:t.action="",void 0!==e.structable?t.structable=e.structable:t.structable="",void 0!==e.structable_read?t.structable_read=e.structable_read:t.structable_read="",void 0!==e.data_default?t.data_default=e.data_default:t.data_default="{}",void 0!==e.callform?t.callform=e.callform:t.callform="",void 0!==e.callData?t.callData=e.callData:t.callData="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"L\u1ea5y data t\u1eeb form",value:this.state.data.callform,onChange:e=>this.onChange_Value("callform",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"L\u1ea5y data t\u1eeb tr\u01b0\u1eddng d\u1eef li\u1ec7u",value:this.state.data.callData,onChange:e=>this.onChange_Value("callData",e)}))}}var Fi=Si;class ji extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){return{}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"}))}}var Li=ji;class zi extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var Ri=zi;class Ui extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var Pi=Ui;class Vi extends s.Component{constructor(e){super(e),this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.getCodeHidden=()=>this.props.default.codeHidden,this.changeKeyLanguage=()=>{""!==this.state.help_mess&&this.checkValidate(),this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.checkIsLoading=()=>this.isLoading,this.setCallFormBack=(e,t)=>{if(void 0!==e.key_form&&void 0!==e.key&&e.key===this.props.default.codeHidden){this.muti_form_didMount[this.muti_form_didMount.length]=e.key_form,this.isLoading=!0;var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.hasOwnProperty("componentIsLoaded")&&a.componentIsLoaded(this.props.default.codeHidden)}},this.getFormConfig=e=>o.a.createElement(Fi,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(Pi,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(Li,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(Ri,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}),this.set=(e,t)=>{this.setDataCallForm(t)},this.getKeyForm=()=>this.muti_form_didMount[0],this.getInfoErrror=()=>{let e="";var t=l.g.getFormAppAuto(this.muti_form_didMount[0]);if(void 0!==t&&t.hasOwnProperty("getValidateForm")){let a=t.getValidateForm();for(let t=0;t<a.length;t++){const i=a[t];e+=i.key+": "+i.info+";"}}if(""!==e)return{info:e,key:this.props.default.name,infoComponent:this.props.default}},this.get=(e,t)=>{var a=this.props.config.structable;if(a.includes("|"))for(var i=a.split("|"),s=0;s<i.length;s++)this.readData(i[s],e.inform);else this.readData(a,e.inform)},this.setAdvanced=(e,t)=>{var a=l.g.getFormAppAuto(this.muti_form_didMount[0]);if(void 0!==a&&a.hasOwnProperty("callDirFromSupport")){let i=this.props.default.code,s=new RegExp(i+"\\(([^)]*)\\)","g"),o=l.g.getElementWithRegex(s,e.list_component);o||(o=e.list_component),a.callDirFromSupport("setAdvanced",{list_component:o,list_view:e.list_view},t)}},this.checkValidate=()=>{var e=!1,t=l.g.getFormAppAuto(this.muti_form_didMount[0]);if(void 0!==t&&(t.hasOwnProperty("setFormValidateFromFunctionClient")&&t.setFormValidateFromFunctionClient(!1),t.hasOwnProperty("callDirFromSupport")&&(t.callDirFromSupport("clearError",{},{}),t.callDirFromSupport("checkValidate",{},{}),t.hasOwnProperty("getFormValidate")&&(e=t.getFormValidate()))),e){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{this.setState({value:this.data_default},async()=>{await this.reloadForm(this.muti_form_didMount[0],t),this.runRuleCPN()})},this.getDataCallForm=e=>{var t=l.g.getFormAppAuto(e);return void 0===t?"":(t.hasOwnProperty("setFormValidateFromFunctionClient")&&t.setFormValidateFromFunctionClient(!1),t.hasOwnProperty("callDirFromSupport")&&(t.callDirFromSupport("clearError",{},{}),t.callDirFromSupport("checkValidate",{},{}),t.hasOwnProperty("getFormValidate")&&!t.getFormValidate()&&(t.callDirFromSupport("get",{list_component:"*",list_view:"",inform:"true",checkError:!1},{}),t.hasOwnProperty("getData")))?t.getData(""):void 0)},this.setCMD=(e,t)=>{var a=l.g.getFormAppAuto(this.muti_form_didMount[0]);if(void 0!==a&&a.hasOwnProperty("callDirFromSupport")){let i=this.props.default.code,s=new RegExp(i+"\\(([^)]*)\\)","g"),o=l.g.getElementWithRegex(s,e.list_component);if(o||(o=e.list_component),a.callDirFromSupport("setCMD",{list_component:o,list_view:e.list_view},t),e.list_component.includes(i+"()")){const{CMD:e}=this.state;let a=Object.assign(l.g.cloneJson(e),t);for(let t in a)"true"===a[t]&&(a[t]=!0),"false"===a[t]&&(a[t]=!1);this.setState({CMD:a})}}},this.setDataGB=(e,t)=>{var a=l.g.getFormAppAuto(this.muti_form_didMount[0]);if(void 0!==a&&a.hasOwnProperty("callDirFromSupport")){let i=this.props.default.code,s=new RegExp(i+"\\(([^)]*)\\)","g"),o=l.g.getElementWithRegex(s,e.list_component);o||(o=e.list_component),a.callDirFromSupport("setDataGB",{list_component:o,list_view:e.list_view},t)}},this.reloadForm=(e,t)=>{var a=l.g.getFormAppAuto(e);void 0!==a&&(a.putDataAll_andSet(t,!0),a.hasOwnProperty("reload")&&a.reload())},this.getAdvanced=(e,t)=>{if(this.muti_form_didMount.length>0){var a=l.g.getFormAppAuto(this.muti_form_didMount[0]);if(void 0!==a)return a.getDataAll();l.g.AppException("#jMutivalue.setDataCallForm","form is undefined","system")}else l.g.AppException("#jMutivalue.setDataCallForm","muti_form_didMount is 0","system")},this.runRuleCPN=e=>{if(this.muti_form_didMount.length>0)if(void 0!==l.g.getFormAppAuto(this.muti_form_didMount[0])){if(this.isLoading){l.g.getFormAppAuto(this.props.infoA.key_form).runRuleFunction(this.props.default,{},this.props.infoA_parent,e||"on_change")}}else l.g.AppException("#jMutivalue.setDataCallForm","form is undefined","system");else l.g.AppException("#jMutivalue.setDataCallForm","muti_form_didMount is 0","system")},this.setDataCallForm=async e=>{if(this.muti_form_didMount.length>0){var t=l.g.getFormAppAuto(this.muti_form_didMount[0]);if(void 0!==t){if(this.isLoading)if(void 0!==e){let a=l.g.getFormAppAuto(this.props.infoA.key_form);await t.putDataAll_andSet(e),a.runRuleFunction(this.props.default,{},this.props.infoA_parent,"on_change")}else t.clearForm()}else l.g.AppException("#jMutivalue.setDataCallForm","form is undefined","system")}else l.g.AppException("#jMutivalue.setDataCallForm","muti_form_didMount is 0","system")},this.config={},this.props.config&&(this.config=this.props.config),this.data_default="",void 0!==this.config.data_default&&(this.data_default=this.config.data_default);var t=this.props.validate;void 0===t&&(t={}),this.data_select={};var a=this.props.lang;void 0===a&&(a={}),this.is_open="true"===this.config.is_open,this.state={value:this.data_default,value_old:"",lang:a,lang_select:l.g.getLangKey(),validate:t,data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",isOpenForm:this.is_open,call_form:this.props.config.callform||"",CMD:{}},this.id_component=l.g.autoID(),this.isLoading=!1,this.isErrorLoadForm=!1,this.muti_form_didMount=[]}componentDidUpdate(e){this.props.default!==e.default&&this.setState({default:this.props.default}),this.props.config!==e.config&&this.setState({config:this.props.config}),this.props.role!==e.role&&this.setState({role:this.props.role}),this.props.lang!==e.lang&&this.setState({lang:this.props.lang}),this.props.validate!==e.validate&&this.setState({validate:this.props.validate}),this.props.property!==e.property&&this.setState({property:this.props.property})}componentDidMount(){let e=this.state.call_form;e&&""!==e.trim()&&void 0!==this.refs.ref_callForm&&Object(D.b)(e,this.refs.ref_callForm,this.props.infoA,this.props.default,this.props.default.codeHidden),setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}readData(e,t){const a=this.getDataCallForm(this.muti_form_didMount[0]);if(e.includes(".")&&void 0!==a){var i=e.split(".");const{callData:s}=this.props.config;let o=a;o=s.includes(".")?l.g.getOOP(a,s):a[s],void 0===t||"true"===t?l.g.putData(i[0],i[1],o,this.props.infoA):"false"===t?l.g.putDataGB(i[0],i[1],a):l.g.putDataGB(i[0],i[1],"")}}render(){const e=Object(v.a)("uSameForm");return o.a.createElement("div",{style:{display:"false"===String(this.state.CMD.visible)?"none":""},className:"col-12"},o.a.createElement(e,null,o.a.createElement("div",{ref:"ref_callForm"})))}}var Yi=Vi;class Qi extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.action?t.action=e.action:t.action="",null!=e.structable?t.structable=e.structable:t.structable="",null!=e.structable_read?t.structable_read=e.structable_read:t.structable_read="",null!=e.data_default?t.data_default=e.data_default:t.data_default="",null!=e.isLookup?t.isLookup=e.isLookup:t.isLookup="false",null!=e.callform?t.callform=e.callform:t.callform="",null!=e.callform_detail?t.callform_detail=e.callform_detail:t.callform_detail="",null!=e.callform_detail_mode?t.callform_detail_mode=e.callform_detail_mode:t.callform_detail_mode="modal",null!=e.data_view?t.data_view=e.data_view:t.data_view="",null!=e.data_value?t.data_value=e.data_value:t.data_value="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"D\xf9ng lookup",value:this.state.data.isLookup,data:[{title:"Kh\xf4ng d\xf9ng",code:"false"},{title:"D\xf9ng lookup",code:"true"}],onChange:e=>this.onChange_Value("isLookup",e)}),"true"===this.state.data.isLookup&&o.a.createElement(Ze,{class:"col-sm-12 col-md-6",name:"L\u1ea5y data t\u1eeb form",value:this.state.data.callform,onChange:e=>this.onChange_Value("callform",e)}),"true"===this.state.data.isLookup&&o.a.createElement(Ze,{class:"col-sm-12 col-md-6",name:"Xem chi ti\u1ebft",value:this.state.data.callform_detail,onChange:e=>this.onChange_Value("callform_detail",e)}),"true"===this.state.data.isLookup&&o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Xem chi ti\u1ebft mode",value:this.state.data.callform_detail_mode,data:[{title:"Modal",code:"modal"},{title:"Main",code:"main"}],onChange:e=>this.onChange_Value("callform_detail_mode",e)}),"true"===this.state.data.isLookup&&o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"OOP hi\u1ec3n th\u1ecb",value:this.state.data.data_view,onChange:e=>this.onChange_Value("data_view",e)}),"true"===this.state.data.isLookup&&o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"OOP gi\xe1 tr\u1ecb",value:this.state.data.data_value,onChange:e=>this.onChange_Value("data_value",e)}))}}var Bi=Qi;class Hi extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"T\xean x\xe1c nh\u1eadn"),o.a.createElement("th",null,"D\u1eef li\u1ec7u"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"B\u1eaft bu\u1ed9c nh\u1eadp"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng nh\u1ecf h\u01a1n"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"S\u1ed1 t\u1eeb kh\xf4ng v\u01b0\u1ee3t qu\xe1"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))))))))}}var Gi=Hi;class Ji extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var qi=Ji;class Wi extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var Ki=Wi;class Zi extends s.Component{constructor(e){super(e),this.getCode=()=>this.props.default.code,this.getCodeHidden=()=>this.props.default.codeHidden,this.setCMD=(e,t)=>{const{CMD:a}=this.state;let i=Object.assign(l.g.cloneJson(a),t);for(let s in i)"true"===i[s]&&(i[s]=!0),"false"===i[s]&&(i[s]=!1);this.setState({CMD:i})},this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.getAdvanced=(e,t)=>{},this.getDataOOP=(e,t)=>{const{list_component:a}=e,{code:i}=this.props.default;if(a){if(a.split(";").includes(i))return this.data_select}},this.changeKeyLanguage=()=>{""!==this.state.help_mess&&this.checkValidate(),this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(Bi,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(Ki,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(Gi,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(qi,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}),this.setDataGB=(e,t)=>{},this.set=(e,t)=>{if(void 0!==t){if(void 0!==this.props.config.structable_read&&this.props.config.structable_read.includes(".")){var a=this.props.config.structable_read.split(".");if(a.length>0&&void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]])return this.data_debug.data_cpn=t[a[0]][a[1]],void this.setState({value:t[a[0]][a[1]]})}this.data_debug.data_cpn="undefined"}},this.setAdvanced=(e,t)=>{this.setState({value:t})},this.get=(e,t)=>{},this.checkValidate=()=>{var e=!1,t=this.state.value;if(void 0!==t&&(void 0===this.state.validate.request||e||this.state.validate.request&&""===t&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:l.g.getLang("validateRequest")}))),e){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{this.setState({value:this.data_default})},this.getInfoErrror=()=>{if(""!==this.state.help_mess){var e=void 0!==this.state.lang&&void 0!==this.state.lang[this.state.lang_select]?this.state.lang[this.state.lang_select]:this.props.default.name;return{info:this.state.help_mess,key:e,infoComponet:this.props.default}}return""},this.renderDebug=()=>{if(l.g.isDebug()){this.props.config.structable=this.props.config.structable||"";let e=this.props.config.structable.split(".")[1],t=this.data_debug.data_cpn;return null===t&&(t="NULL"),o.a.createElement("div",{style:{color:"#f17316"}},`DATA-> |${e}|:|${t}|`)}},this.getComponentConfig=()=>({config:{default:{title:l.g.isDebug()?this.props.default.name+"|->"+this.state.value:this.state.value,class:this.props.default.class},cmd:{visible:"false"!==String(this.state.CMD.visible)}}}),this.data_default="",void 0!==this.props.config.data_default&&(this.data_default=this.props.config.data_default);var t=this.props.validate;void 0===t&&(t={}),this.callform_detail="",this.callform="",this.data_select={};var a=this.props.lang;void 0===a&&(a={});let i={mode:"",col_text:"",col_input:""};void 0!==e.infoA.mode_form&&(i=e.infoA.mode_form);let s={parent:"",child:""},n={class:""},r=void 0!==this.props.ofgroup&&""!==this.props.ofgroup&&"false"!==this.props.ofgroup,c=void 0!==e.infoA.mode_form&&"1"===e.infoA.mode_form.mode,d=!!this.props.ofgroup_child;if(c)if(d)s=void 0!==this.props.default&&void 0!==this.props.css_default?{parent:"",child:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:void 0!==this.props.css_default.class&&""!==this.props.css_default.class?this.props.css_default.class:"col-sm-4"}:{parent:"",child:"col-sm-4"};else if(r){let e="col-sm-"+parseInt(10/(this.props.ofgroup_data.length+1));n={class:e},s={parent:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:e,child:""}}else s={parent:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:"col-sm-6",child:""};else s=d?{parent:"",child:this.props.default.class+" jwebui-ofgroup"}:r?0===this.props.ofgroup_data.length?{parent:this.props.default.class,child:""}:{parent:this.props.default.class_ofgroup,child:this.props.default.class+" jwebui-ofgroup-fisrt"}:{parent:this.props.default.class,child:""};this.state={value:this.data_default,value_old:"",lang:a,lang_select:l.g.getLangKey(),validate:t,data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",CMD:{},config_mode:i,class_config:s,css_default:n},this.data_debug={}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}readData(e,t){if(e.includes(".")){var a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.value,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.value):l.g.putDataGB(a[0],a[1],"")}}render(){const e=Object(v.a)("uLabel");return o.a.createElement(e,{dataFull:this.getComponentConfig()})}}var Xi=Zi;class $i extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.action?t.action=e.action:t.action="",null!=e.structable?t.structable=e.structable:t.structable="",null!=e.structable_read?t.structable_read=e.structable_read:t.structable_read="",null!=e.data_default?t.data_default=e.data_default:t.data_default="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}))}}var es=$i;class ts extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request="false",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"Confirmation Name"),o.a.createElement("th",null,"Data"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Required"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))))))))}}var as=ts;class is extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var ss=is;class os extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var ls=os;class ns extends s.Component{constructor(e){super(e),this.getValue=()=>({}),this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.properties?t.properties=e.properties:t.properties="",t}render(){return o.a.createElement("div",null)}}var rs=ns;class cs extends s.Component{constructor(e){super(e),this.getCode=()=>this.props.default.code,this.getCodeHidden=()=>this.props.default.codeHidden,this.setCMD=(e,t)=>{},this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.getAdvanced=(e,t)=>{},this.getDataOOP=(e,t)=>{const{list_component:a}=e,{code:i}=this.props.default;if(a){if(a.split(";").includes(i))return this.data_select}},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(es,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(ls,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(as,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormProperty=e=>o.a.createElement(rs,{data:e,ref:e=>l.g.setConfigComponent("property",e)}),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(ss,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}),this.setDataGB=(e,t)=>{},this.set=(e,t)=>{},this.setAdvanced=(e,t)=>{this.setState({value:t})},this.get=(e,t)=>{var a=!0;if(e.checkError&&"false"===e.checkError&&(a=!1),!a||!this.checkValidate()){var i=!1;if(null!==e&&void 0!==e&&(e.list_component?(";"+e.list_component+";").includes(";"+this.props.default.code+";")&&(i=!0):void 0!==e.list_view&&void 0!==this.props.infoView.code&&this.props.infoView.code===e.list_view&&(i=!0),i)){var s=this.props.config.structable;if(s.includes("|"))for(var o=s.split("|"),l=0;l<o.length;l++)this.readData(o[l],e.inform);else this.readData(s,e.inform)}}},this.checkValidate=()=>!1,this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{},this.getInfoErrror=()=>{if(""!==this.state.help_mess){var e=void 0!==this.state.lang&&void 0!==this.state.lang[this.state.lang_select]?this.state.lang[this.state.lang_select]:this.props.default.name;return{info:this.state.help_mess,key:e,infoComponet:this.props.default}}return""},this.renderMess=e=>{switch(e){case"key language":default:return l.g.getLang(e)}},this.renderModal=()=>{const e=this.MediaDetail;return this.state.isOpen?o.a.createElement(s.Suspense,{fallback:o.a.createElement("div",null)}," ",o.a.createElement(e,this.getDefaultConfig(this.state.value))):null};var t={};void 0===t&&(t={}),this.data_default="",void 0!==this.props.config.data_default&&(this.data_default=this.props.config.data_default);var a=this.props.validate;void 0===a&&(a={}),this.callform_detail="",this.callform="",this.data_select={};var i=this.props.lang;void 0===i&&(i={}),this.state={value:[],value_old:"",lang:i,lang_select:l.g.getLangKey(),validate:a,data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",isOpen:!1},this.MediaDetail=Object(v.b)("O9_FormMediaDetail")}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}readData(e,t){}render(){const e=Object(v.a)("uButton");return o.a.createElement(o.a.Fragment,null,o.a.createElement(e,{dataFull:{config:{default:{title:"",type:"",class:"",icon:"edit"},cmd:{disable:!1,isLoading:!1},mode:"square"},abs_Click:()=>{var e;(null===(e=this.state.value)||void 0===e?void 0:e.length)>0&&this.setState({isOpen:!0})}}}),this.renderModal())}isImage(e){let t=!1;try{t=btoa(atob(e))===e&&"/iR".includes(e[0])}catch(a){}return t}getRefTypeData(e){return[{title:"Single customer",value:"C"},{title:"Group of customer",value:"G"},{title:"Customer linkage",value:"L"}].map((t,a)=>Object(i.a)(Object(i.a)({},t),{},{selected:t.value===e}))}getDefaultConfig(e){if(void 0!==e)return{modal:{title:"Signature Viewer",visibility:this.state.isOpen,abs_Close:()=>{this.setState({isOpen:!1})}},data_info:{valueModal:{dataFull:{data:[]}}},stateData:e.map(e=>(console.log("item",e),{img_form:{title:e.FN,link:this.isImage(e.MCS)?"data:image/png;base64,"+e.MCS:void 0},code:{dataFull:{config:{default:{title:"File Name",type:"text",class:"col-md-12"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:e.FN}},expireDate:{dataFull:{config:{default:{placeholder:this.dateFormat||" ",title:"Expire date",type:"text",class:"col-md-12"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},data:[],value:e.ED?Object(rt.b)(Object(rt.a)(e.ED,"YYYY-MM-DD"),"DD/MM/YYYY"):""}},other:{dataFull:{config:{default:{title:"Other",type:"text",class:"col-md-12"},cmd:{disable:!0,visible:!0,error:{message:"",type:""}}},value:e.OT}}}))}}}var ds=cs;class ms extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data),private_key_config:l.g.autoID()}}readConfig(e){var t={};void 0===e&&(e={}),null!=e.structable?t.structable=e.structable:t.structable="",null!=e.structable_read?t.structable_read=e.structable_read:t.structable_read="",null!=e.eventFoStart?t.eventFoStart=e.eventFoStart:t.eventFoStart="DataCoffeeShop",null!=e.eventFoStart_config?t.eventFoStart_config=e.eventFoStart_config:t.eventFoStart_config="";return t.eventClick=e.eventClick?e.eventClick:"DataCoffeeShop",t.eventClick_config=e.eventClick_config?e.eventClick_config:"",null!=e.eventFo_Year?t.eventFo_Year=e.eventFo_Year:t.eventFo_Year="",null!=e.formatDateRead?t.formatDateRead=e.formatDateRead:t.formatDateRead="",null!=e.formatDateGet?t.formatDateGet=e.formatDateGet:t.formatDateGet="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"Ph\u01b0\u01a1ng th\u1ee9c thu th\u1eadp (user.name: table:col v\xe0 user.name|group.title: 2 table)",value:this.state.data.structable,onChange:e=>this.onChange_Value("structable",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"D\u1ea1y c\xe1ch \u0111\u1ecdc data cho set: user.name",value:this.state.data.structable_read,onChange:e=>this.onChange_Value("structable_read",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"D\u1eef li\u1ec7u m\u1eb7c \u0111\u1ecbnh",value:this.state.data.data_default,onChange:e=>this.onChange_Value("data_default",e)}),o.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"panel panel-primary"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-8 col-sm-8 col-md-8"},o.a.createElement("h3",{className:"panel-title text-capitalize"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-left","data-toggle":"collapse"},"G\u1ecdi fo khi m\u1edbi m\u1edf calender"))),o.a.createElement("div",{className:"col-xs-4 col-sm-4 col-md-4"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-right","data-toggle":"collapse"},o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"}))))),o.a.createElement("div",{id:this.state.private_key_config+"_function",className:"collapse"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"H\xe0nh \u0111\u1ed9ng",value:this.state.data.eventFoStart,data:[{title:"L\u1ea5y v\u1edbi API",code:"LearnApi"},{title:"L\u1ea5y v\u1edbi SQL",code:"LearnSql"},{title:"Data Coffee Shop",code:"DataCoffeeShop"}],onChange:e=>this.onChange_Value("eventFoStart",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"T\xean c\u1ea5u h\xecnh li\xean k\u1ebft (API,SQL,DCS)",value:this.state.data.eventFoStart_config,onChange:e=>this.onChange_Value("eventFoStart_config",e)}))))),o.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"panel panel-primary"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-8 col-sm-8 col-md-8"},o.a.createElement("h3",{className:"panel-title text-capitalize"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-left","data-toggle":"collapse"},"Click event"))),o.a.createElement("div",{className:"col-xs-4 col-sm-4 col-md-4"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-right","data-toggle":"collapse"},o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"}))))),o.a.createElement("div",{id:this.state.private_key_config+"_function",className:"collapse"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(r.a,{class:"col-sm-12 col-md-12",name:"H\xe0nh \u0111\u1ed9ng",value:this.state.data.eventClick,data:[{title:"L\u1ea5y v\u1edbi API",code:"LearnApi"},{title:"L\u1ea5y v\u1edbi SQL",code:"LearnSql"},{title:"Data Coffee Shop",code:"DataCoffeeShop"}],onChange:e=>this.onChange_Value("eventClick",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-12",name:"T\xean c\u1ea5u h\xecnh li\xean k\u1ebft (API,SQL,DCS)",value:this.state.data.eventClick_config,onChange:e=>this.onChange_Value("eventClick_config",e)}))))),o.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},o.a.createElement("div",{className:"panel panel-primary"},o.a.createElement("div",{className:"panel-heading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-8 col-sm-8 col-md-8"},o.a.createElement("h3",{className:"panel-title text-capitalize"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-left","data-toggle":"collapse"},"Chuy\u1ec3n date*"))),o.a.createElement("div",{className:"col-xs-4 col-sm-4 col-md-4"},o.a.createElement("a",{href:"#"+this.state.private_key_config+"_function",className:"pull-right","data-toggle":"collapse"},o.a.createElement("i",{className:"fa fa-angle-down fa-lg fa-inverse"}))))),o.a.createElement("div",{id:this.state.private_key_config+"_function",className:"collapse"},o.a.createElement("div",{className:"panel-body"},o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"\u0110\u1ecbnh d\u1ea1ng ng\xe0y \u0111\u1ea7u v\xe0o",value:this.state.data.eventFoStart_config,onChange:e=>this.onChange_Value("eventFoStart_config",e)}),o.a.createElement(n.a,{class:"col-sm-12 col-md-6",name:"\u0110\u1ecbnh d\u1ea1ng ng\xe0y \u0111\u1ea7u ra",value:this.state.data.eventFoStart_config,onChange:e=>this.onChange_Value("eventFoStart_config",e)}))))))}}var us=ms;class hs extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.request?t.request=e.request:t.request=!1,null!=e.min&&(t.min=e.min),null!=e.max&&(t.max=e.max),null!=e.regex_format&&(t.regex_format=e.regex_format),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"},o.a.createElement("div",{className:"table-responsive"},o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-primary"},o.a.createElement("tr",null,o.a.createElement("th",null,"Confirmation Name"),o.a.createElement("th",null,"Data"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Required"))),o.a.createElement("td",null,o.a.createElement("input",{className:"control-input",type:"checkbox",checked:void 0!==this.state.data.request&&this.state.data.request,onChange:e=>{var t=this.state.data;t.request=e.target.checked,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"The number of words is not less than"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.min?this.state.data.min:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.min=parseFloat(e.target.value):void 0!==t.min&&delete t.min,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"The number of words does not exceed"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.max?this.state.data.max:"",type:"number",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.max=parseFloat(e.target.value):void 0!==t.max&&delete t.max,this.setState({data:t})}}))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"Regex structure"))),o.a.createElement("td",null,o.a.createElement("input",{className:"form-control",value:void 0!==this.state.data.regex_format?this.state.data.regex_format:"",type:"text",onChange:e=>{var t=this.state.data;""!==e.target.value.trim()?t.regex_format=e.target.value:t.regex_format="",this.setState({data:t})}}))))))))}}var gs=hs;class _s extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null,this.state.lang_system.map((e,t)=>o.a.createElement(n.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}var ps=_s;class fs extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.visible?t.visible=e.visible:t.visible="",null!=e.disabled?t.disabled=e.disabled:t.disabled="",t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Disabled",data:this.state.list_true_false,value:this.state.data.disabled,hasNew:!1,onChange:e=>this.onChange_Value("disabled",e)}),o.a.createElement(r.a,{class:"col-sm-12 col-md-6",name:"Visible",data:this.state.list_true_false,value:this.state.data.visible,hasNew:!1,onChange:e=>this.onChange_Value("visible",e)}))}}var vs=fs;class bs extends s.Component{constructor(e){super(e),this.getValue=()=>({}),this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.properties?t.properties=e.properties:t.properties="",t}render(){return o.a.createElement("div",null)}}var ys=bs;var Ds=class{constructor(e,t,a){this.getProperty=()=>this.property,this.setCMD=e=>{void 0!==e.visible&&("true"!==e.visible&&"false"!==e.visible||(this.property.cmd.visible=e.visible)),void 0!==e.disabled&&("true"!==e.disabled&&"false"!==e.disabled||(this.property.cmd.disabled=e.disabled)),void 0!==e.block&&("true"!==e.block&&"false"!==e.block||(this.property.cmd.block=e.block))},this.getCMD=()=>this.property.cmd,this.setCMD_visible=e=>{this.property.cmd.visible=e},this.getCMD_visible=()=>this.property.cmd.visible,this.setCMD_enable=e=>{this.property.cmd.disabled=e},this.property={main:[],position:[],cmd:{visible:"true",disabled:"true",block:"false"}}}},As=a(26);class Cs extends s.Component{render(){return o.a.createElement(o.a.Fragment,null,""!==this.props.ofgroup&&"false"!==this.props.ofgroup&&void 0!==this.props.ofgroup_data&&this.props.ofgroup_data.map((e,t)=>(void 0===e.config.onTable||""===e.config.onTable)&&o.a.createElement(As.a,{btn_of_grid:this.props.btn_of_grid,key:t,index:t,default:e.default,visibility:e.visibility,config:e.config,role:e.role,property:e.property,validate:e.validate,lang:e.lang,configAVD:e.configAVD,inputType:e.inputtype,value:e.value,infoA:this.props.infoA,infoA_parent:this.props.infoA_parent,infoView:this.props.infoView,css_default:this.props.css_default,ofgroup_data:this.props.ofgroup_data,ofgroup_parent:this.props.ofgroup_parent,ofgroup_child:!0})))}}var Ns=Cs;class Ms extends s.Component{constructor(e){super(e),this.getCode=()=>this.props.default.code,this.getCodeHidden=()=>this.props.default.codeHidden,this.setCMD=(e,t)=>{},this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.getAdvanced=(e,t)=>{},this.getDataOOP=(e,t)=>{const{list_component:a}=e,{code:i}=this.props.default;if(a){if(a.split(";").includes(i))return this.data_select}},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()},()=>{this.calendar.setOption("locale",this.state.lang_select)})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(us,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(vs,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(gs,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormProperty=e=>o.a.createElement(ys,{data:e,ref:e=>l.g.setConfigComponent("property",e)}),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(ps,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}),this.setDataGB=(e,t)=>{},this.set=(e,t)=>{if(console.log("data",t),void 0!==t&&void 0!==t.calender&&t.calender.length>0){let e=[];for(let a=0;a<t.calender.length;a++){let i=t.calender[a];if(void 0!==i.calender&&void 0!==i.calender.start&&i.calender.title){let t=Object(ct.d)(i.calender.start,"dd/mm/yyyy");null!=t&&e.push({id:l.g.autoID(),title:l.g.getLang(i.calender.title),start:Object(ct.b)(t,"ISOString"),end:null,constraint:i.calender.constraint?i.calender.constraint:"",color:i.calender.color?i.calender.color:"#257e4a",allDay:!!i.calender.allDay&&i.calender.allDay})}}console.log("array_event",e),this.addEvents(e)}},this.setAdvanced=(e,t)=>{if(e.codeHidden&&e.codeHidden===this.props.default.codeHidden&&(this.data_select=t,void 0!==this.data_select)){if(this.state.isLookup){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&(a.putDataSetAdvanced(this.props.default,this.data_select),a.runRuleFunction(this.props.default,this.data_select,this.props.infoA_parent,"on_change"))}var i="";void 0!==this.props.config.data_view&&(i=": "+l.g.getOOP(this.data_select,this.props.config.data_view.trim()));var s="";void 0!==this.props.config.data_value&&(s=l.g.getOOP(this.data_select,this.props.config.data_value.trim())),this.setState({value:s,data_view:i})}},this.get=(e,t)=>{var a=!0;if(e.checkError&&"false"===e.checkError&&(a=!1),!a||!this.checkValidate()){var i=!1;if(null!==e&&void 0!==e&&(e.list_component?(";"+e.list_component+";").includes(";"+this.props.default.code+";")&&(i=!0):void 0!==e.list_view&&void 0!==this.props.infoView.code&&this.props.infoView.code===e.list_view&&(i=!0),i)){var s=this.props.config.structable;if(s.includes("|"))for(var o=s.split("|"),l=0;l<o.length;l++)this.readData(o[l],e.inform);else this.readData(s,e.inform)}}},this.checkValidate=()=>{var e=!1,t=this.state.value;if(void 0!==t&&(void 0===this.state.validate.request||e||this.state.validate.request&&""===t&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:l.g.getLang("validateRequest")}))),e){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{let a=this.calendar.getEventById(this.eventNeedDeleteId);a&&a.remove()},this.getInfoErrror=()=>{if(""!==this.state.help_mess){var e=void 0!==this.state.lang&&void 0!==this.state.lang[this.state.lang_select]?this.state.lang[this.state.lang_select]:this.props.default.name;return{info:this.state.help_mess,key:e,infoComponet:this.props.default}}return""},this.renderMess=e=>{switch(e){case"key language":default:return l.g.getLang(e)}},this.propertyConstructor=new Ds(e.inputType,e.default,e.config);var t=l.g.component_propertyIndex(this.props.property.properties,this.propertyConstructor.getProperty());void 0===t&&(t={});var a=this.props.validate;void 0===a&&(a={}),this.callform_detail="",this.callform="",this.data_select={};var i=this.props.lang;void 0===i&&(i={});let s={mode:"",col_text:"",col_input:""};void 0!==e.infoA.mode_form&&(s=e.infoA.mode_form);let n={parent:"",child:""},r={class:""},c=void 0!==this.props.ofgroup&&""!==this.props.ofgroup&&"false"!==this.props.ofgroup,d=void 0!==e.infoA.mode_form&&"1"===e.infoA.mode_form.mode,m=!!this.props.ofgroup_child;if(d)if(m)n={parent:"",child:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:void 0!==this.props.css_default.class&&""!==this.props.css_default.class?this.props.css_default.class:"col-sm-4"};else if(c){let e="col-sm-"+parseInt(10/(this.props.ofgroup_data.length+1));r={class:e},n={parent:void 0!==this.props.default.class&&""!==this.props.default.class?this.props.default.class:e,child:""}}else n={parent:"col-sm-6",child:""};else n=m?{parent:"",child:this.props.default.class+" jwebui-ofgroup"}:c?0===this.props.ofgroup_data.length?{parent:this.props.default.class,child:""}:{parent:this.props.default.class_ofgroup,child:this.props.default.class+" jwebui-ofgroup-fisrt"}:{parent:this.props.default.class,child:""};this.resourceData={id:l.g.autoID(),title:"Resource"},this.state={value:{},value_old:{},data:[],lang:i,lang_select:l.g.getLangKey(),validate:a,date_now:(new Date).toISOString(),data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:"",config_mode:s,class_config:n,css_default:r}}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this),N.a.runFoWithContext([{txcode:"#sys:fo-calender-loadData",input:{dataType:this.props.config.eventFoStart,dataContent:this.props.config.eventFoStart_config}}],{},this.props.infoA,this.props.infoA_parent,this.props.default)},l.g.getTimeAddComponent());let e=l.g.getConfigUserDefault("list_lang_config");for(let t=0;t<e.length;t++)void 0!==e[t].key&&l.g.loadJs("/app/calender/core/locales/"+e[t].key+".js");l.g.loadCss("/app/calender/core/main.css"),l.g.loadCss("/app/calender/daygrid/main.css"),l.g.loadCss("/app/calender/timegrid/main.css"),l.g.loadCss("/app/calender/list/main.css"),l.g.loadJs("/app/calender/core/main.js").then(e=>{l.g.loadJs("/app/calender/interaction/main.js").then(e=>{l.g.loadJs("/app/calender/daygrid/main.js").then(e=>{l.g.loadJs("/app/calender/timegrid/main.js").then(e=>{l.g.loadJs("/app/calender/list/main.js").then(e=>{this.calendar=new window.FullCalendar.Calendar(this.refs.calendar,{plugins:["interaction","dayGrid","timeGrid","list"],header:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},locale:l.g.getLangKey(),weekNumbers:!0,weekNumbersWithinDays:!0,weekNumberCalculation:"ISO",contentHeight:900,defaultDate:this.state.date_now,navLinks:!0,businessHours:!0,editable:!0,events:[],eventClick:e=>{this.eventNeedDeleteId=e.event.id,N.a.runFoWithContext([{txcode:"#sys:fo-calendar-removeEvent",input:{dataType:this.props.config.eventClick,dataContent:this.props.config.eventClick_config,start:Object(ct.a)(e.event.start,"DD/MM/YYYY")}}],{},this.props.infoA,this.props.infoA_parent,this.props.default)},dateClick:e=>{}}),this.calendar.render()},e=>{})},e=>{})},e=>{})},e=>{})},e=>{})}readData(e,t){if(e.includes(".")){var a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.value,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.value):l.g.putDataGB(a[0],a[1],"")}}readEvents(){let e=this.calendar.getEvents(),t=[];for(let a=0;a<e.length;a++){let i=e[a];void 0!==i.start&&void 0!==i.end&&void 0!==i.title&&t.push({start:i.start,end:i.end,title:i.title,backgroundColor:i.backgroundColor,borderColor:i.borderColor,textColor:i.textColor,rendering:i.rendering,groupId:i.groupId,allDay:i.allDay})}return t}addEvents(e){this.calendar.addEventSource(e)}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{ref:"calendar",className:"basic-full-calendar",style:{margin:"0 auto"}}),o.a.createElement(Ns,{infoA:this.props.infoA,infoA_parent:this.props.infoA_parent,infoView:this.props.infoView,ofgroup:this.props.ofgroup,ofgroup_data:this.props.ofgroup_data,ofgroup_parent:l.g.cloneJson(this.props),css_default:this.state.css_default}))}}var ks=Ms;class Es extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){var t={};return void 0===e&&(e={}),null!=e.query_data?t.query_data=e.query_data:t.query_data="",null!=e.chartType?t.chartType=e.chartType:t.chartType="ColumnChart",null!=e.chart_width?t.chart_width=e.chart_width:t.chart_width="",null!=e.chart_height?t.chart_height=e.chart_height:t.chart_height="600",null!=e.columns?t.columns=JSON.stringify(JSON.parse(e.columns),null,4):t.columns=JSON.stringify([{columnName:"Kh\xf4ng c\u1ea7n t\xean",tableColumnGroup:"table1.recname"},{columnName:"T\u1ed5ng c\u1ee7a tableColumn 1",tableColumn:"table1.recvalue"},{columnName:"T\u1ed5ng c\u1ee7a tableColumn 2",tableColumn:"table1.recvalue"}],null,4),null!=e.options?t.options=JSON.stringify(JSON.parse(e.options),null,4):t.options=JSON.stringify({title:"Population of Largest U.S. Cities",chartArea:{width:"30%"},hAxis:{title:"Total Population",minValue:0},vAxis:{title:"City"}},null,4),t}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}onBlur(e,t){var a=this.state.data;try{var i=JSON.parse(t.target.value);a[e]=JSON.stringify(i,null,4)}catch(s){alert(s)}this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement(n.a,{className:"col-sm-12 col-md-11",name:"Query data",value:this.state.data.query_data,placeholder:"select * from group_menu",onChange:e=>this.onChange_Value("query_data",e)}),o.a.createElement("button",{onClick:()=>{var e=l.g.getDataLimited(this.state.data.query_data,0,1e3);l.g.log(e,"Check")}},"Check"),o.a.createElement(n.a,{className:"col-sm-4 col-md-4",name:"Chart type",value:this.state.data.chartType,placeholder:"ColumnChart",onChange:e=>this.onChange_Value("chartType",e)}),o.a.createElement(n.a,{className:"col-sm-4 col-md-4",name:"Height",value:this.state.data.chart_height,placeholder:"600",onChange:e=>this.onChange_Value("chart_height",e)}),o.a.createElement(n.a,{className:"col-sm-4 col-md-4",name:"Width",value:this.state.data.chart_width,placeholder:"must be number, default 100% if it is empty",onChange:e=>this.onChange_Value("chart_width",e)}),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"C\u1ea5u h\xecnh c\u1ed9t (JSON)"),o.a.createElement("textarea",{className:"form-control",rows:"12",onChange:e=>{this.onChange_Value("columns",e)},value:this.state.data.columns,onBlur:e=>{this.onBlur("columns",e)}})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,"C\u1ea5u h\xecnh tu\u1ef3 ch\u1ecdn (JSON)"),o.a.createElement("textarea",{className:"form-control",rows:"12",onChange:e=>{this.onChange_Value("options",e)},value:this.state.data.options,onBlur:e=>{this.onBlur("options",e)}})),o.a.createElement("a",{href:"https://react-google-charts.com/",target:"blank"},"Xem th\xeam t\u1ea1i \u0111\xe2y"))}}var xs=Es;class Is extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.readConfig(this.props.data)}}readConfig(e){return void 0===e&&(e={}),{}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{className:"prtm-block-content"}))}}var Ts=Is;class ws extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:l.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return o.a.createElement("div",null)}}var Os=ws;class Ss extends s.Component{constructor(e){super(e),this.getValue=()=>this.state.data;var t=[];t[0]={},t[0].title="Not use",t[0].code="false",t[1]={},t[1].title="Use",t[1].code="true",this.state={data:this.readConfig(this.props.data),list_true_false:t}}readConfig(e){return void 0===e&&(e={}),{}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.readConfig(this.props.data)})}onChange_Value(e,t){var a=this.state.data;a[e]=t.target.value,this.setState({data:a})}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"})}}var Fs=Ss;class js extends s.Component{constructor(e){super(e),this.getValue=()=>({}),this.state={data:this.readConfig(this.props.data)}}readConfig(e){return void 0===e&&(e={}),{}}render(){return o.a.createElement("div",null)}}var Ls=js;class zs extends s.Component{constructor(e){super(e),this.getCode=()=>this.props.default.code,this.getCodeHidden=()=>this.props.default.codeHidden,this.setCMD=(e,t)=>{},this.getInfoCheckRun=()=>{let e=this.state.CMD||{};return{view:this.props.infoView,default:this.props.default,layout:this.props.infoLayout,block:e.block}},this.getAdvanced=(e,t)=>{},this.getDataOOP=(e,t)=>{const{list_component:a}=e,{code:i}=this.props.default;if(a){if(a.split(";").includes(i))return this.data_select}},this.changeKeyLanguage=()=>{this.setState({lang_select:l.g.getLangKey()})},this.forDebug=e=>{!0!==e&&!1!==e||this.setState({isDebug:e})},this.setCallFormBack=(e,t)=>{void 0!==e.key&&void 0!==e.key_form&&(this[e.key]=e.key_form)},this.getFormConfig=e=>o.a.createElement(xs,{data:e,ref:e=>l.g.setConfigComponent("config",e)}),this.getFormRole=e=>o.a.createElement(Fs,{data:e,ref:e=>l.g.setConfigComponent("role",e)}),this.getFormValidate=e=>o.a.createElement(Ts,{data:e,ref:e=>l.g.setConfigComponent("validate",e)}),this.getFormProperty=e=>o.a.createElement(Ls,{data:e,ref:e=>l.g.setConfigComponent("property",e)}),this.getFormLang=(e,t,a,i,s)=>o.a.createElement(Os,{data:i,default:e,config:t,validate:a,configAVD:s,ref:e=>l.g.setConfigComponent("lang",e)}),this.drawChart=()=>{if(void 0!==this.state.data&&void 0!==window.google&&void 0!==window.google.visualization){let e=window.google.visualization.arrayToDataTable(this.state.data),{options:t,chart_id:a,chartType:i}=this.state,s=this.getChartByIdAndType(a,i);null!=s&&s.draw(e,t)}},this.getChartByIdAndType=(e,t)=>{let a=null;switch(t){case"AreaChart":a=new window.google.visualization.AreaChart(document.getElementById(e));break;case"ColumnChart":a=new window.google.visualization.ColumnChart(document.getElementById(e));break;case"LineChart":a=new window.google.visualization.LineChart(document.getElementById(e));break;case"PieChart":a=new window.google.visualization.PieChart(document.getElementById(e))}return a},this.setDataGB=(e,t)=>{},this.set=(e,t)=>{if(void 0!==t&&void 0!==this.props.config.structable_read&&this.props.config.structable_read.includes(".")){var a=this.props.config.structable_read.split(".");if(a.length>0&&void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]])return void this.convertDataJWebUI_toDataChart(t)}this.convertDataJWebUI_toDataChart([])},this.setAdvanced=(e,t)=>{if(e.codeHidden&&e.codeHidden===this.props.default.codeHidden&&(this.data_select=t,void 0!==this.data_select)){if(this.state.isLookup){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&(a.putDataSetAdvanced(this.props.default,this.data_select),a.runRuleFunction(this.props.default,this.data_select,this.props.infoA_parent,"on_change"))}var i="";void 0!==this.props.config.data_view&&(i=": "+l.g.getOOP(this.data_select,this.props.config.data_view.trim()));var s="";void 0!==this.props.config.data_value&&(s=l.g.getOOP(this.data_select,this.props.config.data_value.trim())),this.setState({value:s,data_view:i})}},this.get=(e,t)=>{var a=!0;if(e.checkError&&"false"===e.checkError&&(a=!1),!a||!this.checkValidate()){var i=!1;if(null!==e&&void 0!==e&&(e.list_component?(";"+e.list_component+";").includes(";"+this.props.default.code+";")&&(i=!0):void 0!==e.list_view&&void 0!==this.props.infoView.code&&this.props.infoView.code===e.list_view&&(i=!0),i)){var s=this.props.config.structable;if(s.includes("|"))for(var o=s.split("|"),l=0;l<o.length;l++)this.readData(o[l],e.inform);else this.readData(s,e.inform)}}},this.checkValidate=()=>{var e=!1,t=this.state.value;if(void 0!==t&&(void 0===this.state.validate.request||e||this.state.validate.request&&""===t&&(e=!0,this.setState({help_css:"warning",help_icon:"glyphicon-warning-sign",help_mess:l.g.getLang("validateRequest")}))),e){var a=l.g.getFormAppAuto(this.props.infoA.key_form);void 0!==a&&a.setFormValidateFromComponent(!0,this.props.default)}return e},this.clearError=()=>{this.setState({help_css:"",help_icon:"",help_mess:""})},this.reload=(e,t)=>{let a=l.g.getDataLimited(this.props.config.query_data,0,9999999),i=this.convertDataJWebUI_toDataChart(a.data,this.state.data_column);this.setState({data:i},()=>this.drawChart())},this.getInfoErrror=()=>{if(""!==this.state.help_mess){var e=void 0!==this.state.lang&&void 0!==this.state.lang[this.state.lang_select]?this.state.lang[this.state.lang_select]:this.props.default.name;return{info:this.state.help_mess,key:e,infoComponet:this.props.default}}return""},this.renderMess=e=>{switch(e){case"key language":default:return l.g.getLang(e)}};var t=l.g.getDataLimited(this.props.config.query_data,0,9999999);let a=this.props.lang;void 0===a&&(a={});let i={};void 0!==this.props.config.options&&(i=l.g.jsonParser(this.props.config.options),void 0===i&&(i={}));let s=[];void 0!==this.props.config.columns&&(s=l.g.jsonParser(this.props.config.columns),void 0===s&&(s=[]));let n=600;void 0!==this.props.config.chart_height&&"0"!==this.props.config.chart_height&&(n=parseInt(this.props.config.chart_height));let r="100%";void 0!==this.props.config.chart_width&&""!==this.props.config.chart_width&&"0"!==this.props.config.chart_width&&(r=parseInt(this.props.config.chart_width)),i.width=r,i.height=n;let c=l.g.autoID();this.state={chart_id:c,value:this.data_default,data_column:s,data:this.convertDataJWebUI_toDataChart(t.data,s),options:i,chartType:this.props.config.chartType,value_old:"",lang:a,lang_select:l.g.getLangKey(),data_view:"",infoA_call_form:"",help_css:"",help_icon:"",help_mess:""}}convertDataJWebUI_toDataChart(e,t){let a={},i=t,s=[];if(void 0!==e&&void 0!==t){for(let t=0;t<e.length;t++){let s=e[t];if(i.length>1&&void 0!==i[0].tableColumnGroup){let e=this.readTableCode(i[0].tableColumnGroup,s);void 0===a[e]&&(a[e]=[]);for(let t=1;t<i.length;t++)if(void 0!==i[t].tableColumn&&""!==i[t].tableColumn.trim()){let o=a[e][t-1];void 0===o&&(o=0);let l=this.readTableCode(i[t].tableColumn,s);""!==l&&(o+=parseFloat(l),a[e][t-1]=o)}}}let o=[];for(let e=0;e<t.length;e++)void 0!==t[e].columnName&&o.push(t[e].columnName);s.push(o);for(let e in a){let t=[];t.push(e);let i=a[e];for(let e=0;e<i.length;e++)t.push(i[e]);s.push(t)}}return s}readTableCode(e,t){if(e.includes(".")&&void 0!==t){let a=e.split(".");if(a.length>1)return t[a[0]][[a[1]]]}return""}componentDidMount(){setTimeout(()=>{l.g.FromAddComponent(this.props.infoA.key_form,this)},l.g.getTimeAddComponent())}readData(e,t){if(e.includes(".")){var a=e.split(".");void 0===t||"true"===t?l.g.putData(a[0],a[1],this.state.value,this.props.infoA):"false"===t?l.g.putDataGB(a[0],a[1],this.state.value):l.g.putDataGB(a[0],a[1],"")}}render(){return o.a.createElement("div",{className:"col-sm-12 col-md-12"},o.a.createElement("div",{id:this.state.chart_id,style:{width:"100%"}}))}}const Rs={jCheckbox:ti,cTextInput:k,cTextArea:U,cButton:Z,jButtonPrint:ja,cTableDefault:de,jTableCalculator:Ha,jNumberInput:Ne,jSelect:We,jMaskInput:Tt,jRadioBox:Pt,jTreeView:Kt,jeLearning:ra,jMutiValue:va,jTagInput:Sa,jCurrency:gi,jPrintVoucher:Mi,jLabel:Xi,jTableForm:Oi,jSameMain:Yi,jSignature:ds,jFullCalendar:ks,jChart:zs};t.a=Rs},,function(e,t,a){"use strict";var i=a(0),s=a.n(i),o=a(1),l=a(2);class n extends i.Component{constructor(e){super(e),this.getValue=()=>this.state.data,this.state={data:this.props.data,lang_system:o.g.getConfigUserDefault("list_lang_config")}}componentDidUpdate(e){this.props.data!==e.data&&this.setState({data:this.props.data})}render(){return s.a.createElement("div",null,this.state.lang_system.map((e,t)=>s.a.createElement(l.a,{key:t,class:"col-sm-12 col-md-12",name:e.view,value:void 0!==this.state.data[e.key]?this.state.data[e.key]:e.key,onChange:t=>{var a=this.state.data;a[e.key]=t.target.value,this.setState({data:a})}})))}}t.a=n},function(e,t,a){"use strict";var i=a(5),s=a(1);var o=class{constructor(){this.start=e=>{if(!this.checkCondition(e))return;let t={name:"GET_INFO",isRun:!0,rule_config:this.config.config};if(void 0!==this.config.config){var a=this.config.config;if(void 0===a.data_type)return void s.g.AppException("#getInfo.start#7","data_type is undefined, config:"+JSON.stringify(a),"system");if(void 0!==a.component_result){var o=s.g.getFormAppAuto(e.infoA.key_form);if(void 0!==o){o.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:"false"},{});var l="",n={};switch(a.data_type){case"api":let i={};const r=o.getData("");for(const e in o.getData("")){const t=r[e];!1===Array.isArray(t)&&(i[e]=t)}t.action_config=a.api_id,l="#sys:bo-rule-getInfoAPI",void 0!==a.api_bo&&""!==a.api_bo.trim()&&(l=a.api_bo.trim()),n=Object.assign({learn_api:a.api_id,GB_obDataForm:{}},i);break;case"sql":l="#sys:bo-rule-getInfoSQL",void 0!==a.sql_bo&&""!==a.sql_bo.trim()&&(l=a.sql_bo.trim()),n={learn_sql:a.sql_id,GB_obDataForm:{},FORM_obDataForm:o.getData("")};break;case"data":l="#sys:bo-rule-getInfoData",void 0!==a.data_bo&&""!==a.data_bo.trim()&&(l=a.data_bo.trim()),n={table_code:a.data_table,GB_obDataForm:{},FORM_obDataForm:o.getData("")};break;default:return void s.g.AppException("#getInfo.start#6","data_type is null:"+JSON.stringify(e),"system")}if(""!==l){var r=[{txcode:l,input:n}];return Object(i.b)(r,{}).then(i=>{var l=s.g.foGetData("data",i);if("true"===a.is_data_to_form&&o.putDataAll_andSet(l),t.api_result=l,void 0!==l)if("true"===a.isSetCode){let e=s.g.parseJson(a.component_result||"{}");t.cpn_result=Object.keys(e)+"";for(const t in l){const e=l[t];if(Array.isArray(e))for(const a in e)l[t][a]={[t]:l[t][a]}}for(let t in e){let a=s.g.getNodeJson(l,e[t]),n={list_component:t};s.g.isDebug()&&(n.DEBUG={result:i,DATA:l,CONFIG:this.config.config}),o.callDirFromSupport("setAdvanced",n,a)}}else o.callDirFromSupport("setAdvanced",{codeHidden:e.configComponent.codeHidden},l);else void 0!==a.exception&&("inForm"===a.exception?console.log("getInfo inForm"):console.log("getInfo exception"+a.exception)),s.g.AppException("#getInfo.start#4","data is undefined, config_target:"+JSON.stringify(e)+" ,result:"+JSON.stringify(i),"system");o.addDebug("rule",t)},e=>{})}s.g.AppException("#getInfo.start#5","str_bo_ is '':"+JSON.stringify(e),"system")}else s.g.AppException("#getInfo.start#1","form is undefined:"+JSON.stringify(e),"system")}else s.g.AppException("#getInfo.start#2","component_result is undefined:"+JSON.stringify(this.config),"config")}else s.g.AppException("#getInfo.start#3","config is undefined:"+JSON.stringify(this.config),"config")},this.setConfig=e=>{this.config=e},this.checkUse=e=>void 0!==this.config.isStart&&void 0!==e.event&&!0===this.config.isStart&&"isStart"===e.event||!(void 0===e.configComponent||void 0===e.event||void 0===this.config.config||""===e.event.trim()||void 0===this.config.config.component_action||void 0===this.config.config.component_event||""===this.config.config.component_action.trim()||"all"!==this.config.config.component_event&&this.config.config.component_event!==e.event||!(";"+this.config.config.component_action+";").includes(";"+e.configComponent.code+";")),this.config={}}checkCondition(e){let t=s.g.getFormAppAuto(e.infoA.key_form);const a=this.config.config,i=t.callDirFromSupport("getAdvanced",{list_component:"*",list_view:"",inform:"true",checkError:"false"},{});let o=a.condition,l=s.g.component_getListCode(o);for(let s of l){let e=t.callDirFromSupport("getAdvanced",{list_component:s.code},{});e=e[s.code],"object"===typeof e?e=JSON.stringify(e):e+="",o=o.replace(s.key,e)}return s.g.checkConditionComponent(o,i)}};var l=class{constructor(){this.start=e=>{var t=s.g.getFormAppAuto(e.infoA.key_form);if(void 0!==this.config.config.component_result&&void 0!==t&&void 0!==this.config.config.component_action&&""!==this.config.config.component_result.trim()){t.callDirFromSupport("get",{list_component:this.config.config.component_action,list_view:"",inform:"true",checkError:"false"},{});var a=s.g.runJs(t.getData(""),e.configComponent.code,this.config.config.component_result.replace(/\n/g," "));void 0!==a&&t.putDataJoin(a),t.callDirFromSupport("set",{inform:"true"},t.getData(""))}},this.setConfig=e=>{this.config=e},this.checkUse=e=>!(void 0===e.configComponent||void 0===e.event||void 0===this.config.config||""===e.event.trim()||void 0===this.config.config.component_action||void 0===this.config.config.component_event||""===this.config.config.component_action.trim()||"all"!==this.config.config.component_event&&this.config.config.component_event!==e.event||!(";"+this.config.config.component_action+";").includes(";"+e.configComponent.code+";")),this.config={}}};var n=class{constructor(){this.start=e=>{let t=s.g.getFormAppAuto(e.infoA.key_form);const a=this.config.config;if(!t||!a)return;if(!this.checkCondition(e))return;let i={};void 0!==a.ena_dis&&"not_use"!==a.ena_dis&&(i.disabled=a.ena_dis),void 0!==a.visible&&"not_use"!==a.visible&&(i.visible=a.visible);let o={list_component:a.component_result,list_view:a.view_result};s.g.isDebug()&&(o.DEBUG={},o.DEBUG.CONFIG_RULE=this.config),t.callDirFromSupport("setCMD",o,i)},this.setConfig=e=>{this.config=e},this.checkUse=e=>{if(!0===this.config.isStart&&"isStart"===e.event)return!0;{var t;const a=this.config.config,i=e.configComponent,s=e.event,o=a.component_event;if(("all"===o||s===o)&&`;${a.component_action.trim()};`.includes(`;${null===(t=i.code)||void 0===t?void 0:t.trim()};`))return!0}return!1},this.config={}}checkCondition(e){let t=s.g.getFormAppAuto(e.infoA.key_form);let a={},i=this.config.config.condition;s.g.component_getListCode(i).length>0&&(a=t.callDirFromSupport("getAdvanced",{list_component:"*",list_view:"",inform:"true",checkError:"false"},{})),i=s.g.convertCondition(i,a);return s.g.checkConditionComponent(i,a)}};var r=class{constructor(){this.start=e=>{let t={name:"CACULATOR",rule_config:this.config.config};const{component_result:a,component_action:i}=this.config.config;var{function_cal:o,condition:l}=this.config.config;t.action_config=o;var n=s.g.getFormAppAuto(e.infoA.key_form);if(!a||!n||!i||""===a.trim())return;let r=n.callDirFromSupport("getAdvanced",{list_component:"*",list_view:"",inform:"true",checkError:"false"},{}),c=s.g.component_getListCode(l);t.condition=l;for(let s=0;s<c.length;s++){const e=c[s].code;let t=e;void 0!==r[e]&&(t=r[e]),l=!1===isNaN(t)&&""!==t?l.replace(c[s].key,t+""):l.replace(c[s].key,""+t)}if(t.condition_convert=l,void 0===l||""===l.trim()||!0===s.g.paramStringCaculator(l)){t.isRun=!0;let e=s.g.component_getListCode(o);for(let t=0;t<e.length;t++){const a=e[t].code;let i=void 0;void 0!==r[a]&&(i=r[a]),o=void 0!==i?o.replace(e[t].key,i+""):o.replace(e[t].key,e[t].code)}let i=s.g.paramStringCaculator(o);void 0!==i&&null!==i&&n.callDirFromSupport("setAdvanced",{list_component:a,type:"calculator",list_view:"",inform:"true",checkError:"false"},i),t.function_cal_convert=o,t.result_func_cal=i}n.addDebug("rule",t)},this.setConfig=e=>{this.config=e},this.checkUse=e=>void 0!==this.config.isStart&&void 0!==e.event&&!0===this.config.isStart&&"isStart"===e.event||!(void 0===e.configComponent||void 0===e.event||void 0===this.config.config||""===e.event.trim()||void 0===this.config.config.component_action||void 0===this.config.config.component_event||""===this.config.config.component_action.trim()||"all"!==this.config.config.component_event&&this.config.config.component_event!==e.event||!(";"+this.config.config.component_action.trim()+";").includes(";"+e.configComponent.code.trim()+";")),this.config={}}};var c=class{constructor(){this.start=e=>{const{component_result:t,getOOPFormat:a,isGetOOP:i,component_action:o}=this.config.config;var l=s.g.getFormAppAuto(e.infoA.key_form);if(void 0!==t&&void 0!==l&&void 0!==o&&(""!==t.trim()||""!==a.trim())){let e={};if("true"!==i)return e=l.callDirFromSupport("getAdvanced",{list_component:this.config.config.component_action,isGetOOP:i},{}),e=e[this.config.config.component_action],void l.callDirFromSupport("setAdvanced",{list_component:this.config.config.component_result},e);{e=l.callDirFromSupport("getDataOOP",{list_component:this.config.config.component_action,isGetOOP:i},{}),e=e[this.config.config.component_action];let t=s.g.parseJson(a);for(let a in t)l.callDirFromSupport("setAdvanced",{list_component:a},s.g.getOOP(e,t[a]))}}},this.setConfig=e=>{this.config=e},this.checkUse=e=>{if(!0===this.config.isStart&&"isStart"===e.event)return!0;{var t;const a=this.config.config,i=e.configComponent,s=e.event,o=a.component_event;if(("all"===o||s===o)&&`;${a.component_action.trim()};`.includes(`;${null===(t=i.code)||void 0===t?void 0:t.trim()};`))return!0}return!1},this.config={}}},d=a(45),m=a(46),u=a(6);var h=class{constructor(){this.start=e=>{if(this.checkCondition(e))if(void 0!==this.config.config.useAction)if("true"===this.config.config.useAction){var t=s.g.parseJson(this.config.config.txFoActions);void 0!==t?u.a.runActionWithContext(t,{ruleFunction:this.config.config,data_cpn:e.data},e.infoA,e.infoA_parent,e.configComponent):s.g.AppException("#CBUTTON.onClick","config_fo is undefined")}else if(void 0!==this.config.config.txFo){var a=s.g.parseJson(this.config.config.txFo);void 0!==a?u.a.runFoWithContext(a,{ruleFunction:this.config.config},e.infoA,e.infoA_parent,e.configComponent):s.g.AppException("#CBUTTON.onClick","Error Json is undefined")}else s.g.AppException("#CBUTTON.onClick","txFo is undefined");else s.g.AppException("#CBUTTON.onClick","useAction is undefined")},this.setConfig=e=>{this.config=e},this.checkUse=e=>void 0!==this.config.isStart&&void 0!==e.event&&!0===this.config.isStart&&"isStart"===e.event||!(void 0===e.configComponent||void 0===e.event||void 0===this.config.config||""===e.event.trim()||void 0===this.config.config.component_action||void 0===this.config.config.component_event||""===this.config.config.component_action.trim()||"all"!==this.config.config.component_event&&this.config.config.component_event!==e.event||!(";"+this.config.config.component_action.trim()+";").includes(";"+e.configComponent.code.trim()+";")),this.config={}}checkCondition(e){let t=s.g.getFormAppAuto(e.infoA.key_form);const a=this.config.config,i=t.callDirFromSupport("getAdvanced",{list_component:"*",list_view:"",inform:"true",checkError:"false"},{});let o=a.condition,l=s.g.component_getListCode(o);for(let s of l){let e=t.callDirFromSupport("getAdvanced",{list_component:s.code},{});e=e[s.code],"object"===typeof e?e=JSON.stringify(e):e+="",o=o.replace(s.key,e)}let n=!0;void 0!==i&&l.length>0&&(n=s.g.checkConditionComponent(o,i));const r=this.checkConditionParent(e,o);return n&&r}checkConditionParent(e,t){if(e.infoA_parent.key_form){let a=this.getListParentCode(t),i=s.g.getFormAppAuto(e.infoA_parent.key_form),o={};a.length>0&&(o=i.callDirFromSupport("getAdvanced",{list_component:"*",list_view:"",inform:"true",checkError:"false"},{}));for(let e=0;e<a.length;e++){const i=a[e].code;let s=o[i];void 0===s&&(s=i),t=t.replace(a[e].key,s)}return s.g.checkConditionComponent(t,o)}return!0}getListParentCode(e){if("string"!==typeof e)return[];let t=[];var a=new RegExp("@PARENT{([^@{}]*)}","g");let i=a.exec(e);for(;i;)t.push({key:i[0],code:i[1]}),i=a.exec(e);return t}};var g=class{constructor(){this.start=e=>{const{component_result:t}=this.config.config;s.g.getFormAppAuto(e.infoA.key_form).callDirFromSupport("setFocus",{list_component:t},{})},this.setConfig=e=>{this.config=e},this.checkUse=e=>!0===this.config.isStart&&"isStart"===e.event||!(void 0===e.configComponent||void 0===e.event||void 0===this.config.config||""===e.event.trim()||void 0===this.config.config.component_action||void 0===this.config.config.component_event||""===this.config.config.component_action.trim()||"all"!==this.config.config.component_event&&this.config.config.component_event!==e.event||!(";"+this.config.config.component_action.trim()+";").includes(";"+e.configComponent.code.trim()+";")),this.config={}}};var _=class{constructor(){this.callAPI=(e,t)=>{var a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(i.b)(a,{}).then(e=>s.g.foGetData("data",e))},this.start=e=>{const{component_result:t,mask_format:a,mask_data_format:i,mask_mode:o}=this.config.config;var l=s.g.getFormAppAuto(e.infoA.key_form);let n=l.callDirFromSupport("getAdvanced",{list_component:"*"},{}),r=s.g.getConditionWithData(a,n),c=s.g.getConditionWithData(i,n),d=s.g.getConditionWithData(o,n);l.callDirFromSupport("setMaskConfig",{list_component:t},{mask_format:r,mask_data_format:c,mask_mode:d})},this.setConfig=e=>{this.config=e},this.checkUse=e=>void 0!==this.config.isStart&&void 0!==e.event&&!0===this.config.isStart&&"isStart"===e.event||!(void 0===e.configComponent||void 0===e.event||void 0===this.config.config||""===e.event.trim()||void 0===this.config.config.component_action||void 0===this.config.config.component_event||""===this.config.config.component_action.trim()||"all"!==this.config.config.component_event&&this.config.config.component_event!==e.event||!(";"+this.config.config.component_action+";").includes(";"+e.configComponent.code+";")),this.config={}}};const p={getInfo:o,numberCal:l,visibility:n,calculator:r,setValue:c,setDataGB:d.a,managerComponent:m.a,runFo:h,setFocus:g,setMaskConfig:_};t.a=p},function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var i=a(1);function s(e,t){var a={};a.key=t.key.trim();var i=e.split(t.key);return i.length>=2?(a.old=i[0].trim(),a.new=i[1].trim()):a.old=i[0].trim(),a}function o(e,t,a){var i={};for(var s in e)if(void 0!==e[s]){var o=e[s];if(void 0!==o)if(",*,"===t)for(var l in o)void 0!==o[l]&&(void 0===i[s]&&(i[s]={}),i[s][l]=o[l]);else if(t.includes(" as ")){if(a.length>0)for(var n=0;n<a.length;n++){var r=a[n];if(r.split(" as ").length>0)if("all"===r.split(" as ")[1]){if(s===r.split(" as ")[0])for(var c in o)i[c]=o[c]}else for(var d in o)r.includes(s+"."+d+" ")&&(i[r.split(" as ")[1]]=o[d])}}else for(var m in o)void 0!==o[m]&&t.includes(","+s+"."+m+",")&&(void 0===i[s]&&(i[s]={}),i[s][m]=o[m])}return i}class l{static AnalyticsQuery(e,t,a){var l={total:0,data:[]};if(void 0!==e&&""!==e.trim()){var n=i.g.jsonParser(e);if(void 0!==n){if(void 0!==n.data&&void 0!==n.select){let e=n.data,s=[];for(let t=0;t<e.length;t++){var r={data:[],table:e[t].table,alert:e[t].alert,join_column:e[t].join_column};let a=i.g.getData(e[t].table);if(void 0!==r.alert){for(let e=0;e<a.length;e++){let t={};t[r.alert]=a[e][r.table],r.data.push(t)}r.table=r.alert}else r.data=a;if(void 0!==e[t].data_add)if(void 0!==e[t].data_add.length)for(let s=0;s<e[t].data_add.length;s++)void 0!==e[t].data_add[s][r.table]&&void 0!==e[t].data_add[s][r.table][r.join_column]?r.data.push(e[t].data_add[s]):i.g.log(e[t].data_add[s],"Error AnalyticsQuery data_add "+r.table);else void 0!==e[t].data_add[r.table]&&void 0!==e[t].data_add[r.table][r.join_column]?r.data.push(e[t].data_add):i.g.log(e[t].data_add,"Error AnalyticsQuery data_add "+r.table);s.push(r)}var c=[];c=s.length>1?function(e,t){const a=t.data.reduce((e,a)=>e.set(a[t.table][t.join_column],a),new Map);return e.data.map(i=>{let s=a.get(i[e.table][e.join_column]);if(void 0!==s){let e={};return e=i,e[t.table]=s[t.table],e}})}(s[0],s[1]):s[0];let o=[],d="";void 0!==n.where&&(d=n.where);for(let t=0;t<c.length;t++)if(void 0!==c[t]){let e=c[t];if(i.g.checkDynamicCondition(e,d)){let t={};for(let a=0;a<n.select.length;a++){let i=n.select[a];void 0!==i.alert_table&&void 0!==i.alert_column?(void 0===t[i.alert_table]&&(t[i.alert_table]={}),void 0!==e[i.table]&&(t[i.alert_table][i.alert_column]=e[i.table][i.column])):(void 0===t[i.table]&&(t[i.table]={}),void 0!==e[i.table]&&(t[i.table][i.column]=e[i.table][i.column]))}o.push(t)}}void 0!==n.sort&&n.sort.length>0&&o.sort((e,t)=>{let a=0;for(let i=0;i<n.sort.length;i++){let s=n.sort[i];if(void 0!==e[s.table]&&void 0!==t[s.table]&&void 0!==e[s.table][s.column]&&void 0!==t[s.table][s.column])switch(s.type){case"string":a="ascending"===s.sort?a||e[s.table][s.column].localeCompare(t[s.table][s.column]):a||t[s.table][s.column].localeCompare(e[s.table][s.column]);break;case"number":a="ascending"===s.sort?a||e[s.table][s.column]-t[s.table][s.column]:a||t[s.table][s.column]-e[s.table][s.column]}}return a}),l.total=o.length,t+a>o.length?l.data=o.slice(t,o.length):l.data=o.slice(t,t+a)}}else{var d=function(e){var t={},a=e.split(" from ");if(a.length>=2){var i=a[0].trim().replace("\\s+"," ");if(t.col=i,""!==i){var o=a[1].trim();if(o.includes(" where ")||o.includes(" orderby ")||o.includes(" limitby ")||o.includes(" groupby ")){var l=function(e){var t=[];if(-1!==e.indexOf(" where ")){var a={};a.index=e.indexOf(" where "),a.key=" where ",t[t.length]=a}if(-1!==e.indexOf(" orderby ")){var i={};i.index=e.indexOf(" orderby "),i.key=" orderby ",t[t.length]=i}if(-1!==e.indexOf(" groupby ")){var s={};s.index=e.indexOf(" groupby "),s.key=" groupby ",t[t.length]=s}if(-1!==e.indexOf(" limitby ")){var o={};o.index=e.indexOf(" limitby "),o.key=" limitby ",t[t.length]=o}return t.sort((function(e,t){return e.index-t.index})),t}(o),n=s(o,l[0]);t.table=n.old,o=n.new;var r=n.key;if(l.length>=2){var c=s(o,l[1]);t[r]=c.old,o=c.new;var d=c.key;if(l.length>=3){var m=s(o,l[2]);t[d]=m.old,o=m.new;var u=m.key;if(l.length>=4){var h=s(o,l[3]);t[u]=h.old,t[h.key]=h.new}else t[u]=o}else t[d]=o}else t[r]=o}else t.table=o}}return void 0!==t.col&&void 0!==t.table?t:null}(e=e.substring("select".length).trim())||"",m=[];null!==d&&void 0!==d.table&&(m=function(e){for(var t=[],a=e.split(","),i=0;i<a.length;i++){var s=a[i],o={},l=s.trim();if(l.includes(" ")){var n=l.split(" ",2);o.table=n[0].trim(),o.alert=n[1].trim()}else o.table=s.trim(),o.alert=s.trim();t[t.length]=o}return t}(d.table)),null!==m&&void 0!==m||(m=[]);var u=[],h="";void 0!==d.col&&(h=d.col);var g=","+h+",",_=h.split(",");if(m.length>1);else if(1===m.length&&void 0!==m[0].alert){var p=i.g.getData(m[0].table);if(void 0!==p)for(var f=0;f<p.length;f++){var v={};v[m[0].alert]=p[f][m[0].table],u.push(v)}}if(void 0!==d.where&&(u=u.filter(e=>i.g.checkDynamicCondition(e,d.where))),void 0!==d.orderby&&d.orderby.includes(".")){var b=d.orderby.split(".");if(b.length>0){var y=b[0],D=b[1];u.sort((e,t)=>void 0!==e[y]&&void 0!==t[y]&&void 0!==e[y][D]&&void 0!==t[y][D]?e[y][D]-t[y][D]:0)}}void 0!==u&&u.length>0&&(l.total=u.length,t+a>u.length?l.data=u.slice(t,u.length):l.data=u.slice(t,t+a));for(var A=0;A<l.data.length;A++)l.data[A]=o(l.data[A],g,_)}}return l}}},function(module,__webpack_exports__,__webpack_require__){"use strict";var _lib_libPost__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5),_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1);class process{constructor(){this.callAPI=(e,t)=>{var a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(_lib_libPost__WEBPACK_IMPORTED_MODULE_0__.b)(a,{}).then(e=>_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__.g.foGetData("data",e))},this.start=config_target=>{const{component_result:component_result,component_action:component_action,query:query,filter_condition:filter_condition,mode_filter:mode_filter,api:api,data_type:data_type,query_db:query_db}=this.config.config;let js_condition=this.config.config.js_condition;var form_=_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__.g.getFormAppAuto(config_target.infoA.key_form);let data_component=form_.callDirFromSupport("getAdvanced",{list_component:"*"},{});if(void 0!==component_result&&void 0!==form_&&void 0!==component_action&&""!==component_result.trim()){let data_gb=[],c_cdlist_config=query.split(";");if("api"===data_type){let e="";this.callAPI(api,data_component).then(t=>{for(const s in t){e=s;const a=t[s];if(Array.isArray(a))for(const e in a)t[s][e]={[s]:t[s][e]}}let a=t||{};a=a[e]||[];let i={list_component:component_result};_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__.g.isDebug()&&(i.DEBUG={},i.DEBUG.CONFIG_RULE=this.config),form_.callDirFromSupport("setDataGB",i,a)})}else{if("query_db"===data_type)data_gb=_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__.g.getDataLimited(query_db,0,9999999).data||[];else{if(2!==c_cdlist_config.length)return;data_gb=_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__.g.data_cdList(c_cdlist_config[1].trim(),c_cdlist_config[0].trim())||[]}switch(mode_filter){case"regex":let filter_condition_json=_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__.g.parseJson(filter_condition);void 0===filter_condition_json&&(data_gb=[]);for(let e in filter_condition_json){let t=filter_condition_json[e],a=_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__.g.component_getListCode(t);for(let i=0;i<a.length;i++){const s=a[i].code;let o=data_component;if(o=o[s]||{},o=Object.values(o)[0]||{},o=Object.values(o)[0]||"",void 0!==o&&""!==o.trim()){let s=t.replace(a[i].key,o),l=new RegExp(s,"g");data_gb=data_gb.filter(t=>{let a=_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__.g.getOOP(t,e);return!0===l.test(a)})}else data_gb=[]}}break;case"js_condition":let list_code=_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__.g.component_getListCode(js_condition);for(let e=0;e<list_code.length;e++){const t=list_code[e].code;let a=data_component,i=a[t];void 0===i&&(i=t),js_condition=js_condition.replace(list_code[e].key,i)}js_condition=this.replaceParentValueInCondition(config_target,js_condition);try{eval(js_condition)}catch(error){data_gb.length=0,_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__.g.isDebug&&console.error("Set data GB=>",error)}}let para_call={list_component:component_result};_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__.g.isDebug()&&(para_call.DEBUG={},para_call.DEBUG.CONFIG_RULE=this.config),form_.callDirFromSupport("setDataGB",para_call,data_gb)}}},this.setConfig=e=>{this.config=e},this.checkUse=e=>void 0!==this.config.isStart&&void 0!==e.event&&!0===this.config.isStart&&"isStart"===e.event||!(void 0===e.configComponent||void 0===e.event||void 0===this.config.config||""===e.event.trim()||void 0===this.config.config.component_action||void 0===this.config.config.component_event||""===this.config.config.component_action.trim()||"all"!==this.config.config.component_event&&this.config.config.component_event!==e.event||!(";"+this.config.config.component_action+";").includes(";"+e.configComponent.code+";")),this.config={}}replaceParentValueInCondition(e,t){if(e.infoA_parent.key_form){let a=this.getListParentCode(t),i=_lib_libSupport__WEBPACK_IMPORTED_MODULE_1__.g.getFormAppAuto(e.infoA_parent.key_form),s={};a.length>0&&(s=i.callDirFromSupport("getAdvanced",{list_component:"*",list_view:"",inform:"true",checkError:"false"},{}));for(let e=0;e<a.length;e++){const i=a[e].code;let o=s[i];void 0===o&&(o=i),t=t.replace(a[e].key,o)}}return t}getListParentCode(e){if("string"!==typeof e)return[];let t=[];var a=new RegExp("@PARENT{([^@{}]*)}","g");let i=a.exec(e);for(;i;)t.push({key:i[0],code:i[1]}),i=a.exec(e);return t}}__webpack_exports__.a=process},function(module,__webpack_exports__,__webpack_require__){"use strict";var _lib_libSupport__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1);class process{constructor(){this.start=config_target=>{var form_=_lib_libSupport__WEBPACK_IMPORTED_MODULE_0__.g.getFormAppAuto(config_target.infoA.key_form);const{component_manager:component_manager,is_use_block:is_use_block}=this.config.config;let json_manager=_lib_libSupport__WEBPACK_IMPORTED_MODULE_0__.g.parseJson(component_manager),data_of_cpn=form_.callDirFromSupport("getAdvanced",{list_component:"*"},{});for(let code_result in json_manager){let condition=json_manager[code_result],list_key=_lib_libSupport__WEBPACK_IMPORTED_MODULE_0__.g.component_getListCode(condition);for(let e of list_key){let t=data_of_cpn[e.code];"object"===typeof t?t=JSON.stringify(t):t+="",condition=condition.replace(e.key,t)}let is_visible=!1;try{is_visible=eval(condition)}catch(error){}if(is_use_block){let e=!is_visible;"true"!==is_use_block&&(e="false"),form_.callDirFromSupport("setCMD",{list_component:code_result},{visible:String(!!is_visible),block:e})}else form_.callDirFromSupport("setCMD",{list_component:code_result},{visible:String(!!is_visible)})}},this.setConfig=e=>{this.config=e},this.checkUse=e=>void 0!==this.config.isStart&&void 0!==e.event&&!0===this.config.isStart&&"isStart"===e.event||!(void 0===e.configComponent||void 0===e.event||void 0===this.config.config||""===e.event.trim()||void 0===this.config.config.component_action||void 0===this.config.config.component_event||""===this.config.config.component_action.trim()||"all"!==this.config.config.component_event&&this.config.config.component_event!==e.event||!(";"+this.config.config.component_action.trim()+";").includes(";"+e.configComponent.code.trim()+";")),this.config={}}}__webpack_exports__.a=process},function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var i="MIICXAIBAAKBgQDB7MQCeFvDYGwAV6a6E0Q7N8Ptqq58CxXEcJufjDIcDtML7cs7KBqDA4SYtzkI/4HFUeqcQbWFyjd10nxxilOWX2/f+TK/Zdf9MNZoBHIEeqZ9WtG6+d2p4y3cSFg9B4vJZDlPLozPzXnmhblQCSQ8K7+p14EovD0wEOmFxTEVqQIDAQABAoGAF6F0WSC1fd9YCcqkhHQokla/R0zPKkpngqJ+NDjvOkAMM53sb+75HBHnrHxXNON9ur+6qQPQzNbRX0gg5e0HNktohLe1EixiEPG7CNaKgWx11nEWN6kRY0ffS+rc2aU6IN5r6pXF1//tw9pI7bJOvZwtwM5jeN2xe3UgnfQK+aECQQDhkjLfyATEU2XHvkrdMCuzLqs0pccLStLDVsyQJ424mli1dMeMGr+4vQEpvS4UR1lDLhYV1njfcT3maoeFnLIVAkEA3BW0yRdSqJAGZS8cp3BD4TNiXzXdxaLr2zi2BXwg6acx9py/fHo2XP/23D+USwP/WEXD1gumBBYWPdsGDIQ+RQJAZ3IroJLTFNIGQDcVkCByOgcx/r/z60rSI0EgKQ/qn3kxK241wRvXRrpu2RxoEGa0Gen9uOAVqKr/Lzc1lWHKDQJAJvEASASEb6bsOsMXQtkuaY55/Xa+gtXM/cEPE/FesXkP8h7SEuhc7h+sQlRNnOhcKfZOLHVrLpXp4Y/7hgNwMQJBAJL0REs/tE+/Wi9QvaH5B0EVbE6W59tq8PrX0JU7NSbXRhjIfgxDtcAOvJ37HguePsmSWQKh3lUGe79J02U0Ufk=";class s{static buildStoreHtml5_for_login(){}static buildStoreHtml5_for_app(e){let t={};if(null!=e.searchParams.get("s")){t=JSON.parse(function(e){var t=new window.JSEncrypt({default_key_size:1024});t.setPrivateKey(i);var a="",s=e;for(;s.length>0;){var o=s.substring(0,172);s=s.substring(172),a+=t.decrypt(o)}return a}(e.searchParams.get("s")))}let a=window.location.hostname;return"www."===a.substr(0,4)&&(a=a.replace("www.","")),t.domain=a,t}}},function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var i=a(1);class s{static analyticsTable(e){if(void 0!==e)for(var t in e){var a=Object(i.o)(t);if(void 0!==a){if(null!=a.detail)for(var s=a.detail,o=0;o<s.length;o++){var l=s[o];void 0!==l.code&&void 0!==l.datapk&&void 0!==l.autoseq&&void 0!==l.type&&(void 0!==e[t][l.code]?l.autoseq:"true"===l.datapk&&("object"!==typeof e[t]&&(e[t]={}),e[t][l.code]=i.g.autoID()),void 0!==l.fileid&&"true"===l.fileid&&(e[t].AFGHkeyIndexWJ=e[t][l.code]))}void 0===e[t].AFGHkeyUserCreateWJ&&(e[t].AFGHkeyUserCreateWJ=i.g.context_get("user_jwebui.user_id")),void 0!==e[t].AFGHkeyIndexWJ&&""!==e[t].AFGHkeyIndexWJ||(e[t].AFGHkeyIndexWJ=i.g.autoID()),e[t].AFGHkeyTime=i.g.getLongTime(),void 0===e[t].AFGHkeyWorkFlow&&(e[t].AFGHkeyWorkFlow="")}}return e}}},function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var i=a(1);const s=()=>{window.addEventListener("online",()=>{!0,Object(i.A)(!1,{}),document.body.classList.remove("isOffline")}),window.addEventListener("offline",()=>{!1,Object(i.A)(!0,{title:"#MsgSystem_client_offline",btn:"",list_fo:"",list_fo_start:"",color:"warning"}),document.body.classList.add("isOffline")})}},function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var i=a(6),s={ctrlKey:{191:{fo:[{txcode:"#sys:fo-assistant-sendError",input:{}}],context:{}},19:{fo:[],context:{}},13:{fo:[],context:{}},190:{fo:[{txcode:"#sys:fo-keyboard-openDebug",input:{}}],context:{}},113:{fo:[{txcode:"#sys:fo-keyboard-openForm",input:{form_code:"013003"}}],context:{}},114:{fo:[{txcode:"#sys:fo-keyboard-openForm",input:{form_code:"012003"}}],context:{}},117:{fo:[{txcode:"fo-open-latestTransaction",input:{form_code:"011001"}}],context:{}}},altKey:{},119:{fo:[{txcode:"#sys:fo-keyboard-openForm",input:{form_code:"013001"}}],context:{}},113:{fo:[{txcode:"#sys:fo-keyboard-openForm",input:{form_code:"designForm"}}],context:{}},118:{fo:[{txcode:"#sys:fo-keyboard-openForm",input:{form_code:"011001"}}],context:{}}},o=0;class l{static startKeyboard(e){document.addEventListener("keyup",n)}}function n(e){16===e.keyCode?o++:o=0,e.ctrlKey&&17!==e.keyCode?r("ctrlKey",e.keyCode):e.altKey&&18!==e.keyCode?r("altKey",e.keyCode):2===o?r("double",e.keyCode):113!==e.keyCode&&115!==e.keyCode&&117!==e.keyCode&&118!==e.keyCode&&119!==e.keyCode&&120!==e.keyCode||r("",e.keyCode)}function r(e,t){void 0!==s&&(""!==e?void 0!==s[e]&&void 0!==s[e][t]&&void 0!==s[e][t].fo&&i.a.fo(s[e][t].fo,{context:s[e][t].context}):void 0!==s[t]&&void 0!==s[t].fo&&i.a.fo(s[t].fo,{context:s[t].context}))}},function(e,t,a){"use strict";var i=a(1),s=a(8);class o extends s.a{constructor(){super(...arguments),this.showAlert=()=>{void 0!==this.input.lang?alert(i.g.getLang(this.input.lang)):i.g.AppException("#message.showAlert","lang is undefined","data")},this.showConsole=()=>{void 0!==this.input.lang?console.log(i.g.getLang(this.input.lang)):i.g.AppException("#message.showConsole","lang is undefined","data")},this.showToastConfirm=()=>{var e,t;let a="";a=this.input.lang_confirm?i.g.getLang(this.input.lang_confirm):this.input.lang?i.g.getLang(this.input.lang):(null===(e=this.context.componentConfigDefault)||void 0===e?void 0:e.name)?i.g.getLang(null===(t=this.context.componentConfigDefault)||void 0===t?void 0:t.name):i.g.getLang("Action"),a+=" ";const s=new Date;let o="",l="";if(this.input.toast_type)switch(this.input.toast_type){case"success":o="success",l="fa fa-check",a+=i.g.getLang("success");break;case"error":default:o="error",l="fa fa-bullhorn",a+=i.g.getLang("error")}else{let e=this.input.lang;switch(e){case"sysActionOk":case"sysActionSaveOk":case"sysGetInfoOk":o="success",l="fa fa-check",a+=i.g.getLang("success");break;case"sysActionSaveError":o="error",l="fa fa-exclamation",a+=i.g.getLang("error");break;default:String(e).toLowerCase().includes("error")||String(e).toLowerCase().includes("fail")?(o="error",l="fa fa-bullhorn",a+=i.g.getLang("error")):(o="success",l="fa fa-bullhorn",a+=i.g.getLang("success"))}}var n={class_:o,icon:l,title:i.g.getLang("systemTitle"),time:s.getTime()+"",description:a,data:{},action:{}};i.g.pushNotify("notifyToast",n,{}),i.g.pushNotify("notifyDefault",n,{}),i.g.callAllScreenListen()},this.showToast=()=>{if(void 0!==this.input.lang){const t=new Date;let a=this.input.lang,s="",o="";switch(a){case"sysActionOk":case"sysActionSaveOk":case"sysGetInfoOk":s="success",o="fa fa-check";break;case"sysActionSaveError":s="error",o="fa fa-exclamation";break;case"sysActionSearchEmpty":s="warning",o="fa fa-exclamation";break;default:String(a).toLowerCase().includes("error")||String(a).toLowerCase().includes("fail")?(s="error",o="fa fa-bullhorn"):(s="success",o="fa fa-bullhorn")}var e={class_:s,icon:o,title:i.g.getLang("systemTitle"),time:t.getTime()+"",description:i.g.getLang(this.input.lang),data:{},action:{}};i.g.pushNotify("notifyToast",e,{}),i.g.pushNotify("notifyDefault",e,{}),i.g.callAllScreenListen()}else i.g.AppException("#message.showToast","lang is undefined","data")},this.showNotify=()=>{if(void 0!==this.input&&void 0!==this.input.notifyServer){for(var e=0;e<this.input.notifyServer.length;e++){var t=this.input.notifyServer[e];void 0!==t.type_notify&&void 0!==t.mess&&i.g.pushAllNotify(t.type_notify,[t.mess])}i.g.callAllScreenListen()}},this.chat=e=>{}}}var l=o,n=a(0),r=a.n(n),c=a(12),d=a.n(c),m=a(10),u=a(5),h=a(6),g=a(27),_={};class p{static startJob(){Object(u.b)([{txcode:"#sys:bo-schedule-loadStatusStart",input:{}}],{}).then(e=>{let t=i.g.foGetData("scheduleJob",e);if(void 0!==t)for(let a=0;a<t.length;a++)void 0!==t[a].scheduleJob&&void 0!==t[a].scheduleJob.id&&""!==t[a].scheduleJob.id&&(i.g.scheduleJob_addTo_Store(t[a]),f(t[a],{}))},e=>{})}static runSchedule(e,t){let a=i.g.scheduleJob_getJob_toRun(e);void 0===a?Object(u.b)([{txcode:"#sys:bo-schedule-loadScheduleID",input:{schedule_id:e}}],{}).then(e=>{let a=i.g.foGetData("loadScheduleID",e);i.g.scheduleJob_addTo_Store(a),f(a,t)},e=>{}):f(a,t)}}const f=(e,t)=>{let a=i.g.cloneJson(e);if(a.context={},a.context.scheduleContext_job_id=i.g.autoID(),a.context.scheduleContext_run_count=1,void 0!==a.scheduleJob.time&&void 0!==a.scheduleJob.id&&void 0!==a.scheduleJob.content_run&&a.scheduleJob.time>0&&""!==a.scheduleJob.id&&""!==a.scheduleJob.content_run)if("L"===a.scheduleJob.type){if(void 0!==a.scheduleJob.conditions&&!Object(g.a)(a,a.scheduleJob.conditions))return;a.context.scheduleContext_run_count++,"{}"!==JSON.stringify(t)?h.a.runFoWithContext(JSON.parse(a.scheduleJob.content_run),t.data,t.infoA,t.infoA_parent,t.componentConfigDefault):h.a.fo(JSON.parse(a.scheduleJob.content_run),t),_[a.context.scheduleContext_job_id]=setInterval(()=>{if(void 0!==a.scheduleJob.conditions&&!Object(g.a)(a,a.scheduleJob.conditions))return clearInterval(_[a.context.scheduleContext_job_id]),void delete _[a.context.scheduleContext_job_id];a.context.scheduleContext_run_count++,"{}"!==JSON.stringify(t)?h.a.runFoWithContext(JSON.parse(a.scheduleJob.content_run),t.data,t.infoA,t.infoA_parent,t.componentConfigDefault):h.a.fo(JSON.parse(a.scheduleJob.content_run),t)},a.scheduleJob.time)}else"S"===a.scheduleJob.type&&setTimeout(()=>{(void 0===a.scheduleJob.conditions||Object(g.a)(a,a.scheduleJob.conditions))&&("{}"!==JSON.stringify(t)?h.a.runFoWithContext(JSON.parse(a.scheduleJob.content_run),t.data,t.infoA,t.infoA_parent,t.componentConfigDefault):h.a.fo(JSON.parse(a.scheduleJob.content_run),t))},a.scheduleJob.time)};var v=a(19);class b extends s.a{constructor(){super(...arguments),this.startLang=()=>{var e={};let t=i.g.getLangKey();if(void 0!==this.input.key_lang&&void 0!==this.input.key_lang.lang_of_user&&(t=this.input.key_lang.lang_of_user),void 0!==this.input.sys_lang_data&&(e=this.input.sys_lang_data),void 0!==this.input.lang_data)for(var a in this.input.lang_data)e[a]=this.input.lang_data[a];else i.g.AppException("#system.startLang","lang_data is undefined","data");i.g.setLangKey(t),i.g.setAllLang(e)},this.load_flow_client=()=>{void 0!==this.input.flow_client?Object(i.D)(this.input.flow_client):i.g.AppException("#system.load_flow_client","flow_client is undefined","data")},this.loadFormDesign=()=>{null!=this.input.form_design&&Object(i.C)(this.input.form_design);var e=i.g.autoID();let t=r.a.lazy(()=>Promise.all([a.e(106),a.e(108)]).then(a.bind(null,184)));i.g.newForm(r.a.createElement(n.Suspense,{key:e,fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(t,{key:e,mapping_key:e})))},this.loadeLearning=()=>{var e=[];null!=this.input.data&&(e=this.input.data);var t=i.g.autoID();let s=r.a.lazy(()=>Promise.resolve().then(a.bind(null,52)));i.g.newForm(r.a.createElement(n.Suspense,{key:t,fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(s,{data:e,key:t,mapping_key:t})))},this.loadFormLang=()=>{for(var e=i.g.autoID(),t=i.g.getConfigUserDefault("list_lang_config"),s={},o=0;o<t.length;o++)null!=this.input["lang_data_"+t[o].key]&&(s[t[o].key]=this.input["lang_data_"+t[o].key]);let l=r.a.lazy(()=>a.e(111).then(a.bind(null,177)));i.g.newForm(r.a.createElement(n.Suspense,{key:e,fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(l,{key:e,mapping_key:e,data:s})))},this.loadFormDevice=()=>{var e=i.g.autoID();this.input.device;let t=r.a.lazy(()=>a.e(112).then(a.bind(null,178)));i.g.newForm(r.a.createElement(n.Suspense,{key:e,fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(t,{key:e,mapping_key:e,data:this.input.device})))},this.logout=()=>{i.g.clearSessionStorage()},this.loadFormRoleSystem=()=>{var e=i.g.autoID();let t=r.a.lazy(()=>a.e(115).then(a.bind(null,179)));i.g.newForm(r.a.createElement(n.Suspense,{key:e,fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(t,{key:e,mapping_key:e})))},this.loadRoleUser=()=>{var e={};null!=this.input.loadRoleUserAll&&(e=this.input.loadRoleUserAll),void 0===e&&(e={});var t=i.g.autoID();let s=r.a.lazy(()=>a.e(116).then(a.bind(null,180)));i.g.newForm(r.a.createElement(n.Suspense,{key:t,fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(s,{data:e,key:t,mapping_key:t})))},this.loadDatabase=()=>{void 0!==this.input.database?Object(i.B)(this.input.database):i.g.AppException("#system.loadDatabase","database is undefined","data")},this.loadParameterSystem=()=>{void 0!==this.input.paraServer?(i.g.loadParameterSystem(this.input.paraServer),i.g.parameterSystem_start()):i.g.AppException("#system.loadParameterSystem","paraServer is undefined","data")},this.loadTxCodeFo=()=>{},this.reloadPage=()=>{window.location.reload()},this.gotoLogin=()=>{window.location.replace(i.g.getUrlLogin())},this.callFormLogin=e=>{var t="#sys:bo-login-signIn";void 0!==e&&(t=e);var a=i.g.getSessionFromStore();""!==a?(i.g.clearSessionStorage(),i.g.setSessionTemp(a),Object(u.b)([{txcode:t,input:{e:"",p:"",session_id:a}}],{}).then(e=>{void 0!==e.fo&&e.fo.length>0&&void 0!==e.fo[0].input["login-status"]&&void 0!==e.fo[0].input["login-status"].status_login&&"login#127"===e.fo[0].input["login-status"].status_login||window.location.replace(i.g.getUrlLogin())},e=>{})):window.location.replace(i.g.getUrlLogin()),document.title=i.g.getLang("title")},this.callForm_flowFo=()=>{var e=i.g.autoID();if(void 0!==this.input.txClient){let t=r.a.lazy(()=>a.e(110).then(a.bind(null,185)));i.g.newForm(r.a.createElement(n.Suspense,{key:e,fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(t,{all_txcode:this.input.txClient,key:e,mapping_key:e})))}else i.g.AppException("#system.callForm_flowFo","txClient is undefined","data")},this.callForm_flowBo=()=>{var e=i.g.autoID();if(void 0!==this.input.tx){let t=r.a.lazy(()=>a.e(109).then(a.bind(null,181)));i.g.newForm(r.a.createElement(n.Suspense,{key:e,fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(t,{all_txcode:this.input.tx,key:e,mapping_key:e})))}else i.g.AppException("#system.callForm_flowBo","tx is undefined","data")},this.callForm_roleBo=()=>{var e=i.g.autoID();if(void 0!==this.input.tx&&void 0!==this.input.roletxbo){let t=r.a.lazy(()=>a.e(114).then(a.bind(null,182)));i.g.newForm(r.a.createElement(n.Suspense,{key:e,fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(t,{all_txcode:this.input.tx,data:this.input.roletxbo,key:e,mapping_key:e})))}else i.g.AppException("#system.callForm_roleBo","all_txcode,roletxbo is undefined","data")},this.callForm_paraServer=()=>{var e=i.g.autoID();if(void 0!==this.input.paraServer){let t=r.a.lazy(()=>a.e(113).then(a.bind(null,183)));i.g.newForm(r.a.createElement(n.Suspense,{key:e,fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(t,{key:e,mapping_key:e,data:this.input.paraServer})))}else i.g.AppException("#system.callForm_paraServer","paraServer is undefined","data")},this.callFoStart=()=>{void 0!==this.input.key_protect&&i.g.setProtect(this.input.key_protect),h.a.quickPost([{txcode:"#sys:bo-login-start",input:{lang_data:i.g.getLangKey(),isStart:!0}}],{}),setInterval(()=>{i.g.webSocketSendMessage("#protectPost")},i.g.getTimeProtect()),i.g.isDebug()&&(console.log("React.version===>"+r.a.version),console.log("=====my device=====",i.g.getMyDevice()))},this.setKeyPost=()=>{void 0!==this.input.key_protect&&i.g.setProtect(this.input.key_protect)},this.statusLogin=()=>{if(void 0!==this.input["login-status"]&&void 0!==this.input["login-status"].status_login&&"login#127"===this.input["login-status"].status_login){i.g.relogin_setStatus(!1),void 0!==this.input["login-status"].relogin&&"true"===this.input["login-status"].relogin&&i.g.relogin_setStatus(!0);var e=!0;if(void 0!==this.input.loadUserConfigDefault?Object(i.I)(this.input.loadUserConfigDefault):(e=!1,i.g.AppException("#system.statusLogin","loadUserConfigDefault is undefined","data")),void 0!==this.input.loadUserConfig?(Object(i.H)(this.input.loadUserConfig),void 0!==this.input.loadUserConfig.lang&&i.g.setLangKey(this.input.loadUserConfig.lang)):(e&&(e=!1),i.g.AppException("#system.statusLogin","loadUserConfig is undefined","data")),void 0!==this.input.pin&&void 0!==this.input.pin.hasPin&&"true"===this.input.pin.hasPin&&i.g.relogin_setHasPinCode(),void 0!==this.input.loadUserChatProfile&&i.g.profileUser_set(this.input.loadUserChatProfile),void 0!==this.input.loadRoleCache?Object(i.F)(this.input.loadRoleCache):(e&&(e=!1),i.g.AppException("#system.statusLogin","loadRoleCache is undefined","data")),void 0!==this.input.loadUserRole?Object(i.G)(this.input.loadUserRole):(e&&(e=!1),i.g.AppException("#system.statusLogin","loadUserRole is undefined","data")),void 0!==this.input.dyJs&&i.g.txBasic_add(this.input.dyJs),void 0!==this.input.loadUserID?(void 0!==this.input.loadUserID.id?Object(i.J)(this.input.loadUserID.id):(e&&(e=!1),i.g.AppException("#system.statusLogin","loadUserID[id] is undefined","data")),void 0!==this.input.loadUserID.user_id_find&&Object(i.K)(this.input.loadUserID.user_id_find)):(e&&(e=!1),i.g.AppException("#system.statusLogin","loadUserID is undefined","data")),p.startJob(),e)return d.a.unmountComponentAtNode(document.getElementById("root")),!0;i.g.AppException("#system.statusLogin","Login false","system")}this.gotoLogin()},this.loadScreenWorker=()=>{let e=i.g.template_getConfigTemplate(),t=null;void 0!==e.theme&&(t=e.theme),i.g.role_menuOfRole(),d.a.render(r.a.createElement(v.default,{template_select:e.template,screen_working:e.screen_working,theme:t}),document.getElementById("root"))},this.container=()=>{},this.data=()=>{for(var e in i.g.isDebug()&&(delete this.input.API_call,delete this.input.last_api_build,delete this.input.API_Result_),this.input)i.g.setData(e,this.input[e]);void 0!==this.input.c_cdlist&&i.g.data_buildCdListQuick(this.input.c_cdlist)},this.addData=()=>{Object(i.z)(this.input)},this.showError=()=>{if(void 0!==this.context&&void 0!==this.context.infoA&&void 0!==this.context.infoA.key_form){var e=i.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e&&e.hasOwnProperty("showErrorFromServer")&&e.showErrorFromServer(this.input.infoError)}},this.buildContext=()=>{void 0!==this.input.context&&Object(i.f)(this.input.context);let e=i.g.jcontextGetAll();for(let t=0;t<e.length;t++)e[t].hasOwnProperty("fo_call")&&e[t].fo_call()},this.sliderbarCallForm=()=>{var e={};void 0!==this.input.data&&(e=this.input.data),void 0!==this.input.form_code?Object(m.a)(this.input,{},{},{},e):i.g.AppException("#system.sliderbarCallForm","form_code is undefined","system")},this.buildObjectMarkdown=()=>{i.g.markdown_set(new window.SimpleMDE({promptURLs:!0,spellChecker:!1,element:document.getElementById("markDownId"),status:!1,toolbar:!1}))},this.dyjsReadJavascript=()=>{i.g.txBasic_add(this.input.dyJs)}}}var y=b;class D extends s.a{}var A=D;class C extends s.a{constructor(){super(...arguments),this.copyThis=(e,t)=>{let a=i.g.getFormAppAuto(this.context.infoA.key_form).getData("");if(this.context.infoA.form_code!==t&&(a[t]=a[this.context.infoA.form_code]),void 0!==e){let t=e.split(";");for(let e=0;e<t.length;e++){let i=t[e].split("."),s=a;for(let e=0;e<i.length;e++)if(void 0!==s){const t=i[e];e+1===i.length?delete s[t]:s=s[t]}}}for(const i in a){let e=a[i];if("object"===typeof e&&!Array.isArray(e))for(const t in e)"object"===typeof e[t]&&Array.isArray(e[t])&&(a[t]=e[t])}return void 0!==t?Object(m.a)({form_code:t},{},{},{},a):Object(m.a)({form_code:this.context.infoA.form_code},{},{},{},a),!0},this.addnew=(e,t,a)=>{var s="true";if(void 0!==a&&(s=a),void 0!==e&&void 0!==t){var o=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==o){if(o.hasOwnProperty("callDirFromSupport")&&(o.callDirFromSupport("checkValidate",{},{}),o.hasOwnProperty("getFormValidate")&&!o.getFormValidate()))return o.callDirFromSupport("get",{list_component:e,list_view:t,inform:"true",checkError:s},{}),o.hasOwnProperty("getData")&&(this.input_action=i.g.analyticsTable(o.getData(""))),i.g.isDebug()&&(console.log(this.context.infoA.title+" return=>"+!o.getFormValidate()+" data=>",this.input_action),console.log("this.input_action=>",i.g.cloneJson(this.input_action))),!0}else i.g.AppException("#form.getData","form is undefined","system")}else i.g.AppException("#form.getData","parameter is undefined","system");return!1},this.clearError=()=>{if(void 0!==this.context.infoA)if(void 0!==this.context.infoA.key_form){var e=i.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e?(e.hasOwnProperty("setFormValidateFromFunctionClient")&&e.setFormValidateFromFunctionClient(!1),e.hasOwnProperty("callDirFromSupport")&&e.callDirFromSupport("clearError",{},{})):i.g.AppException("#form.clearError","form is undefined","system")}else i.g.AppException("#form.clearError","key_form is undefined","system");else i.g.AppException("#form.clearError","infoA is undefined","system")},this.clearForm=()=>{if(void 0!==this.context.infoA)if(void 0!==this.context.infoA.key_form){var e=i.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e?(e.hasOwnProperty("setFormValidateFromFunctionClient")&&e.setFormValidateFromFunctionClient(!1),e.hasOwnProperty("callDirFromSupport")&&(e.callDirFromSupport("clearError",{},{}),e.clearForm(),e.hasOwnProperty("setStatusToForm_AndRunRule")&&e.setStatusToForm_AndRunRule(6))):i.g.AppException("#form.clearForm","form is undefined","system")}else i.g.AppException("#form.clearForm","key_form is undefined","system");else i.g.AppException("#form.clearForm","infoA is undefined","system")},this.view=(e,t)=>{if(this.input_action={},void 0===t&&(t="AFGHkeyIndexWJ"),""===t.trim()&&(t="AFGHkeyIndexWJ"),void 0!==this.context.data)if(void 0!==this.context.data[e]){if(this.input_action.table_code=e,void 0!==this.context.data[e][t])return this.input_action.table_col_key=t,this.input_action[t]=this.context.data[e][t],!0;i.g.AppException("#form.view#1",t+" is undefined","system")}else i.g.AppException("#form.view#2",e+" is undefined","system");else i.g.AppException("#form.view#3","data is undefined","system");return!1},this.lookup_selected=()=>{if(void 0!==this.context.infoA_parent){var e=i.g.getFormAppAuto(this.context.infoA_parent.key_form);e.callDirFromSupport("setAdvanced",{codeHidden:this.context.infoA_parent.componentParent.codeHidden},this.context.data),e.callDirFromSupport("modalToggle",{codeHidden:this.context.infoA_parent.componentParent.codeHidden},{isClose:!0})}},this.reloadData=()=>{if(void 0!==this.context.infoA&&void 0!==this.context.infoA.key_form){var e=i.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e?e.hasOwnProperty("callDirFromSupport")&&e.callDirFromSupport("reload",{},{}):i.g.AppException("#form.reloadData","form is undefined","system")}},this.open=e=>{h.a.fo([{txcode:"#sys:fo-sys-sliderbarCallForm",input:{form_code:e}}],{})},this.confirm=(e,t)=>{let a={title:i.g.getLang(e),content:i.g.getLang(t||"sysConfirmDelContent")};var s=this.buildPackRollBack();return i.g.confirmInfo(a,[{name:"sysConfirmCancel",icon:"fa-floppy-o",color:"info",val:!1},{name:"sysConfirmOk",color:"primary",icon:"fa-floppy-o",val:!0}],s),"systemStop"},this.delete=(e,t)=>{if(this.input_action={},""===t.trim()&&(t="AFGHkeyIndexWJ"),void 0!==this.context.data)if(void 0!==this.context.data[e]){if(this.input_action.table_code=e,void 0!==this.context.data[e][t])return this.input_action.table_col_key=t,this.input_action[t]=this.context.data[e][t],!0;i.g.AppException("#form.delete",t+" is undefined","system")}else i.g.AppException("#form.delete",e+" is undefined","system");else i.g.AppException("#form.delete","data is undefined","system");return!1},this.dataToStore=()=>{i.g.findData_Update(this.input)},this.dataToForm=()=>{if(void 0!==this.context.infoA)if(void 0!==this.context.infoA.key_form){var e=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==e){if(e.hasOwnProperty("setFormValidateFromFunctionClient")&&e.setFormValidateFromFunctionClient(!1),e.hasOwnProperty("callDirFromSupport")){e.callDirFromSupport("clearError",{},{});var t=i.g.getDataOOPFormServer(this.input);if(void 0!==t)if(!1===Array.isArray(t))e.putDataAll_andSet(t,!0);else if(t.length>0)return void e.putDataAll_andSet(t[0],!0)}}else i.g.AppException("#form.dataToForm","form is undefined","system")}else i.g.AppException("#form.dataToForm","key_form is undefined","system");else i.g.AppException("#form.dataToForm","infoA is undefined","system")},this.findAndRemove=()=>{if(void 0!==this.input.data){var e=this.input.data;if(void 0!==e.table){var t=e.pk_col,a=e.table;if(void 0!==e[a]&&e[a].length>0){var s={};s[a]=e[a][0],i.g.deleteData(a,s,t)}}else i.g.AppException("#form.findAndRemove","table is undefined","system")}else i.g.AppException("#form.findAndRemove","data is undefined","system")},this.errorToForm=()=>{if(void 0!==this.input.errorJWebUI&&void 0!==this.input.errorJWebUI.count&&void 0!==this.context.infoA&&void 0!==this.context.infoA.key_form){var e=i.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e&&e.hasOwnProperty("setStatusToForm_AndRunRule")&&e.setStatusToForm_AndRunRule(this.input.errorJWebUI.count)}},this.update=(e,t,a)=>{var s="true";if(void 0!==a&&(s=a),void 0!==e&&void 0!==t){var o=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==o){if(o.hasOwnProperty("callDirFromSupport")&&o.hasOwnProperty("getFormValidate")&&(o.callDirFromSupport("checkValidate",{},{}),!o.getFormValidate()))return o.callDirFromSupport("get",{list_component:e,list_view:t,inform:"true",checkError:s},{}),o.hasOwnProperty("getData")&&(this.input_action=i.g.analyticsTable(o.getData(""))),i.g.isDebug()&&console.log(this.context.infoA.title+" return=>"+!o.getFormValidate()+" data=>",this.input_action),!0}else i.g.AppException("#form.update","form is undefined","system")}else i.g.AppException("#form.update","parameter is undefined","system")},this.returnTrue=()=>(this.input_action=this.input,!0),this.reopen=()=>{let e=this.context.infoA.key_form;i.g.removeForm(e),h.a.fo([{txcode:"#sys:fo-sys-sliderbarCallForm",input:{form_code:e}}],{})}}}var N=C;class M extends s.a{constructor(){super(...arguments),this.getDataForm=(e,t,a)=>{var s="true";if(a&&(s=a),void 0!==e&&void 0!==t){var o=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==o){if(o.hasOwnProperty("callDirFromSupport")){if("false"===a)return o.callDirFromSupport("get",{list_component:e,list_view:t,inform:"true",checkError:s},{}),this.input_action=o.getData(""),!0;if(o.callDirFromSupport("checkValidate",{},{}),o.hasOwnProperty("getFormValidate")&&o.hasOwnProperty("getData")&&!o.getFormValidate())return o.callDirFromSupport("get",{list_component:e,list_view:t,inform:"true",checkError:s},{}),this.input_action=o.getData(""),i.g.isDebug()&&console.log(this.context.infoA.title+" return=>"+!o.getFormValidate()+" data=>",this.input_action),!0}}else i.g.AppException("#formmin.getData","form is undefined","system")}else i.g.AppException("#formmin.getData","parameter is undefined","system");return!1},this.addnew=(e,t,a)=>{var s="true";if(void 0!==a&&(s=a),void 0!==e&&void 0!==t){var o=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==o){if(o.hasOwnProperty("callDirFromSupport")&&(o.callDirFromSupport("checkValidate",{},{}),o.hasOwnProperty("getFormValidate")&&o.hasOwnProperty("getData")&&!o.getFormValidate()))return o.callDirFromSupport("get",{list_component:e,list_view:t,inform:"true",checkError:s},{}),this.input_action=o.getData(""),i.g.isDebug()&&console.log(this.context.infoA.title+" return=>"+!o.getFormValidate()+" data=>",this.input_action),!0}else i.g.AppException("#formmin.getData","form is undefined","system")}else i.g.AppException("#formmin.getData","parameter is undefined","system");return!1},this.view=()=>{if(this.input_action={},void 0!==this.context.data){var e={};for(var t in this.context.data){var a=this.context.data[t];if(void 0!==a)for(var s in a)e[s]=a[s];break}return this.input_action=e,!0}return i.g.AppException("#formsql.view","data is undefined","system"),!1},this.update=(e,t,a)=>{var s="true";if(void 0!==a&&(s=a),void 0!==e&&void 0!==t){var o=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==o){if(o.hasOwnProperty("callDirFromSupport")&&o.hasOwnProperty("getFormValidate")&&(o.callDirFromSupport("checkValidate",{},{}),!o.getFormValidate()))return o.callDirFromSupport("get",{list_component:e,list_view:t,inform:"true",checkError:s},{}),o.hasOwnProperty("getData")&&(this.input_action=o.getData("")),i.g.isDebug()&&console.log(this.context.infoA.title+" return=>"+!o.getFormValidate()+" data=>",this.input_action),!0}else i.g.AppException("#formsql.update","form is undefined","system")}else i.g.AppException("#formsql.update","parameter is undefined","system")},this.dataToStoreSQL=e=>{if(void 0!==e&&void 0!==this.input&&void 0!==this.input.data&&void 0!==this.input.data[e])for(var t=this.input.data[e],a=0;a<t.length;a++){var s={};s[e]=t[a],i.g.addData(e,s)}},this.findToStoreSQL=(e,t)=>{if(void 0!==e&&void 0!==this.input&&void 0!==this.input.data&&void 0!==this.input.data[e])for(var a=this.input.data[e],s=0;s<a.length;s++){var o={};o[e]=a[s],i.g.updateData(e,o,t)}},this.delete=(e,t)=>(this.input_action={},void 0!==this.context.data?(this.input_action=this.context.data,this.input_action.table_code=e,this.input_action.pk_col=t,!0):(i.g.AppException("#formsql.view","data is undefined","system"),!1))}}var k=M;class E extends s.a{constructor(){super(...arguments),this.show=()=>{i.g.addDataChatNew(this.input)},this.sended=()=>{void 0!==this.input.data_chat&&i.g.setStatusChat(this.input)},this.assistant_sendError=()=>{var e=prompt(i.g.getLang("sysSendErrorCurrent"),i.g.getLang("sysSendErrorDesOfEndUser"));return null!=e?(this.input_action={feed_id:i.g.assistant_sendFeekError(),info_end_user:e},!0):"systemStop"}}}var x=E;class I extends s.a{constructor(){super(...arguments),this.masterDataStart=()=>{var e=this.supportMasterData();if(void 0!==e){var t="";void 0!==this.context.data&&void 0!==this.context.data[e.table]&&void 0!==this.context.data[e.table][e.pk]&&(t=this.context.data[e.table][e.pk]),""!==t&&i.g.ms_start(e.table,e.pk,t,this.context.infoA.key_form,this.context.infoA.form_code)}},this.saveOld=()=>{var e=this.supportMasterData();if(void 0!==e){var t=i.g.ms_getMasterData(this.context.infoA.key_form);if(void 0!==t&&void 0!==t.data_key_value){var a=i.g.findData(e.table,e.pk,t.data_key_value);if(void 0!==a){i.g.ms_saveOld(a,this.context.infoA.key_form);var s=i.g.getFormAppAuto(this.context.infoA.key_form);void 0!==s&&s.hasOwnProperty("checkMasterData")&&s.checkMasterData()}}}},this.readInfoFollow=()=>{var e={};void 0!==this.input&&void 0!==this.input.info_follow&&(e=this.input.info_follow);var t=i.g.getFormAppAuto(this.context.infoA.key_form);void 0!==t&&t.hasOwnProperty("readMasterDataInfo")&&t.readMasterDataInfo(e)},this.compareData=()=>{var e=this.supportMasterData();if(void 0!==e){var t=i.g.ms_getMasterData(this.context.infoA.key_form);if(void 0!==t){if(void 0!==t.data_key_value){var a=i.g.findData(e.table,e.pk,t.data_key_value);void 0!==a&&i.g.ms_saveNew(a,this.context.infoA.key_form)}var s=i.g.ms_getMasterData(this.context.infoA.key_form);if(void 0!==s&&void 0!==s.dataOld&&void 0!==s.dataNew){var o=s.dataOld[e.table],l=s.dataNew[e.table],n={old:{},new:{}};if(void 0!==o&&void 0!==l){var r=!1;for(var c in l)"AFGHTimeWJ"!==c&&"AFGHkeyTime"!==c&&(void 0!==o[c]?l[c]!==o[c]&&(n.old[c]=o[c],n.new[c]=l[c],r||(r=!0)):(n.old[c]=null,n.new[c]=l[c],r||(r=!0)));var d={};return d[e.table]=l,r&&(this.input_action={table:e.table,pk:e.pk,data_key_value:t.data_key_value,dataCompare:n,form_code:this.context.infoA.form_code,dataNew:{table:e.table,data:l},fo_reopen:[{txcode:"#sys:fo-sys-sliderbarCallForm",input:{form_code:this.context.infoA.form_code,data:d,table:e.table}}]}),i.g.ms_clearMasterData(this.context.infoA.key_form),r}}}}}}supportMasterData(){if(void 0!==this.context.infoA){var e=i.g.getConfigMasterOfComponent(this.context.infoA.form_code,this.context.componentConfigDefault.codeHidden);if(void 0!==e&&void 0!==e.config&&void 0!==e.config.isMasterData&&void 0!==e.config.privateKeyTableMasterData&&void 0!==e.config.tableMasterData&&"true"===e.config.isMasterData&&""!==e.config.privateKeyTableMasterData&&""!==e.config.tableMasterData)return{pk:e.config.privateKeyTableMasterData,table:e.config.tableMasterData}}}}var T=I,w=a(4);const O="full_name",S="status",F="language_default",j="avatar",L="lock_screen_image",z="current_password",R="new_password",U="confirm_new_password",P="current_PIN",V="new_PIN",Y="repeat_PIN",Q="name",B="status",H="lang",G="avatar",J="lock_screen_image";class q extends n.Component{constructor(e){var t,a;super(e),this.onChangeInputUserMap=(e,t)=>{let a=e.target.value,{stateData:i,userMap:s}=this.state,o=t.split(".");3===o.length&&(i.user_map.data[o[0]][o[2]].value=a,s[o[1]][o[2]]=a,this.setState({stateData:i,userMap:s}))},this.onSaveUserMap=e=>{let{userMap:t}=this.state;Object(u.b)([{txcode:"#sys:bo-save-userMap",input:t}],{}).then(e=>{let t=i.g.foGetData("info",e);t&&("saveUserMapOk"===t.saveUserMap?this.pushNotification(t.saveUserMap,!0):this.pushNotification(t.saveUserMap,!1))})},this.changeKeyLanguage=e=>{let t={note:i.g.getLang("note"),full_name:i.g.getLang("myProfile_fullName"),avatar:i.g.getLang("myProfile_avatar"),bgre_login:i.g.getLang("myProfile_bgreLogin"),profile_app:i.g.getLang("myProfile_profileApp"),status:i.g.getLang("myProfile_status"),check_password:i.g.getLang("myProfile_checkPassword"),old_password:i.g.getLang("myProfile_oldPassword"),new_password:i.g.getLang("myProfile_newPassword"),new_password_again:i.g.getLang("myProfile_newPasswordAgain"),pin_present:i.g.getLang("myProfile_pinPresent"),new_pin:i.g.getLang("myProfile_newPin"),new_pin_again:i.g.getLang("myProfile_newPinAgain"),title_:i.g.getLang("myProfile_title"),des_:i.g.getLang("myProfile_des"),btn_save:i.g.getLang("btn_save"),btn_clear:i.g.getLang("btn_clear"),btn_update:i.g.getLang("myProfile_btnUpdate"),btn_submit:i.g.getLang("myProfile_btnSubmit"),msg_old_pass:i.g.getLang("myProfile_msgOldPass"),msg_new_pass:i.g.getLang("myProfile_msgNewPass"),msg_new_pass_emtry:i.g.getLang("myProfile_msgNewPassEmtry"),msg_old_pin:i.g.getLang("myProfile_msgOldPIN"),msg_new_pin:i.g.getLang("myProfile_msgNewPIN"),msg_new_pin_emtry:i.g.getLang("myProfile_msgNewPINEmtry"),hub:i.g.getLang("myProfile_tabHub"),o9:i.g.getLang("myProfile_tabO9"),username:i.g.getLang("myProfile_username"),password:i.g.getLang("myProfile_password"),tabUserInfo:i.g.getLang("myProfile_tabUserInfo"),tabPassword:i.g.getLang("myProfile_tabPassword"),tabPIN:i.g.getLang("myProfile_tabPIN"),tabUserMap:i.g.getLang("myProfile_tabUserMap"),myProfile_twoPINNotEqual:i.g.getLang("myProfile_twoPINNotEqual"),myProfile_newPINRequire:i.g.getLang("myProfile_newPINRequire"),myProfile_curPINRequire:i.g.getLang("myProfile_curPINRequire"),myProfile_confirmPINRequire:i.g.getLang("myProfile_confirmPINRequire"),myProfile_currentPassRequire:i.g.getLang("myProfile_currentPassRequire"),myProfile_repeatPassRequire:i.g.getLang("myProfile_repeatPassRequire"),myProfile_newPassRequire:i.g.getLang("myProfile_newPassRequire"),myProfile_twoPassNotEqual:i.g.getLang("myProfile_twoPassNotEqual"),changePassInvalidOldPass:i.g.getLang("changePassInvalidOldPass")};if(void 0!==e)return t;let a=this.state.infoA;a.title=i.g.getLang("myProfile_title"),a.des=i.g.getLang("myProfile_des"),a.lang_form.vi=i.g.getLang("myProfile_title"),a.lang_form.en=i.g.getLang("myProfile_title"),this.setState({languages:t,infoA:a}),this.changeLanguageTemplate(t)},this.btnUpdateClickHandler=(e,t)=>{Object(u.b)([{txcode:"#sys:bo-save-myProfile",input:{chat:this.state.chat,profile_app:this.getProfileAppData(),pass_old:"",pass_new_1:"",pass_new_2:""}}],{}).then(e=>{let t=i.g.foGetData("info",e);void 0!==t&&void 0!==t.saveProfile&&this.pushNotification(t.saveProfile,"saveProfileOk"===t.saveProfile)},e=>{console.log("error",e)}).catch(e=>{console.log("error catch",e)})},this.pushNotification=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a={},s=i.g.getLang(e);a={class_:!0===t?"success":"error",icon:"fa fa-check",title:s,time:(new Date).getTime()+"",description:s,data:{},action:{}},i.g.pushNotify("notifyToast",a,{}),i.g.pushNotify("notifyDefault",a,{}),i.g.callAllScreenListen()},this.btnSavePassClickHandler=(e,t)=>{let a=this.getValueInput(z),s=this.getValueInput(R),o=this.getValueInput(U);if(this.isValidPassword(a,s,o)){let e=[{txcode:"bo-change-password",input:{}}];e[0].input=Object.assign(e[0].input,{current_pass:a,new_pass:s,confirm_new_pass:o}),Object(u.b)(e,{}).then(e=>{var t,a;const s=i.g.foGetData("data",e)||{};let o=s.info;var l;(null===(t=s.api_info)||void 0===t?void 0:t.data.e)&&(o=null===(l=s.api_info)||void 0===l?void 0:l.data.e);let n=(null===(a=s.api_info)||void 0===a?void 0:a.data.t)||s.type;n?(this.btnClearClickHandler(),this.pushNotification(o,n)):"UMG_NEW_PWD_TOO_SHORT"===o?this.setErrorInput(R,o):(this.setErrorInput(z,o),this.pushNotification(o,"error"))})}},this.btnClearClickHandler=()=>{let{stateData:e}=this.state,{current_password:t,new_password:a,confirm_new_password:i}=this.state.stateData;t.dataFull.value="",t.dataFull.config.cmd.error.message="",a.dataFull.value="",a.dataFull.config.cmd.error.message="",i.dataFull.value="",i.dataFull.config.cmd.error.message="",this.setState({stateData:e})},this.btnSavePINClickHandler=e=>{let{stateData:t}=this.state,a=this.getValueInput(P),s=this.getValueInput(V),o=this.getValueInput(Y);this.isValidPIN(a,s,o)&&Object(u.b)([{txcode:"#sys:bo-change-PIN",input:{pin_old:a,pin_new_1:s,pin_new_2:o}}],{}).then(e=>{let a=i.g.foGetData("info",e);if(void 0!==a&&void 0!==a.savePin)switch(a.savePin){case"savePinOk":t.current_PIN.dataFull.config.cmd.visible=!0,t.current_PIN.dataFull.value="",t.new_PIN.dataFull.value="",t.repeat_PIN.dataFull.value="",this.pushNotification(a.savePin,!0),this.setState({stateData:t});break;case"savePinFalse":this.pushNotification(a.savePin,!1);break;case"incorrectPIN":this.pushNotification(a.savePin,!1),this.setErrorInput(P,a.savePin)}},e=>{console.log("error",e)}).catch(e=>{console.log("error catch",e)})},this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})},this.onChangeValue=(e,t)=>{let{stateData:a}=this.state;a[t].dataFull.value=e.target.value,this.setState({stateData:a})},this.onChangeValueSelect=(e,t,a)=>{let{stateData:i}=this.state;if(void 0!==i[a]){let e=[],s=[];e=i[a].dataFull.data.filter(e=>e.selected),s=i[a].dataFull.data.filter((e,a)=>a===t),e.length>0&&(e[0].selected=!1),s.length>0&&(s[0].selected=!0),this.setState({stateData:i})}},this.key_form="myProfile",this.notificationTimeOut=5e3,this.formRender=Object(w.b)("jwebui_myProfile"),this.LANGS=i.g.getConfigUser("list_lang_config"),this.list_lang_datafull=[];for(const i of this.LANGS)this.list_lang_datafull.push({title:i.view,value:i.key});let s={};void 0!==this.props.profile.chat&&(s=this.props.profile.chat);let o={};void 0!==this.props.profile.profile_app&&(o=this.props.profile.profile_app);let l=e.profile.user_map||{},n=this.changeKeyLanguage("start");this.state={userMap:l,chat:s,visibility:"",data_lang:i.g.getConfigUser("list_lang_config"),profile_app:o,check_password:"",infoA:{lang_form:{vi:i.g.getLang("myProfile_title"),en:i.g.getLang("myProfile_title")},title:"User information",des:"Thay \u0111\u1ed5i th\xf4ng tin ng\u01b0\u1eddi d\xf9ng!",openOne:"true",ofModal:!1},languages:n,show_toast:"snackbar",check_msg:!1,stateData:{form:{dataFull:{config:{default:{title:n.title_,title_sub:n.des_}},cmd:{visibility:""}}},tab:{data:(null===(t=Object.keys(e.profile.user_map))||void 0===t?void 0:t.length)?[{title:n.tabUserInfo},{title:n.tabPassword},{title:n.tabPIN},{title:n.tabUserMap}]:[{title:n.tabUserInfo},{title:n.tabPassword},{title:n.tabPIN}]},save_PIN:{dataFull:{config:{default:{title:n.btn_save,type:"primary",class:""}}},abs_Click:this.btnSavePINClickHandler},full_name:{dataFull:{config:{default:{title:n.full_name,type:"text",class:"col-md-12",code_form_component:O},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},value:o[Q]},abs_Change:this.onChangeValue},status:{dataFull:{config:{default:{title:n.status,type:"text",class:"col-md-12",code_form_component:S},cmd:{disable:!1,visible:!1,error:{message:"",type:""}}},value:o[B]},abs_Change:this.onChangeValue},language_default:{dataFull:{config:{default:{search:{placeholder:"Search"},data_status:"No result",title:n.profile_app,type:"text",class:"col-md-12",code_form_component:F},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},data:this.getConfigSelectItem(this.list_lang_datafull,o.lang)},abs_Change:this.onChangeValueSelect},avatar:{dataFull:{config:{default:{title:n.avatar,type:"text",class:"col-md-12",code_form_component:j},cmd:{disable:!1,visible:!1,error:{message:"",type:""}}},value:o[G]},abs_Change:this.onChangeValue},lock_screen_image:{dataFull:{config:{default:{title:n.bgre_login,type:"text",class:"col-md-12",code_form_component:L},cmd:{disable:!1,visible:!1,error:{message:"",type:""}}},value:o[J]},abs_Change:this.onChangeValue},update:{dataFull:{config:{default:{title:n.btn_update,type:"primary",class:"col-sm-2"}}},abs_Click:this.btnUpdateClickHandler},current_password:{dataFull:{config:{default:{title:n.old_password,type:"password",class:"col-md-12",code_form_component:z,required:!0},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:this.onChangeValue},new_password:{dataFull:{config:{default:{title:n.new_password,type:"password",class:"col-md-12",code_form_component:R,required:!0},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:this.onChangeValue},confirm_new_password:{dataFull:{config:{default:{title:n.new_password_again,type:"password",class:"col-md-12",code_form_component:U,required:!0},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:this.onChangeValue},save:{dataFull:{config:{default:{title:n.btn_save,type:"primary",class:""}}},abs_Click:this.btnSavePassClickHandler},clear:{dataFull:{config:{default:{title:n.btn_clear,type:"",class:""}}},abs_Click:this.btnClearClickHandler},current_PIN:{dataFull:{config:{default:{title:n.pin_present,type:"password",class:"col-md-12",code_form_component:P,required:!0},cmd:{disable:!1,visible:!0===(null===(a=this.props.profile)||void 0===a?void 0:a.isHasPin),error:{message:"",type:""}}},value:""},abs_Change:this.onChangeValue},new_PIN:{dataFull:{config:{default:{title:n.new_pin,required:!0,type:"password",class:"col-md-12",code_form_component:V},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:this.onChangeValue},repeat_PIN:{dataFull:{config:{default:{title:n.new_pin_again,type:"password",class:"col-md-12",code_form_component:Y,required:!0},cmd:{disable:!1,visible:!0,error:{message:"",type:""}}},value:""},abs_Change:this.onChangeValue},user_map:this.getConfigUserMap(e.profile.user_map,n),button_user_map:{dataFull:{config:{default:{title:n.btn_save,type:"primary",class:""}}},abs_Click:this.onSaveUserMap}}}}getConfigSelectItem(){let e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(t=>({title:t.title,value:t.value,selected:t.value===e}))}getConfigUserMap(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{data:Object.keys(e).map((a,i)=>{var s;return{title:(null===(s=e[a])||void 0===s?void 0:s.app_name)||t[a]||a,id:i,username:{title:t.username,value:e[a].username,code_form_component:`${i}.${a}.username`,cmd:{error:{message:"",type:""}},abs_Change:this.onChangeInputUserMap},password:{title:t.password,value:e[a].password,code_form_component:`${i}.${a}.password`,cmd:{error:{message:"",type:""}},abs_Change:this.onChangeInputUserMap}}})}}changeLanguageTemplate(e){let{stateData:t}=this.state;t.form.dataFull.config.default.title=e.title_,t.form.dataFull.config.default.title_sub=e.des_,t.full_name.dataFull.config.default.title=e.full_name,t.status.dataFull.config.default.title=e.status,t.language_default.dataFull.config.default.title=e.profile_app,t.avatar.dataFull.config.default.title=e.avatar,t.lock_screen_image.dataFull.config.default.title=e.bgre_login,t.update.dataFull.config.default.title=e.btn_update,t.current_password.dataFull.config.default.title=e.old_password,t.new_password.dataFull.config.default.title=e.new_password,t.confirm_new_password.dataFull.config.default.title=e.new_password_again,t.save.dataFull.config.default.title=e.btn_save,t.clear.dataFull.config.default.title=e.btn_clear,t.current_PIN.dataFull.config.default.title=e.pin_present,t.new_PIN.dataFull.config.default.title=e.new_pin,t.repeat_PIN.dataFull.config.default.title=e.new_pin_again,t.save_PIN.dataFull.config.default.title=e.btn_save,t.tab.data[0].title=e.tabUserInfo,t.tab.data[1].title=e.tabPassword,t.tab.data[2].title=e.tabPIN,t.tab.data.length>3&&(t.tab.data[3].title=e.tabUserMap),Object.keys(this.props.profile.user_map).forEach((a,i)=>{t.user_map.data[i].title=e[a]||a,t.user_map.data[i].username.title=e.username,t.user_map.data[i].password.title=e.password}),t.button_user_map.dataFull.config.default.title=e.btn_save,t.current_password.dataFull.config.cmd.error.message=e[t.current_password.dataFull.config.cmd.error.titleLang],t.new_password.dataFull.config.cmd.error.message=e[t.new_password.dataFull.config.cmd.error.titleLang],t.confirm_new_password.dataFull.config.cmd.error.message=e[t.confirm_new_password.dataFull.config.cmd.error.titleLang],t.current_PIN.dataFull.config.cmd.error.message=e[t.current_PIN.dataFull.config.cmd.error.titleLang],t.new_PIN.dataFull.config.cmd.error.message=e[t.new_PIN.dataFull.config.cmd.error.titleLang],t.repeat_PIN.dataFull.config.cmd.error.message=e[t.repeat_PIN.dataFull.config.cmd.error.titleLang],this.setState({stateData:t})}getConfigTemplate(){}isValidPassword(e,t,a){let i=!1;return""===e?this.setErrorInput(z,"myProfile_currentPassRequire"):this.clearErrorInput(z),""===t?this.setErrorInput(R,"myProfile_newPassRequire"):this.clearErrorInput(R),""===a?this.setErrorInput(U,"myProfile_repeatPassRequire"):this.clearErrorInput(U),""!==e&&""!==t&&""!==a&&(t!==a?(this.setErrorInput(R," "),this.setErrorInput(U,"myProfile_twoPassNotEqual")):i=!0),i}isValidPIN(e,t,a){let i=!1;return""===e&&!0===this.props.profile.isHasPin?this.setErrorInput(P,"myProfile_curPINRequire"):this.clearErrorInput(P),""===t?this.setErrorInput(V,"myProfile_newPINRequire"):this.clearErrorInput(V),""===a?this.setErrorInput(Y,"myProfile_confirmPINRequire"):this.clearErrorInput(Y),""===e&&this.props.profile.isHasPin||""===a||""===t||(a!==t?(this.setErrorInput(V," "),this.setErrorInput(Y,"myProfile_twoPINNotEqual")):""===e&&!0===this.props.profile.isHasPin?this.setErrorInput(P,"myProfile_curPINRequire"):(this.clearErrorInput(P),i=!0)),i}getProfileAppData(){var e;let{profile_app:t}=this.state;return t[Q]=this.getValueInput(O),t[B]=this.getValueInput(S),t[H]=null===(e=this.getValueDropdown(F)[0])||void 0===e?void 0:e.value,t[G]=this.getValueInput(j),t[J]=this.getValueInput(L),t}render(){const e=this.formRender;return r.a.createElement("div",{style:{display:this.state.visibility}},r.a.createElement(e,{stateData:this.state.stateData}))}componentDidMount(){i.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),i.g.form_addMapping(this.key_form,this.props.mapping_key)}getValueInput(e){return this.state.stateData[e].dataFull.value}getValueDropdown(e){return this.state.stateData[e].dataFull.data.filter(e=>void 0!==e.selected&&!0===e.selected)}setErrorInput(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",{stateData:a}=this.state;a[e].dataFull.config.cmd.error.message=this.state.languages[t],a[e].dataFull.config.cmd.error.titleLang=t,this.setState({stateData:a})}clearErrorInput(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",{stateData:t}=this.state;t[e].dataFull.config.cmd.error.message="",t[e].dataFull.config.cmd.error.titleLang="",this.setState({stateData:t})}}var W=q;class K extends n.Component{constructor(e){super(e),this.getTXName=e=>{let t=e.type,a=e.trace,i="";var s;if("request"===t)i=(null===a||void 0===a||null===(s=a[0])||void 0===s?void 0:s.txcode)||"--";else if("response"===t){var o,l,n;i=(null===a||void 0===a||null===(o=a.ob_all_fo)||void 0===o||null===(l=o.fo)||void 0===l||null===(n=l[0])||void 0===n?void 0:n.txcode)||"--"}let r=["bo-load-txFo","fo-container","fo-msg-toast","-load-"];for(const c of r)i.includes(c)&&(i="---");return i},this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})},this.key_form="mangerFeedback";let t=this.props.feedback;for(let a=0;a<t.length;a++)if(void 0!==t[a].feedback.feed_id){t[a].feedback.feed_id_data=[];let e=t[a].feedback.feed_id.split(";");for(let i=0;i<e.length;i++)t[a].feedback.feed_id_data.push({feed_id:e[i]})}this.key_feedback_color={aa:"#ffffff"},this.state={visibility:"",data:t,infoA:{title:"Qu\u1ea3n tr\u1ecb ph\u1ea3n h\u1ed3i ng\u01b0\u1eddi d\xf9ng",des:"\u0110\u01a1n gi\u1ea3n h\xf3a d\u1eef li\u1ec7u y\xeau c\u1ea7u h\u1ed7 tr\u1ee3 l\u1ed7i c\u1ee7a ng\u01b0\u1eddi d\xf9ng, n\u1ebfu IT c\xf3 trong tay d\u1eef li\u1ec7u ng\u01b0\u1eddi d\xf9ng \u0111\xe3 thao t\xe1c!",openOne:"true",ofModal:!1},icon_copy:"fa-clone",icon_default:"fa-clipboard",index_select_copy:"aa"}}fortmatDateOfFeedback(e){let t=new Date(e);return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+"->"+t.getMilliseconds()}createRamdomColor_keyFeedback(e){if(void 0===this.key_feedback_color[e]){var t=this.createRandomColor();let a=JSON.stringify(this.key_feedback_color);for(;a.includes(t);)t=this.createRandomColor();this.key_feedback_color[e]=t}return this.key_feedback_color[e]}createRandomColor(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}renderTableDetailFeedId(e,t){return void 0!==e.feed_detail&&e.feed_detail.map((e,a)=>r.a.createElement("tr",{key:a},r.a.createElement("td",null,e.form_name),r.a.createElement("td",null,e.from_action_name),r.a.createElement("td",{style:{backgroundColor:this.createRamdomColor_keyFeedback(e.key_feedback),color:"#ffffff"}},r.a.createElement("i",{className:"fa "+("request"===e.type?"fa-paper-plane":"fa-download"),"aria-hidden":"true"}),"\xa0",e.type,"\xa0",this.getTXName(e)),r.a.createElement("td",null,r.a.createElement("i",{style:{color:"#83c76d",cursor:"pointer"},className:"fa "+(this.state.index_select_copy===t+"-"+a?this.state.icon_copy:this.state.icon_default),onClick:s=>{i.g.copyToClipboard(JSON.stringify(e.trace));let o=t+"-"+a;this.setState({index_select_copy:o})}}),"\xa0",r.a.createElement("i",{style:{color:"#83c76d",cursor:"pointer"},className:"fa "+(this.state.index_select_copy===t+"-"+a?this.state.icon_copy:"fa-key"),onClick:s=>{i.g.copyToClipboard(e.key_feedback);let o=t+"-"+a;this.setState({index_select_copy:o})}})),r.a.createElement("td",null,this.fortmatDateOfFeedback(e.time))))}render(){const e=Object(w.a)("uForm");return r.a.createElement(e,{dataFull:{config:{default:{title:"Feedback Managerment"}},cmd:{visibility:"block"===this.state.visibility}}},r.a.createElement("div",{className:"form-style",style:{display:this.state.visibility}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},r.a.createElement("div",{className:"prtm-block"},r.a.createElement("div",{className:"prtm-block-title mrgn-b"},r.a.createElement("h3",null,this.state.infoA.title),r.a.createElement("p",null,r.a.createElement("span",{className:"note-box bg-danger"},"Note !"),this.state.infoA.des)),r.a.createElement("div",{className:"row full-lg-md"},r.a.createElement("div",{style:{marginBottom:20}},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-bordered table-middle jwebui-table-email-myDevice"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"bg-info base-reverse"},r.a.createElement("th",null,"\u1ee8ng d\u1ee5ng"),r.a.createElement("th",null,"Ng\xe0y l\u01b0u"),r.a.createElement("th",null,"Ng\u01b0\u1eddi d\xf9ng \xfd ki\u1ebfn"),r.a.createElement("th",null,"Danh s\xe1ch m\xe3 g\xf3i tin"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.data.map((e,t)=>r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.feedback.app),r.a.createElement("td",null,e.feedback.dayOfYear),r.a.createElement("td",null,e.feedback.info_end_user),r.a.createElement("td",null,r.a.createElement("table",{key:t,className:"table table-bordered table-middle jwebui-table-email-myDevice"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"bg-info base-reverse"},r.a.createElement("th",null,"Form name"),r.a.createElement("th",null,"Action"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null),r.a.createElement("th",null,"Time"))),r.a.createElement("tbody",null,e.feedback.feed_id_data.map((e,t)=>this.renderTableDetailFeedId(e,t))))),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-danger",type:"button",onClick:e=>{}},"X\xf3a"),r.a.createElement("button",{className:"btn btn-danger",type:"button",onClick:a=>{Object(u.b)([{txcode:"#sys:bo-feedback-loadFeedbackDetail",input:{feedback:e.feedback}}],{}).then(a=>{if(console.log("result",a),void 0!==a.fo&&a.fo.length>0&&void 0!==a.fo[0].input&&void 0!==a.fo[0].input.feedback){let i=a.fo[0].input.feedback;if(void 0!==e.feedback.feed_id_data){let a=e.feedback.feed_id_data;for(let e=0;e<a.length;e++)if(void 0!==i[a[e].feed_id]){let t=i[a[e].feed_id];a[e].feed_detail=[];for(let i=0;i<t.length;i++)for(let s in t[i]){let o=t[i][s];a[e].feed_detail.push(o)}}let s=this.state.data,o=e;o.feedback.feed_id_data=a,s[t]=o,this.setState({data:s})}}},e=>{})}},"T\u1ea3i chi ti\u1ebft"))))))))))))))," ")}componentDidMount(){i.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),i.g.form_addMapping(this.key_form,this.props.mapping_key)}}var Z=K;class X extends s.a{constructor(){super(...arguments),this.loadFormMyProfile=()=>{var e=i.g.autoID(),t={};void 0!==this.input.profile&&(t=this.input.profile),i.g.newForm(r.a.createElement(n.Suspense,{key:e,fallback:Object(w.c)()},r.a.createElement(W,{key:e,mapping_key:e,profile:t})))},this.loadMangerFeedback=()=>{var e=i.g.autoID(),t={};void 0!==this.input.feedback&&(t=this.input.feedback),i.g.newForm(r.a.createElement(Z,{key:e,mapping_key:e,feedback:t}))}}}var $=X;class ee extends s.a{constructor(){super(...arguments),this.developer=()=>{},this.setOOPThis=()=>{i.g.getFormAppAuto(this.context.infoA.key_form).callDirFromSupport("setDataOOP",{codeHidden:this.context.componentConfigDefault.codeHidden},this.input.account)}}}var te=ee;class ae extends s.a{constructor(){var e;super(...arguments),e=this,this.confirm=()=>{var e,t;const{infoA:a,componentConfigDefault:s}=this.context;let o;i.g.getFormAppAuto(a.key_form).props.conf.forEach(e=>{if(o)return;e.list_view.forEach(e=>{if(o)return;e.list_input.forEach(e=>{if(!o&&"cTableDefault"===e.inputtype){let t=i.g.parseJson(e.config.columns);o=t[0]}})})});let l=s.name||s.code,n=(null===(e=a.title)||void 0===e?void 0:e.slice(0,a.title.lastIndexOf(" ")))||(null===(t=a.des)||void 0===t?void 0:t.slice(0,a.title.lastIndexOf(" "))),r=i.g.getLang("sysConfirmContent");r=r.replace("@button_action",i.g.getLang(l.toLowerCase())),r=r.replace("@table",n),r=r.replace("@col",o.title),r=r.replace("@val",i.g.getOOP(this.context.data,o.code));let c={title:i.g.getLang(l),content:r};var d=this.buildPackRollBack();return i.g.confirmInfo(c,[{name:"sysConfirmCancel",icon:"fa-floppy-o",color:"warning",val:!1},{name:"sysConfirmOk",color:"primary",icon:"fa-floppy-o",val:!0,keyboard:{enter:!0}}],d),"systemStop"},this.addnew=(e,t,a)=>{let s,o=this.context.infoA_parent;if(o&&o.key_form){let e=i.g.getFormAppAuto(o.key_form);e.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:!1},{}),e.hasOwnProperty("getData")&&(s=i.g.analyticsTable(e.getData("")))}var l="true";if(void 0!==a&&(l=a),void 0!==e&&void 0!==t){var n=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==n){if(n.hasOwnProperty("callDirFromSupport")&&(n.callDirFromSupport("checkValidate",{},{}),n.hasOwnProperty("getFormValidate")&&!n.getFormValidate()))return n.callDirFromSupport("get",{list_component:e,list_view:t,inform:"true",checkError:l},{}),n.hasOwnProperty("getData")&&(this.input_action=i.g.analyticsTable(n.getData("")),s&&(this.input_action=Object.assign(s,this.input_action))),i.g.isDebug()&&console.log(this.context.infoA.title+" return=>"+!n.getFormValidate()+" data=>"+JSON.stringify(this.input_action)),!0}else i.g.AppException("#form.getData","form is undefined","system")}else i.g.AppException("#form.getData","parameter is undefined","system");return!1},this.addnewSearch=(e,t,a)=>{let s={},o=this.context.infoA.key_form;do{var l;let e=i.g.getFormAppAuto(o),t=null===(l=e.props.infoA_parent)||void 0===l?void 0:l.key_form;e.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:!1},{});let a=i.g.cloneJson(e.getData(""));s=Object.assign(a,s),o=t}while(o);var n="true";if(void 0!==a&&(n=a),void 0!==e&&void 0!==t){var r=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==r){if(r.hasOwnProperty("callDirFromSupport")&&(r.callDirFromSupport("checkValidate",{},{}),r.hasOwnProperty("getFormValidate")&&!r.getFormValidate())){if(r.callDirFromSupport("get",{list_component:e,list_view:t,inform:"true",checkError:n},{}),r.hasOwnProperty("getData")){let e=r.getData(""),t={};for(const a in e)e.hasOwnProperty(a)&&(Number.isInteger(Number(a))||Array.isArray(e[a])||(t[a]=e[a]));this.input_action=i.g.analyticsTable(t),s&&(this.input_action=Object.assign(s,this.input_action))}return i.g.isDebug()&&console.log(this.context.infoA.title+" return=>"+!r.getFormValidate()+" data=>"+JSON.stringify(this.input_action)),!0}}else i.g.AppException("#form.getData","form is undefined","system")}else i.g.AppException("#form.getData","parameter is undefined","system");return!1},this.clearError=()=>{if(void 0!==this.context.infoA)if(void 0!==this.context.infoA.key_form){var e=i.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e?(e.hasOwnProperty("setFormValidateFromFunctionClient")&&e.setFormValidateFromFunctionClient(!1),e.hasOwnProperty("callDirFromSupport")&&e.callDirFromSupport("clearError",{},{})):i.g.AppException("#form.clearError","form is undefined","system")}else i.g.AppException("#form.clearError","key_form is undefined","system");else i.g.AppException("#form.clearError","infoA is undefined","system")},this.clearForm=()=>{if(void 0!==this.context.infoA)if(void 0!==this.context.infoA.key_form){var e=i.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e?(e.hasOwnProperty("setFormValidateFromFunctionClient")&&e.setFormValidateFromFunctionClient(!1),e.hasOwnProperty("callDirFromSupport")&&(e.callDirFromSupport("clearError",{},{}),e.clearForm(),e.hasOwnProperty("setStatusToForm_AndRunRule")&&e.setStatusToForm_AndRunRule(6))):i.g.AppException("#form.clearForm","form is undefined","system")}else i.g.AppException("#form.clearForm","key_form is undefined","system");else i.g.AppException("#form.clearForm","infoA is undefined","system")},this.view=e=>{if(void 0!==this.input[e])return Object(m.a)({form_code:this.input.form_key},{},{},{},this.input[e]),!0},this.reloadData=()=>{if(void 0!==this.context.infoA&&void 0!==this.context.infoA.key_form){var e=i.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e?e.hasOwnProperty("reload")&&e.reload():i.g.AppException("#form.reloadData","form is undefined","system")}},this.setDataInform=()=>{if(void 0!==this.context.infoA&&void 0!==this.context.infoA.key_form){var e=i.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e?e.putDataAll_andSet(this.input):i.g.AppException("#form.reloadData","form is undefined","system")}},this.addDataSelected=(e,t)=>void 0!==e&&""!==e.trim()&&(void 0!==this.context.data&&void 0!==this.context.data[e]&&(this.input_action={},this.input_action.table_code=e,this.input_action.table_col_key=t,this.input_action[e]=this.context.data[e],i.g.log("this.input_action",this.input_action),!0)),this.addSelected=()=>(this.input_action=this.context.data,!0),this.delete=function(){return e.input_action=e.context.data,!0},this.dataToStore=()=>{i.g.findData_Update(this.input)},this.dataToForm=async()=>{if(void 0!==this.context.infoA)if(void 0!==this.context.infoA.key_form){var e=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==e){if(e.hasOwnProperty("setFormValidateFromFunctionClient")&&e.setFormValidateFromFunctionClient(!1),e.hasOwnProperty("callDirFromSupport")){delete this.input.API_call,delete this.input.last_api_build,delete this.input.API_Result_;let a="";void 0!==this.input.config_table&&void 0!==this.input.config_table.learn_api_data&&(a=this.input.config_table.learn_api_data);var t=i.g.getDataOOPFormServer(this.input,a);let s=t[this.context.infoA.key_form];for(const e in s){const a=s[e];if(Array.isArray(a)){let i=[];for(let t=0;t<a.length;t++){const s=a[t];"object"===typeof s[e]?i.push(s):i.push({[e]:s})}t[e]=i}}let o=this.context.infoA.learnapi.split(";"),l=i.g.cloneJson(t),n=e.getData(),r={};for(const e in n)"object"!==typeof n[e]||Array.isArray(!n[e])||(r[e]=Object.assign(i.g.cloneJson(n[e]),i.g.cloneJson(t[e]||{})));for(const e of o)e.trim()&&await this.callAPI(e,r).then(e=>{for(const t in e){const a=e[t];if(Array.isArray(a))for(const i in a)e[t][i]={[t]:e[t][i]}}for(const t in e)if(void 0===l[t])l[t]=e[t];else{const a=e[t];for(const e in a)l[t][e]=a[e]}});for(const e in l)if(l.hasOwnProperty(e)){"object"!==typeof l[e]&&delete l[e]}if(void 0!==l)if(!1===Array.isArray(l))e.putDataAll_andSet(l);else if(l.length>0)return void e.putDataAll_andSet(l[0])}}else i.g.AppException("#form.dataToForm","form is undefined","system")}else i.g.AppException("#form.dataToForm","key_form is undefined","system");else i.g.AppException("#form.dataToForm","infoA is undefined","system")},this.findAndRemove=()=>{if(void 0!==this.input.data){var e=this.input.data;if(void 0!==e.table){var t=e.pk_col,a=e.table;if(void 0!==e[a]&&e[a].length>0){var s={};s[a]=e[a][0],i.g.deleteData(a,s,t)}}else i.g.AppException("#form.findAndRemove","table is undefined","system")}else i.g.AppException("#form.findAndRemove","data is undefined","system")},this.update=(e,t,a)=>{var s="true";if(void 0!==a&&(s=a),void 0!==e&&void 0!==t){var o=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==o){if(o.hasOwnProperty("callDirFromSupport")&&o.hasOwnProperty("getFormValidate")&&(o.callDirFromSupport("checkValidate",{},{}),!o.getFormValidate()))return o.callDirFromSupport("get",{list_component:e,list_view:t,inform:"true",checkError:s},{}),o.hasOwnProperty("getData")&&(this.input_action=i.g.analyticsTable(o.getData(""))),i.g.isDebug()&&console.log(this.context.infoA.title+" return=>"+!o.getFormValidate()+" data=>",this.input_action),!0}else i.g.AppException("#form.update","form is undefined","system")}else i.g.AppException("#form.update","parameter is undefined","system")},this.addErrorAPI=()=>{},this.callAPI=(e,t)=>{var a=[{txcode:"#sys:bo-rule-getInfoAPI",input:{learn_api:e}}];return a[0].input=Object.assign(a[0].input,t),Object(u.b)(a,{}).then(e=>i.g.foGetData("data",e))}}}var ie=ae;class se extends s.a{constructor(){super(...arguments),this.addNew=(e,t,a)=>{if(e&&t){var s=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==s){s.callDirFromSupport("get",{list_component:"*",list_view:"*",inform:"true"},{});let a=s.getData(""),o=a[e]||{},l=i.g.getNodeJson(a,t)||[];if(void 0===o.AFGHkeyIndexWJ)o.AFGHkeyIndexWJ=i.g.autoID(),l.push({[e]:o}),a=i.g.setNodeJson(a,t,l),s.putDataAll_andSet(a),s.reload();else{for(let t=0;t<l.length;t++){l[t][e].AFGHkeyIndexWJ===o.AFGHkeyIndexWJ&&(l[t]={[e]:o})}s.putDataAll_andSet(a),s.reload()}return!0}i.g.AppException("#form.formChil","form is undefined","system")}else i.g.AppException("#form.formChil","parameter is undefined","system");return!1},this.add=(e,t,a)=>{if(e&&t){let r=t.split(".");const c=r[r.length-1];var s=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==s){var o;s.callDirFromSupport("get",{list_component:"*",list_view:"*",inform:"true"},{});let r=s.getData(""),d=i.g.cloneJson(r[e])||{};i.g.deleteNodeJson(d,(null===(o=t.split("."))||void 0===o?void 0:o[1])||t);let m=i.g.getNodeJson(r,t)||[];if(a){if(""===d[a]||null===d[a]||void 0===d[a])return;for(const e of m){var l;if(i.g.getNodeJson(e,(null===(l=t.split("."))||void 0===l?void 0:l[1])||t)[a]===d[a]){var n;d.AFGHkeyIndexWJ=i.g.getNodeJson(e,(null===(n=t.split("."))||void 0===n?void 0:n[1])||t).AFGHkeyIndexWJ;break}}}if(void 0===d.AFGHkeyIndexWJ)d.AFGHkeyIndexWJ=i.g.autoID(),m.push({[c]:i.g.cloneJson(d)}),r=i.g.setNodeJson(r,t,m),s.putDataAll_andSet(r),s.reload();else{for(let e=0;e<m.length;e++){const t=m[e];Object.values(t)[0].AFGHkeyIndexWJ===d.AFGHkeyIndexWJ&&(m[e]={[c]:i.g.cloneJson(d)})}s.putDataAll_andSet(r),s.reload()}return!0}i.g.AppException("#form.formChil","form is undefined","system")}else i.g.AppException("#form.formChil","parameter is undefined","system");return!1},this.clear=e=>{if(e){var t=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==t){let a=t.getData("");a[e]={},t.putDataAll_andSet(a),t.callDirFromSupport("clearError",{list_component:"*",list_view:"*",inform:"true"},{}),t.reload()}else i.g.AppException("#form.formChil","form is undefined","system")}else i.g.AppException("#form.formChil","parameter is undefined","system");return!1},this.select=e=>{if(e){var t=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==t){let a=t.getData("");a[e]=Object.values(this.context.data)[0],i.g.log(this.context.data,"this.context.data==> "),i.g.log(a,"data_form ==>"),t.putDataAll_andSet(a)}else i.g.AppException("#form.formChil.select","form is undefined","system")}else i.g.AppException("#form.formChil.select","parameter is undefined","system");return!1},this.delete=e=>{var t=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==t){let a=t.getData("");if(e.includes(".")){let t=e.split(".");a[t[0]][t[1]]=a[t[0]][t[1]].filter(e=>Object.values(e)[0].AFGHkeyIndexWJ!==Object.values(this.context.data)[0].AFGHkeyIndexWJ)}else a[e]=a[e].filter(e=>Object.values(e)[0].AFGHkeyIndexWJ!==Object.values(this.context.data)[0].AFGHkeyIndexWJ);t.putDataAll_andSet(a),t.reload()}},this.moveDataArray=(e,t,a)=>{var s=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==s){let a=s.getDataAll(""),i=a[e]||[],o=a[t]||[];if(Array.isArray(i)&&Array.isArray(o)){if(i=i.filter(e=>Object.values(e)[0].AFGHkeyIndexWJ!==Object.values(this.context.data)[0].AFGHkeyIndexWJ),0===o.length)o.push({[t]:Object.values(this.context.data)[0]});else{let e=Object.values(this.context.data)[0];const a=Object.values(o[0])[0];for(const t in e)void 0===(null===a||void 0===a?void 0:a[t])&&delete e[t];o.push({[t]:e})}a[e]=i,a[t]=o,s.putDataAll_andSet(a),s.reload()}}},this.moveAllDataArray=(e,t)=>{var a=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==a){let i=a.getData(""),s=i[e]||[],o=i[t]||[];if(Array.isArray(s)&&Array.isArray(o)){for(const e of s)if(0===o.length)o.push({[t]:Object.values(e)[0]});else{let a=Object.values(e)[0];const i=Object.values(o[0])[0];for(const e in a)void 0===(null===i||void 0===i?void 0:i[e])&&delete a[e];o.push({[t]:a})}i[t]=o,i[e].length=0,a.putDataAll_andSet(i),a.reload()}}},this.onClickButtonAdd=e=>{if(e){var t=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==t){let a=t.getData("");a[e]={},t.putDataAll_andSet(a),t.callDirFromSupport("clearError",{list_component:"*",list_view:"*",inform:"true"},{})}else i.g.AppException("#form.formChil","form is undefined","system")}else i.g.AppException("#form.formChil","parameter is undefined","system");return!1},this.onClickButtonApply=(e,t,a)=>{let s=i.g.getFormAppAuto(this.context.infoA.key_form);if(!s)return!1;s.callDirFromSupport("get",{list_component:"*",list_view:"*",inform:"true"},{});let o=s.getData(""),l=o[e]||{};delete l[t];let n=o[t]||[];if(a)for(const i of n)if(i[t][a]===l[a]){l.AFGHkeyIndexWJ=i[t].AFGHkeyIndexWJ;break}if(void 0===l.AFGHkeyIndexWJ)l.AFGHkeyIndexWJ=i.g.autoID(),n.push({[t]:i.g.cloneJson(l)}),o[t]=i.g.cloneJson(n);else{for(let e=0;e<n.length;e++){const a=n[e];if(Object.values(a)[0].AFGHkeyIndexWJ===l.AFGHkeyIndexWJ){n[e][t]=i.g.cloneJson(l);break}}o[t]=n}s.putDataAll_andSet(o)},this.onClickButtonRemove=e=>{var t=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==t){let a=t.getData("");a[e]=a[e].filter(e=>Object.values(e)[0].AFGHkeyIndexWJ!==Object.values(this.context.data)[0].AFGHkeyIndexWJ),t.putDataAll_andSet(a)}},this.onClickButtonModify=e=>{var t=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==t){let a=t.getData(""),i=Object.values(this.context.data)[0];a[e]=i,t.putDataAll_andSet(a)}}}}var oe=se;class le extends s.a{constructor(){super(...arguments),this.call=()=>{}}}var ne=le;class re extends s.a{constructor(){super(...arguments),this.addMsgSystem=()=>{void 0!==this.input.listMsgSystem&&this.input.listMsgSystem.length>0&&void 0!==this.input.listMsgSystem[0].MsgSystem&&Object(i.A)(!0,this.input.listMsgSystem[0].MsgSystem)}}}var ce=re;const de=(e,t)=>{if(""===t||void 0===t||null===t)return"&nbsp;";let a=e.mark,i="",s=[],o=0,l=t.length-1;if(void 0!==a){for(let e=a.length-1;e>=0;e--){const i=a[e];"#"===i?(s[o]=t[l],l--):s[o]=i,o++}for(let e=s.length-1;e>=0;e--)i+=s[e]}else i=t;return i},me=(e,t)=>{if(""===t||void 0===t||null===t)return"&nbsp;";let a="",i=t.replace(/[^0-9.]/g,""),s=!1;switch(e.decimal){case"1":a=parseFloat(i).toFixed(1),s=!0;break;case"2":a=parseFloat(i).toFixed(2),s=!0;break;case"3":a=parseFloat(i).toFixed(3),s=!0}if(s)switch(a=""+a,e.type){case"us":a=a.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");break;case"vn":a=a.replace(".",",").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")}return a},ue=(e,t)=>{if((""+e).includes("e")){var a=(""+e).split("e"),i="";return+a[1]+t>0&&(i="+"),+(Math.round(+a[0]+"e"+i+(+a[1]+t))+"e-"+t)}return+(Math.round(e+"e+"+t)+"e-"+t)};var he=class{constructor(){this.changeNumericToWords=(e,t,a,i,s)=>{let o=e.toString();return this.changeToWords(o,!1,t,a,i,s)},this.changeCurrencyToWords=(e,t,a,i,s)=>this.changeToWords(e,!0,t,a,i,s),this.changeCurrencyToWords=(e,t,a)=>this.changeToWords(e,!0,t,a,"",""),this.changeNumericToWords=(e,t,a,i,s)=>this.changeToWords(e,!1,t,a,i,s),this.changeCurrencyToWords=(e,t,a)=>this.changeToWords(e.toString(),!0,t,a,"",""),this.changeCurrencyToWords=(e,t,a,i,s)=>this.changeToWords(e.toString(),!0,t,a,i,s),this.changeToWords=(e,t,a,i,s,o)=>{let l="",n=e,r="",c="",d="",m=a;try{let a=e.indexOf(".");if(a>0){n=e.substring(0,a),parseFloat(n)<=1&&(m=i),r=e.substring(a+1),parseInt(r)>0?(c=t?"and":"point",d=this.translateWholeNumber(r)+this.translateNameCents(m)):(c="only",d="")}else c="only",d="";l=this.translateWholeNumber(n).trim()+" "+this.translateNameCurrency(m)+" "+c+" "+d,l=l.toLowerCase(),l=l.substring(0,1).toUpperCase()+l.substring(1,l.length),l=l.trim()}catch(u){}return l},this.translateNameCents=e=>{let t=" cent(s)";try{switch(e){case"THB":t=" satang"}}catch(a){}return t},this.translateNameCurrency=e=>{let t="";try{switch(e){case"USD":t="Dollars";break;case"KHR":t="Riels";break;case"THB":t="Baht";break;case"EUR":t="Euro";break;case"GBG":t="Pound Sterling";break;case"CNY":t="Yuan Renminbi";break;case"HKD":t="HongKongDollar";break;case"JPY":t="Yen";break;case"LAK":t="Kip";break;case"SGD":t="Singapore Dollar"}}catch(a){}return t.trim()},this.translateWholeNumber=e=>{let t="";try{let a=!1,i=!1;if(parseFloat(e)>0){a=e.startsWith("0");let s=e.length,o=0,l="";switch(s){case 1:t=this.ones(e),i=!0;break;case 2:t=this.tens(e),i=!0;break;case 3:o=s%3+1,l=" Hundred ";break;case 4:case 5:case 6:o=s%4+1,l=" Thousand ";break;case 7:case 8:case 9:o=s%7+1,l=" Million ";break;case 10:o=s%10+1,l=" Billion ";break;default:i=!0}if(!i){let i=this.translateWholeNumber(e.toString().substring(0,o));null!==i&&""!==i&&(i=this.translateWholeNumber(e.toString().substring(0,o))+l),t=i+this.translateWholeNumber(e.toString().substring(o)),a&&(t=t.trim())}t.trim().equals(l.trim())&&(t="")}}catch(a){}return t.trim()},this.tens=e=>{let t=parseInt(e),a="";switch(t){case 10:a="Ten";break;case 11:a="Eleven";break;case 12:a="Twelve";break;case 13:a="Thirteen";break;case 14:a="Fourteen";break;case 15:a="Fifteen";break;case 16:a="Sixteen";break;case 17:a="Seventeen";break;case 18:a="Eighteen";break;case 19:a="Nineteen";break;case 20:a="Twenty";break;case 30:a="Thirty";break;case 40:a="Forty";break;case 50:a="Fifty";break;case 60:a="Sixty";break;case 70:a="Seventy";break;case 80:a="Eighty";break;case 90:a="Ninety";break;default:t>0&&(a=this.tens(e.substring(0,1)+"0")+" "+this.ones(e.substring(1)))}return a},this.ones=e=>{let t="";switch(parseInt(e)){case 1:t="One";break;case 2:t="Two";break;case 3:t="Three";break;case 4:t="Four";break;case 5:t="Five";break;case 6:t="Six";break;case 7:t="Seven";break;case 8:t="Eight";break;case 9:t="Nine"}return t},this.translateCents=e=>{let t="";return null===e||0===e.length?t="00/100":1===e.length?t=e+"0/100":e.length<=2?t=e+"/100":3===e.length?t=e+"/1000":4===e.length&&(t=e+"/10000"),t}}},ge=a(9);const _e='<div style="padding-right:24px"></div>',pe='<div style="padding-right:14px"></div>';var fe=class{constructor(){this.checkRenderThead_O9=(e,t)=>{let a=this.ob_data[e.data]||[],i=!1;for(let s=0;s<a.length;s++)if("A3"!==a[s].prn){i=!0;break}return a.length>0&&i?"<div>Acc</div><div>Name</div><div>CRC</div><div>Amount DR</div><div>Amount CR</div>":""},this.getCUSTACNO_A1=(e,t)=>{let a=this.ob_data,i=a.txbody.str1,s="";return"PMT_IITT"!==a.txcode&&"PMT_IIT"!==a.txcode&&"PMT_IDT"!==a.txcode||(i=a.txbody.racno),"PMT_ODT"!==a.txcode&&"PMT_OIT"!==a.txcode&&"PMT_OITT"!==a.txcode||(i=a.txbody.sacno),""!==i&&void 0!==i||""===a.txbody.pdacc||void 0===a.txbody.pdacc||(i=a.txbody.pdacc),void 0!==i&&null!==i&&(i=i.replace("-",""),i=de({mark:"####-##-##-######-#"},i),"DPT_TRF"!==a.txcode&&"DPT_CDT"!==a.txcode||(s=a.txbody.pdoacc,s=s.replace("-",""),i+=_e+"Credit A/C No:  "+de({mark:"####-##-##-######-#"},s),i+=_e+a.txbody.cacnm2)),i||""},this.checkNumberZero=(e,t)=>0===t||"0"===t?"":me({decimal:"2",type:"us"},t.toString()),this.getTotal_A801=(e,t)=>{let a=this.ob_data,i=a.txbody.psamt||0,s=a.txbody.cfamt||0,o=a.txbody.cvat||0;return me({decimal:"2",type:"us"},ue(i+s+o,2).toString())},this.getTotal_A802=(e,t)=>{let a=this.ob_data,i=a.txbody.pramt||0,s=a.txbody.cfamt||0,o=a.txbody.cvat||0;return me({decimal:"2",type:"us"},ue(i-s-o,2).toString())},this.getTotal_A803=(e,t)=>{let a=this.ob_data,i=a.txbody.psamt||0,s=a.txbody.cfamt||0;return me({decimal:"2",type:"us"},ue(i+s,2).toString())},this.getTXINFO1_A2=(e,t)=>{let a=this.ob_data,i=a.txbody.str1;return"PMT_IITT"!==a.txcode&&"PMT_IIT"!==a.txcode&&"PMT_IDT"!==a.txcode||""!==a.txbody.racno&&void 0!==a.txbody.racno&&null!==a.txbody.racno&&(i=a.txbody.racno),"PMT_ODT"!==a.txcode&&"PMT_OIT"!==a.txcode&&"PMT_OITT"!==a.txcode||""!==a.txbody.sacno&&void 0!==a.txbody.sacno&&null!==a.txbody.sacno&&(i=a.txbody.sacno),void 0!==i&&null!==i&&""!==i&&(i=i.replace("-",""),i="Cust. A/C No. "+de({mark:"####-##-##-######-#"},i),""!==a.txbody.acnm&&void 0!==a.txbody.acnm?i+=pe+a.txbody.acnm:""!==a.txbody.cacnm&&void 0!==a.txbody.cacnm&&(i+=pe+a.txbody.cacnm),""!==a.branchname&&void 0!==a.branchname&&(i+=pe+"Branch:  "+a.branchname),""!==a.txdt&&void 0!==a.txdt&&(i+=pe+a.txdt)),i||""},this.getTXINFO2_A2=(e,t)=>{let a="",i=this.ob_data;return""!==i.txrefid&&(a+="Ref: "+i.txrefid+pe),""!==i.txbody.usrcd&&(a+="Teller: "+i.txbody.usrcd+pe),""!==i.txcode&&(a+="Tran code:  "+i.txcode),a},this.getTXDESCR_A2=(e,t)=>{let a=this.ob_data,i="",s="";return""!==a.txbody.pcsccr&&void 0!==a.txbody.pcsccr?i=a.txbody.pcsccr:""!==a.txbody.cccr&&void 0!==a.txbody.cccr&&(i=a.txbody.cccr),"PMT_ODT"!==a.txcode&&"PMT_OIT"!==a.txcode&&"PMT_OITT"!==a.txcode||(i=a.txbody.rccr),0!==a.txbody.acamt&&void 0!==a.txbody.acamt&&(s=i+pe+me({decimal:"2",type:"us"},a.txbody.acamt.toString())),"PMT_IITT"!==a.txcode&&"PMT_IIT"!==a.txcode&&"PMT_IDT"!==a.txcode||0!==a.txbody.psamt&&(s=i+pe+me({decimal:"2",type:"us"},a.txbody.psamt.toString())),"PMT_ODT"!==a.txcode&&"PMT_OIT"!==a.txcode&&"PMT_OITT"!==a.txcode||0!==a.txbody.pramt&&(s=i+pe+me({decimal:"2",type:"us"},a.txbody.pramt.toString())),s},this.getTXINFO1_A203=(e,t)=>{let a=this.ob_data,i="";return""!==a.txbody.str1&&void 0!==a.txbody.str1&&(i+="A/C No. "+de({mark:"####-##-##-######-#"},a.txbody.str1)),""!==a.txbody.acnm&&void 0!==a.txbody.acnm?i+=pe+a.txbody.acnm:""!==a.txbody.cacnm2&&void 0!==a.txbody.cacnm2&&(i+=pe+a.txbody.cacnm2),""!==a.branchname&&void 0!==a.branchname&&(i+=pe+"Branch:  "+a.branchname),""!==a.txdt&&void 0!==a.txdt&&(i+=pe+a.txdt),i},this.getTXINFO2_A203=(e,t)=>{let a="",i=this.ob_data;return""!==i.txrefid&&void 0!==i.txrefid&&(a+="Ref:  "+i.txrefid),a+=pe+"Teller: "+i.txbody.usrcd,a+=pe+"Tran code: "+i.txcode,a},this.getTXDESCR_A203=(e,t)=>{let a=this.ob_data,i="";return 0!==a.txbody.acamt&&void 0!==a.txbody.acamt&&(""!==a.txbody.cccr2&&void 0!==a.txbody.cccr2&&(i+=a.txbody.cccr2),i+=pe+me({decimal:"2",type:"us"},a.txbody.acamt.toString())),i},this.getTXINFO1_A204=(e,t)=>{let a=this.ob_data,i=a.txbody.str1;return"PMT_IITT"!==a.txcode&&"PMT_IIT"!==a.txcode&&"PMT_IDT"!==a.txcode||""!==a.txbody.racno&&void 0!==a.txbody.racno&&(i=a.txbody.racno),"PMT_ODT"!==a.txcode&&"PMT_OIT"!==a.txcode&&"PMT_OITT"!==a.txcode||""!==a.txbody.sacno&&void 0!==a.txbody.sacno&&(i=a.txbody.sacno),void 0!==i&&null!==i&&(i=i.replace("-",""),i="Cust. A/C No. "+de({mark:"####-##-##-######-#"},i),""!==a.txbody.acnm&&void 0!==a.txbody.acnm?i+=pe+a.txbody.acnm:""!==a.txbody.cacnm&&void 0!==a.txbody.cacnm&&(i+=pe+a.txbody.cacnm),""!==a.branchname&&void 0!==a.branchname&&(i+=pe+"Branch:  "+a.branchname+pe),""!==a.txdt&&void 0!==a.txdt&&(i+=a.txdt)),i||""},this.getTXINFO2_A204=(e,t)=>{let a="",i=this.ob_data;return""!==i.txrefid&&void 0!==i.txrefid&&(a+="Ref: "+i.txrefid+pe),""!==i.txbody.usrcd&&void 0!==i.txbody.usrcd&&(a+="Teller: "+i.txbody.usrcd+pe),""!==i.txcode&&void 0!==i.txcode&&(a+="Tran code:  "+i.txcode),a},this.getTXDESCR_A204=(e,t)=>{let a=this.ob_data,i="",s="Debit Amount ",o="interest amount  ",l="WHT ";return""!==a.txbody.pcsccr&&void 0!==a.txbody.pcsccr?i=a.txbody.pcsccr:""!==a.txbody.cccr&&void 0!==a.txbody.cccr&&(i=a.txbody.cccr),0!==a.txbody.acamt&&void 0!==a.txbody.acamt&&(s=s+i+pe+me({decimal:"2",type:"us"},a.txbody.acamt.toString())+_e),0!==a.txbody.ctint&&void 0!==a.txbody.ctint&&(o=o+i+pe+me({decimal:"2",type:"us"},a.txbody.ctint.toString())+_e),0!==a.txbody.cwhta&&void 0!==a.txbody.cwhta&&(l=l+i+pe+me({decimal:"2",type:"us"},a.txbody.cwhta.toString())),s+o+l},this.getTXINFO1_A202=(e,t)=>{let a=this.ob_data,i="",s="",o="",l="",n="";return""!==a.txbody.pdacc&&void 0!==a.txbody.pdacc&&(i="Debit A/C No.  "+de({mark:"####-##-##-######-#"},a.txbody.pdacc)),""!==a.txbody.acnm&&void 0!==a.txbody.acnm&&(s=_e+a.txbody.acnm),""!==a.txbody.cfrser&&void 0!==a.txbody.cfrser&&(o=_e+"Cheque no.  "+a.txbody.cfrser),""!==a.branchname&&void 0!==a.branchname&&(l=_e+"Branch:  "+a.branchname),""!==a.txdt&&(n=_e+a.txdt),i+s+o+l+n},this.getTXINFO2_A202=(e,t)=>{let a=this.ob_data,i="",s="",o="";return""!==a.txrefid&&void 0!==a.txrefid&&(i="Ref:  "+a.txrefid),""!==a.txbody.usrcd&&void 0!==a.txbody.usrcd&&(s=_e+"Teller:  "+a.txbody.usrcd),""!==a.txcode&&void 0!==a.txcode&&(o=_e+"Tran code:  "+a.txcode),i+s+o},this.getTXDESCR_A202=(e,t)=>{let a=this.ob_data,i="",s="",o="",l="",n="";return 0!==a.txbody.acamt&&void 0!==a.txbody.acamt&&(o=me({decimal:"2",type:"us"},a.txbody.acamt.toString())),""!==a.txbody.pcsccr&&void 0!==a.txbody.pcsccr&&"DPT_CWC"!==a.txcode?i=a.txbody.pcsccr:""!==a.txbody.cccr&&void 0!==a.txbody.cccr&&(i=a.txbody.cccr),""!==o&&(o=i+"  "+o),0!==a.txbody.cfamt&&void 0!==a.txbody.cfamt&&(l=me({decimal:"2",type:"us"},a.txbody.cfamt.toString()),l=_e+"Fee. "+i+"  "+l),""!==a.txbody.pdoacc&&void 0!==a.txbody.pdoacc?s=a.txbody.pdoacc:""!==a.txbody.pcacc&&void 0!==a.txbody.pcacc&&(s=a.txbody.pcacc),""!==s&&(s=_e+"Credit A/C No. "+de({mark:"####-##-##-######-#"},s)),"DPT_CDT"!==a.txcode&&"DPT_TRF"!==a.txcode||(n=_e+a.txbody.cacnm2),o+l+s+n},this.getTXCFNMS_A17=(e,t)=>{let a=this.ob_data,i="";if(""!==a.txbody.cfnms&&void 0!==a.txbody.cfnms){var s;let e=null===(s=a.txbody.cfnms)||void 0===s?void 0:s.split("|");if(void 0!==e)for(const t of e)""!==t&&(i+=t+"<br/>")}return i},this.getLISTCFAMT_A17=(e,t)=>{let a=this.ob_data,i="";if(""!==a.txbody.cfamts&&void 0!==a.txbody.cfamts){var s;let e=null===(s=a.txbody.cfamts)||void 0===s?void 0:s.split("|");if(void 0!==e)for(const t of e)""!==t&&(i+=me({decimal:"2",type:"us"},ue(t,2).toString())+"<br/>")}return i},this.getCurrency_A17=(e,t)=>{var a;let i=this.ob_data,s=this.getTotal_A17(),o=new he,l="";var n,r;""!==(null===(a=i.txbody.rccr)||void 0===a?void 0:a.trim())&&void 0!==i.txbody.rccr?l=i.txbody.rccr.toString():""!==(null===(n=i.txbody.cccr)||void 0===n?void 0:n.trim())&&void 0!==i.txbody.cccr?l=i.txbody.cccr.toString():""!==(null===(r=i.txbody.pcsccr)||void 0===r?void 0:r.trim())&&void 0!==i.txbody.pcsccr&&(l=i.txbody.pcsccr.toString());return"(Total amount in words:  "+o.changeCurrencyToWords(ue(s,2),l,l)+")"},this.getTotal_A17=(e,t)=>{var a;let i="",s=0,o=null===(a=this.ob_data.txbody.cfamts)||void 0===a?void 0:a.split("|");if(void 0!==o)for(const l of o)""!==l&&(s+=parseFloat(me({decimal:"2",type:"us"},ue(l,2).toString())));return i=me({decimal:"2",type:"us"},ue(s,2).toString()),i},this.getTotal_A171=(e,t)=>{var a;let i="",s=0,o=null===(a=this.ob_data.txbody.cfamts)||void 0===a?void 0:a.split("|");if(void 0!==o)for(const l of o)""!==l&&(s+=parseFloat(me({decimal:"2",type:"us"},ue(l,2).toString())));return i=me({decimal:"2",type:"us"},ue(s,2).toString()),i},this.getTXCFNMS_A171=(e,t)=>{let a=this.ob_data,i="";if(""!==a.txbody.cfnms&&void 0!==a.txbody.cfnms){var s;let e=null===(s=a.txbody.cfnms)||void 0===s?void 0:s.split("|");if(void 0!==e)for(const t of e)""!==t&&(i+=t+"<br/>")}return i},this.getLISTCFAMT_A171=(e,t)=>{let a=this.ob_data,i="";if(""!==a.txbody.cfamts&&void 0!==a.txbody.cfamts){var s;let e=null===(s=a.txbody.cfamts)||void 0===s?void 0:s.split("|");if(void 0!==e)for(const t of e)""!==t&&(i+=me({decimal:"2",type:"us"},ue(t,2).toString())+"<br/>")}return i},this.getCurrency_A171=(e,t)=>{var a;let i=this.ob_data,s=this.getTotal_A171(),o=new he,l="";var n,r;""!==(null===(a=i.txbody.rccr)||void 0===a?void 0:a.trim())&&void 0!==i.txbody.rccr?l=i.txbody.rccr.toString():""!==(null===(n=i.txbody.cccr)||void 0===n?void 0:n.trim())&&void 0!==i.txbody.cccr?l=i.txbody.cccr.toString():""!==(null===(r=i.txbody.pcsccr)||void 0===r?void 0:r.trim())&&void 0!==i.txbody.pcsccr&&(l=i.txbody.pcsccr.toString());return"(Total amount in words:  "+o.changeCurrencyToWords(ue(s,2),l,l)+")"},this.getTotal_A172=(e,t)=>{var a;let i="",s=0,o=null===(a=this.ob_data.txbody.cfamts)||void 0===a?void 0:a.split("|");if(void 0!==o)for(const l of o)""!==l&&(s+=parseFloat(me({decimal:"2",type:"us"},ue(l,2).toString())));return i=me({decimal:"2",type:"us"},ue(s,2).toString()),i},this.getTXCFNMS_A172=(e,t)=>{let a=this.ob_data,i="";if(""!==a.txbody.cfnms&&void 0!==a.txbody.cfnms){var s;let e=null===(s=a.txbody.cfnms)||void 0===s?void 0:s.split("|");if(void 0!==e)for(const t of e)""!==t&&(i+=t+"<br/>")}return i},this.getLISTCFAMT_A172=(e,t)=>{let a=this.ob_data,i="";if(""!==a.txbody.cfamts&&void 0!==a.txbody.cfamts){var s;let e=null===(s=a.txbody.cfamts)||void 0===s?void 0:s.split("|");if(void 0!==e)for(const t of e)""!==t&&(i+=me({decimal:"2",type:"us"},ue(t,2).toString())+"<br/>")}return i},this.getCurrency_A172=(e,t)=>{var a;let i=this.ob_data,s=this.getTotal_A172(),o=new he,l="";var n,r;""!==(null===(a=i.txbody.rccr)||void 0===a?void 0:a.trim())&&void 0!==i.txbody.rccr?l=i.txbody.rccr.toString():""!==(null===(n=i.txbody.cccr)||void 0===n?void 0:n.trim())&&void 0!==i.txbody.cccr?l=i.txbody.cccr.toString():""!==(null===(r=i.txbody.pcsccr)||void 0===r?void 0:r.trim())&&void 0!==i.txbody.pcsccr&&(l=i.txbody.pcsccr.toString());return"(Total amount in words:  "+o.changeCurrencyToWords(s,l,l)+")"},this.getCurrency_A16=(e,t)=>{let a=this.ob_data;return(new he).changeCurrencyToWords(a.txbody.amount,!0,!1,a.txbody.cccr+"/"+a.txbody.cccr,a.txbody.cccr+"/"+a.txbody.cccr)},this.getCustomerNo_A201=(e,t)=>{if(""!==t&&void 0!==t)return"Customer A/C no :"},this.getCustomerName_A201=(e,t)=>{if(""!==t&&void 0!==t)return"Customer A/C no :"},this.getCurrency_A201=(e,t)=>{if(""!==t&&void 0!==t)return"Currency :"},this.getCurrency_A10=(e,t)=>{let a=this.ob_data;return(new he).changeCurrencyToWords(a.txbody.txamt,!0,!0," Kyat/ Kyat"," Pya/ Pya").replace(" and "," ")},this.getCurrency_A13=(e,t)=>{let a=this.ob_data;return(new he).changeCurrencyToWords(a.result.balance,a.result.ccr,a.result.ccr)},this.getCurrency_A12=(e,t)=>{let a=this.ob_data;return(new he).changeCurrencyToWords(a.txbody.samt,!0,!0," Kyat/ Kyat"," Pya/ Pya")},this.checkValueCFAMT_A801=(e,t)=>{let a=this.ob_data;return 0!==a.txbody.cfamt&&a.txbody.cccr,"<br/>",0!==a.txbody.cvat&&a.txbody.cccr,""},this.checkValueCFAMT_A803=(e,t)=>{let a=this.ob_data;return 0!==a.txbody.cfamt&&a.txbody.sccr,""},this.checkValueCFAMT_A802=(e,t)=>{let a=this.ob_data;return 0!==a.txbody.cfamt&&a.txbody.rccr,"<br/>",0!==a.txbody.cvat&&a.txbody.rccr,""},this.formatDate=(e,t)=>t.split(" ")[0],this.checkValue_A801=(e,t)=>""===t||void 0===t||null===t||"null"===t||"undefined"===t?"&nbsp;":this.ob_data.txbody.acnm,this.checkValue_A802=(e,t)=>""===t||void 0===t||null===t||"null"===t||"undefined"===t?"&nbsp;":t,this.getInfoA1=(e,t)=>{let a=e.data,i=[],s=this.ob_data[a];for(let o=0;o<s.length;o++)"A3"!==s[o][a].prn&&i.push(s[o]);return i},this.getApprove_A1=(e,t)=>{var a,i;let s=this.ob_data,o=0,l=0;if(void 0!==s.postings_debit&&(null===(a=s.postings_debit[0])||void 0===a?void 0:a.postings_debit.branchid)===s.txbody.branchid&&void 0!==s.txbody.branchid&&(o=s.postings_debit[0].postings_debit.amt),void 0!==s.postings_credit&&(null===(i=s.postings_credit[0])||void 0===i?void 0:i.postings_credit.branchid)===s.txbody.branchid&&void 0!==s.txbody.branchid&&(l=s.postings_credit[0].postings_credit.amt),o+l>0){return(new he).changeCurrencyToWords(o+l,!0,!0,s.txbody.ccrname+"/ "+s.txbody.ccrname,s.txbody.ccrunit+"/ "+s.txbody.ccrunit)}return""},this.getInfoA5=(e,t)=>{let a=e.data;return this.ob_data[a]},this.getDefaultTable=(e,t)=>{let a=e.data,i=[],s=this.ob_data[a];for(let o=0;o<s.length;o++)i.push(s[o]);return i},this.getInfoA3=(e,t)=>{let a=e.data,i=[],s=this.ob_data[a];for(let o=0;o<s.length;o++)"A3"===s[o][a].prn&&i.push(s[o]);return i},this.Summary=(e,t)=>{let a=this.ob_data[e.data],i=0,s=!1,o="";for(let l=0;l<a.length;l++)"A3"===a[l][e.data].prn&&(i+=a[l][e.data].amt);if(0===i)return o;switch(e.decimal){case"1":o=parseFloat(ue(i,1)).toFixed(1),s=!0;break;case"2":o=parseFloat(ue(i,2)).toFixed(2),s=!0;break;case"3":o=parseFloat(ue(i,3)).toFixed(3),s=!0}if(s)switch(o=""+o,e.type){case"us":o=o.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");break;case"vn":o=o.replace(".",",").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")}return-1!=="CSH_CSH;CSH_ACT;CSH_DPT;ACT_ACT;ACT_CSH;ACT_DPT;DPT_DPT;DPT_ACT;DPT_CSH".indexOf(this.ob_data.txcode)&&(o="&nbsp;"),o},this.checkValue=(e,t)=>{let a="";if(""===t||void 0===t||null===t)return"&nbsp;";let s=e.condition.split(";");switch(s[2]=""!==s[2]?s[2]:"&nbsp;",s[3]=""!==s[3]?s[3]:"&nbsp;",s[0]){case"=":t=t===s[1]?s[2]:s[3];break;case"!=":t=t!==s[1]?s[2]:s[3];break;case">":t=t>s[1]?s[2]:s[3];break;case"<":t=t<s[1]?s[2]:s[3];break;case">=":t=t>=s[1]?s[2]:s[3];break;case"<=":t=t<=s[1]?s[2]:s[3];break;default:t=s[3]}if(isNaN(t))return t;return-1==="CSH_CSH;CSH_ACT;CSH_DPT;ACT_ACT;ACT_CSH;ACT_DPT;DPT_DPT;DPT_ACT;DPT_CSH".indexOf(this.ob_data.txcode)?"&nbsp;":(a=void 0!==e.decimal||null!==e.decimal||""!==e.decimal?parseFloat(i.g.condition_checkDynamicNoData(t)).toFixed(parseInt(e.decimal)):parseFloat(i.g.condition_checkDynamicNoData(t)),a=a.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"),a)},this.formatMark=(e,t)=>{if(""===t||void 0===t||null===t||"null"===t||"undefined"===t)return"&nbsp;";{let a=e.mark,i="",s=[],o=0,l=t.length-1;if(void 0!==a){for(let e=a.length-1;e>=0;e--){const i=a[e];"#"===i?(t[l]+""!=="undefined"?s[o]=t[l]:s[o]=0,l--):s[o]=i,o++}for(let e=l;e>0;e--)s[o]=t[e],o++;for(let e=s.length-1;e>=0;e--)i+=s[e]}else i=t;return i}},this.Insert=(e,t)=>{if(""===t||void 0===t||null===t)return"&nbsp;";let a=e["config-insert"].split(";"),i=parseInt(a[0]),s=a[1];switch(a[0]){case"true":for(let e=0;e<t.length;e++)e%(i+1)||(t=t.substring(0,e)+s+t.substring(e));t=t.substring(1);break;default:t=t.substr(0,i)+s+t.substr(i+1)}return t},this.Substring=(e,t)=>{if(""===t||void 0===t||null===t)return t;let a=parseInt(e["start-character"]),i=parseInt(e["end-character"]);return t=t.substring(a,i)},this.formatCurrency=(e,t)=>{if(""===t||void 0===t||null===t)return"&nbsp;";let a="",i=t.replace(/[^0-9.]/g,""),s=!1;switch(e.decimal){case"1":a=parseFloat(ue(i,1)).toFixed(1),s=!0;break;case"2":a=parseFloat(ue(i,2)).toFixed(2),s=!0;break;case"3":a=parseFloat(ue(i,3)).toFixed(3),s=!0;break;case"4":a=Object(ge.d)(ue(i,4),4)}if(s)switch(a=""+a,e.type){case"us":a=a.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");break;case"vn":a=a.replace(".",",").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")}return a},this.ToCurrencyWords_O9=(e,t)=>{let a=0,i="";if(void 0!==this.ob_data.postings_debit&&void 0!==this.ob_data.txbody){let e=this.ob_data;if(void 0!==e.branchid){for(let t=0;t<this.ob_data.postings_debit.length;t++){let i=this.ob_data.postings_debit[t];i.branchid===e.branchid&&(a+=i.amt)}for(let t=0;t<this.ob_data.postings_credit.length;t++){let i=this.ob_data.postings_credit[t];i.branchid===e.branchid&&(a+=i.amt)}}}let s,o,l,n,r,c,d,m,u,h,g,_,p=a.toString().split("."),f=p[0].toString();if(0===parseInt(f))return"Zero";for(s=["","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],o=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"],l=["","thousand","million","billion","trillion"],n=f.length,c=[];n>0;)r=n,c.push(f.slice(n=Math.max(0,n-3),r));if(d=c.length,d>l.length)return"";for(_=[],h=0;h<d;h++)m=parseInt(c[h]),m&&(u=c[h].split("").reverse().map(parseFloat),1===u[1]&&(u[0]+=10),(g=l[h])&&_.push(g),(g=s[u[0]])&&_.push(g),(g=o[u[1]])&&_.push(g),(g=s[u[2]])&&_.push(g+" hundred"));let v="";if(void 0!==e.show&&"true"===e.show){let t=" "+e.dollars+" "+e.cents;if(void 0!==p[1])switch(p[1].length){case 0:v+=_.reverse().join(" ")+" "+t;break;case 1:v+=_.reverse().join(" ")+" and "+p[1]+"/10"+t;break;case 2:v+=_.reverse().join(" ")+" and "+p[1]+"/100"+t;break;case 3:v+=_.reverse().join(" ")+" and "+p[1]+"/1000"+t}else v+=_.reverse().join(" ")+" "+t}if(void 0!==e.uppercase&&"true"===e.uppercase)for(let b of v.split(" "))i+=b.charAt(0).toUpperCase()+b.slice(1)+" ";return i},this.ToCurrencyWords=(e,t)=>{if(""===t||void 0===t||null===t)return"&nbsp;";let a,i,s,o,l,n,r,c,d,m,u,h,g="",_=t.split("."),p=_[0].toString();if(0===parseInt(p))return"Zero";for(a=["","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],i=["","","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"],s=["","thousand","million","billion","trillion"],o=p.length,n=[];o>0;)l=o,n.push(p.slice(o=Math.max(0,o-3),l));if(r=n.length,r>s.length)return"";for(h=[],m=0;m<r;m++)c=parseInt(n[m]),c&&(d=n[m].split("").reverse().map(parseFloat),1===d[1]&&(d[0]+=10),(u=s[m])&&h.push(u),(u=a[d[0]])&&h.push(u),(u=i[d[1]])&&h.push(u),(u=a[d[2]])&&h.push(u+" hundred"));let f="";if(void 0!==e.show&&"true"===e.show){let t=" "+e.dollars+" "+e.cents;if(void 0!==_[1])switch(_[1].length){case 0:f+=h.reverse().join(" ")+" "+t;break;case 1:f+=h.reverse().join(" ")+" and "+_[1]+"/10"+t;break;case 2:f+=h.reverse().join(" ")+" and "+_[1]+"/100"+t;break;case 3:f+=h.reverse().join(" ")+" and "+_[1]+"/1000"+t}else f+=h.reverse().join(" ")+" "+t}if(void 0!==e.uppercase&&"true"===e.uppercase)for(let v of f.split(" "))g+=v.charAt(0).toUpperCase()+v.slice(1)+" ";return g}}environmentVariables(e){void 0!==e&&(this.ob_data=e)}},ve=a(16);class be extends s.a{constructor(){super(...arguments),this.windowPrint=(e,t)=>{var a=window.open("",i.g.autoID(),"height=650,width=1000");return a.document.write("<html><head><style>"),a.document.write(e+".voucher-button:hover{background: #F0F0F0;border: 1.5px solid #E3E4E5;}\n .voucher-button.button-active:hover{background: #06429B;border: 1px solid transparent;}\n .voucher-button.button-active{background: #0052CC;color: #FFFFFF;border:1px solid transparent;}\n .voucher-button{padding:10px;background: #FFFFFF;margin-left:8px;color: #0052CC;border: 1.5px solid #E3E4E5;border-radius: 3px;width:fit-content;cursor: pointer; opacity:0.96;font-family: Arial, Helvetica, sans-serif;  }\n .malibu-list-button {display:flex;margin-left: auto;\n margin-right: 0px;\nwidth: fit-content;}\n .malibu-list-button-div{width:21cm;margin:0px auto;} .event-button{width:calc(100% - 16px); background:unset !important;}\n .voucher{padding-top: 50px !important} .page-A1,.page-A11,.page-A15,.page-A2,.page-A201,.page-A202,.page-A203,.page-A203,.page-A204,.page-A205,.page-A3,.page-A7,.page-A8{border-radius: 3px;box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.25);}"),a.document.write("</style></head><body>"),a.document.write('\x3c!-- Button Event --\x3e<div class="event-button"><div class="malibu-list-button-div"><div class="malibu-list-button">\n        <div style="display:none" class="voucher-button" id="print_mode" onclick="getColor(\'print_mode\');hiddenText()">Print mode</div>\n        <div style="display:none" class="voucher-button" id="view_mode" onclick="getColor(\'view_mode\');viewText()">View mode</div>\n        <div class="voucher-button" id="print" onclick="getColor(\'print\');print()">Print</div></div></div></div>'),a.document.write('<div id="voucher" class="voucher">'),a.document.write(t),a.document.write("</div>"),a.document.write("<script>"),a.document.write('getColor(\'print_mode\');print();function getColor(id){var x=document.getElementsByClassName("voucher-button");for(i=0;i<x.length;i++){x[i].classList.remove("button-active")};  document.getElementById(id).classList.add("button-active")};function print(){var style_ = document.styleSheets[0].cssRules;var str = "";for(var i=0 ; i<style_.length; i++) {if(str.indexOf(style_[i].cssText) == -1) {str += style_[i].cssText;}}str = str.replace("body { width: 600px; }", "");str = str.replace(".embrace { margin-bottom: 15px; float: left; font-size: 13px; box-shadow: grey 3px 3px 5px; max-height: 842px; max-width: 595px; }", "");var contents = document.getElementById("voucher").innerHTML;var frame1 = document.createElement(\'iframe\');frame1.name = "frame1";frame1.style.position = "absolute";frame1.style.top = "-1000000px";document.body.appendChild(frame1);var frameDoc = frame1.contentWindow ? frame1.contentWindow : frame1.contentDocument.document ? frame1.contentDocument.document : frame1.contentDocument;frameDoc.document.open();frameDoc.document.write(\'<html><head><style type="text/css">\');frameDoc.document.write(str);frameDoc.document.write(".div-no-print{opacity: 0}");frameDoc.document.write(\'</style></head><body>\');frameDoc.document.write(contents);frameDoc.document.write(\'</body></html>\');frameDoc.document.close();setTimeout(function () {window.frames["frame1"].focus();window.frames["frame1"].print();document.body.removeChild(frame1);}, 200);return false;}function viewText() {var height = document.getElementsByClassName("div-no-print");for(var i=0 ; i<height.length ; i++) {height[i].style.opacity = null;}}function hiddenText() {var height = document.getElementsByClassName("div-no-print");for(var i=0 ; i<height.length ; i++) {height[i].style.opacity = 0;}}'),a.document.write("<\/script>"),a.document.write("</body></html>"),a.document.close(),a.focus(),!0},this.printTemplate=()=>{let e=this.context.ob_data||{},t=i.g.getFormAppAuto(this.context.infoA.key_form),{template_code:a,template_condition:s}=this.input;if(!0===this.input.is_get_new&&t.hasOwnProperty("getDataAll")){let a=t.getDataAll();e=Object.assign(e,a)}if(!1!==this.input.is_get){let a=t.getData();e=Object.assign(e,a)}this.input.queries&&this.input.queries.split(";").forEach(t=>{if(t){var a;let s=(null===(a=i.g.getDataLimited(t,0,9999999))||void 0===a?void 0:a.data)||[];if(s.length>0){let t=Object.keys(s[0])[0];e[t]=s}}}),this.context.ob_data=e,a=i.g.convertCondition(a,e),s=i.g.convertCondition(s,e),i.g.isDebug()&&(console.log("===================DEBUG TEMPLATE====================="),console.log("data template: ",i.g.cloneJson(e)),console.log("template_code: ",a),console.log("condition: ",s),console.log("-------------------DEBUG TEMPLATE--------------------"));return!0===i.g.checkDynamicConditionNoData(s)&&ve.a(a,()=>{let e=[],t="",s="",o="",l=a.split(";");for(let a of l){let t=i.g.template_getFromStore(a);void 0!==t&&e.push(t)}for(let a of e)void 0!==a.id&&(o=this.getTemplate(a),t+=o.voucher,s+=o.style);return this.windowPrint(s,t)}),!0},this.printVoucher=()=>{let e="",t="",a="",i=this.context,s=i.ob_data.txbody.cfrser,o=i.ob_data.txbody.ctoser,l=i.node_print.split(",").filter(e=>-1!==e.indexOf("n*")),n=1,r=0,c=0;void 0!==s&&void 0!==o&&(r=parseInt(s.replace(/[^0-9]+/,"")),c=parseInt(o.replace(/[^0-9]+/,"")),n=c-r+1);for(let d of i.templates)if(void 0!==d.id)if(0!==l.length)for(let i of l)if(-1!==i.indexOf(d.id)){let i=r,o=s.replace(/[^0-9]+/,""),l="";for(let s=0;s<n;s++)l=o.substring(0,o.length-i.toString().length)+i,a=this.getTemplate(d,l),e+=a.voucher,t+=a.style,i++}else a=this.getTemplate(d),e+=a.voucher,t+=a.style;else a=this.getTemplate(d),e+=a.voucher,t+=a.style;return this.windowPrint(t,e),!0},this.printReport=e=>{let t="",a="",s="",o=i.g.getFormAppAuto(this.context.infoA.key_form),l=[];this.context.data.list_template_code.forEach(e=>{let t=i.g.template_getFromStore(e);void 0!==t&&l.push(t)}),void 0!==o&&o.hasOwnProperty("getDataAll")&&(this.context.ob_data=o.getDataAll(),this.context.templates=l),e.split(";").forEach(e=>{var t;let a=(null===(t=i.g.getDataLimited(e,0,9999999))||void 0===t?void 0:t.data)||[];if(a.length>0){let e=Object.keys(a[0])[0];this.context.ob_data[e]=a}});let n=this.context;for(let i of n.templates)void 0!==i.id&&(s=this.getTemplate(i),t+=s.voucher,a+=s.style);return this.windowPrint(a,t),!0},this.getTemplate=(e,t)=>{i.g.isDebug()&&console.log("Data voucher",this.context.ob_data);let a="",s="",o=void 0!==t?e.print_html.replace(/sys-auto-sernum/g,t):e.print_html,l=e.print_status;if(void 0!==l&&("A"===l||""===l||null===l)&&void 0!==o){let e=(new DOMParser).parseFromString(o,"text/html");for(let t of e.all[2].sheet.cssRules)-1===s.indexOf(t.cssText)&&(s+=t.cssText);if(-1===o.indexOf("jwebui_list_data")){a=this.setDataByParam(e.body.innerHTML)+'<div class="break-page">&nbsp;</div>'}else{let t=e.body.getElementsByClassName("jwebui_list_data"),i=e.body.innerHTML,s=[];for(let e=0;e<t.length;e++){let a=t[e].getAttribute("jwebui-list-data"),i=t[e].getAttribute("jwebui-data");s.push({param:"jwebui_list_data_"+e,template:t[e].outerHTML,list_data:a,data:i})}for(let e=0;e<t.length;e++)i=i.replace(t[e].outerHTML,"jwebui_list_data_"+e);if(s.length>0)for(let e=0;e<s.length;e++)if("true"===s[e].list_data){let t=this.renderDataList(s[e].template,s[e].data);i=i.replace(s[e].param,t)}else i=i.replace(s[e].param,"");i=this.setDataByParam(i),a=i+'<div class="break-page">&nbsp;</div>'}}return{voucher:a,style:s}},this.setDataByParam=e=>{var t=new fe;let a=e,s=i.g.component_getListCode(e);t.environmentVariables(this.context.ob_data);for(let i of s){let e=this.getValueByParam(i.code);if(void 0!==e&&null!==e&&"null"!==e&&"undefined"!==e||(e=""),void 0!==e)if("string"===typeof e)a=a.replace(i.key,e);else{let e="<div></div>";a=a.replace(i.key,e)}}let o=(new DOMParser).parseFromString(a,"text/html"),l=o.body.getElementsByClassName("jwebui-data-format");for(let n of l)if(n.hasAttribute("jwebui-function")&&t.hasOwnProperty(n.getAttribute("jwebui-function"))){let e=n.attributes,a={};for(let t of e)-1!==t.name.indexOf("jwebui")&&"jwebui-function"!==t.name&&(a=i.g.copyJsonObject(a,{[t.name.substr(7)]:t.value}));n.innerHTML=t[n.getAttribute("jwebui-function")](a,n.innerText.trim())}return o.body.outerHTML},this.getValueByParam=e=>{let t=this.context.ob_data;if("sys-branch"===e)return i.g.context_get("user_acc.branchname");if(void 0!==t&&0!==t.length){if(-1===e.indexOf("."))return void 0!==t[e]?0!==t[e].length?t[e]:"":{code:e};{let a=e.split(".");if(void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]]){let e=""+t[a[0]][a[1]];return 0!==e.length?e:""}return{code:e}}}},this.renderDataList=(e,t)=>{var a=new fe;if(a.environmentVariables(this.context.ob_data),0===t.length||void 0===this.context.ob_data[t]){return"<div></div>"}let s=this.context.ob_data[t],o=e,l=(new DOMParser).parseFromString(o,"text/html").body.getElementsByClassName("jwebui_list_data");for(let c of l)if(c.hasAttribute("jwebui-function")&&a.hasOwnProperty(c.getAttribute("jwebui-function"))){let e=c.attributes,t={};for(let a of e)-1!==a.name.indexOf("jwebui")&&"jwebui-function"!==a.name&&(t=i.g.copyJsonObject(t,{[a.name.substr(7)]:a.value}));let o=c.innerText.trim();s=a[c.getAttribute("jwebui-function")](t,o)}let n="",r=i.g.component_getListCode(e);for(let c=0;c<s.length;c++){let o=e;for(let e of r){let a=s[c][t][e.code];if(void 0!==a&&null!==a||(a=""),void 0===a){let t="<div></div>";o=o.replace(e.key,t)}else o=o.replace(e.key,""!==a?a:"")}let l=(new DOMParser).parseFromString(o,"text/html"),d=l.body.getElementsByClassName("jwebui_list_data");for(let e of d)if(e.hasAttribute("jwebui-function")&&a.hasOwnProperty(e.getAttribute("jwebui-function"))){let t=e.attributes,s={};for(let e of t)-1!==e.name.indexOf("jwebui")&&"jwebui-function"!==e.name&&(s=i.g.copyJsonObject(s,{[e.name.substr(7)]:e.value}));let o=e.innerText.trim();a[e.getAttribute("jwebui-function")](s,o)}n+=l.body.getElementsByClassName("jwebui_list_data")[0].outerHTML}return n}}}var ye=be;class De extends s.a{constructor(){super(...arguments),this.gotoSearch=()=>{i.g.callDirFromSupport("globalSearch","openSearch");const e=new Date;var t={class_:"success",icon:"fa fa-search",title:i.g.getLang("systemTitle"),time:e.getTime()+"",description:i.g.getLang("systemStartSearch"),data:{},action:{}};i.g.pushNotify("notifyToast",t,{}),i.g.callAllScreenListen()},this.gotoOpenForm=e=>{h.a.fo([{txcode:"#sys:fo-sys-sliderbarCallForm",input:{form_code:e}}],this.input);const t=new Date;var a={class_:"warning",icon:"fa fa-folder-open",title:i.g.getLang("systemTitle"),time:t.getTime()+"",description:i.g.getLang("systemStartOpenForm"),data:{},action:{}};i.g.pushNotify("notifyToast",a,{}),i.g.callAllScreenListen()},this.gotoDebug=()=>{let e=!i.g.isDebug(),t="",a="";e?(t="langKeyboardDebugOpen",a="success",Object(i.i)({open_chat:!0,mode_chat:"debug"})):(t="langKeyboardDebugClose",a="warning",Object(i.i)({open_chat:!1,mode_chat:"debug"}));const s=new Date;var o={class_:a,icon:"fa fa-check",title:i.g.getLang("systemTitle"),time:s.getTime()+"",description:i.g.getLang(t),data:{},action:{}};i.g.pushNotify("notifyToast",o,{}),i.g.callAllScreenListen(),i.g.setDebug(e),i.g.changeForDebug(e)},this.gotoAssistantCMD=()=>{console.log("=========gotoAssistant============")},this.gotoAssistantVoice=()=>{console.log("=========gotoAssistant============")}}}var Ae=De;class Ce extends s.a{constructor(){super(...arguments),this.openLatestTransaction=()=>{let e,t="fof_transaction_journal";if(void 0!==this.input[t]){let a=i.g.cloneJson(this.input[t][t]),s="FO_"+a.txcode;";CSH_CSH;DPT_CSH;ACT_CSH;CSH_ACT;DPT_ACT;ACT_ACT;CSH_DPT;ACT_DPT;DPT_DPT;".includes(";"+a.txcode+";")?(s="fof_fx_transaction",e="013003"):";ACT_MAN;".includes(";"+a.txcode+";")&&(s="act_internal_transaction",e="012003");let o=a;if(void 0!==o.txbody){for(const e in o.txbody)void 0===o[e]&&(o[e]=o.txbody[e]);delete o.txbody}let l={[s]:o};if(Array.isArray(l[s].ifcfees)){let e=[];for(const t in l[s].ifcfees){const a=l[s].ifcfees[t];a.ifcbamt=a.ifcamt+a.ramt,a.valtypect="Percentage",e.push({ifcfees:a})}l.ifcfees=e}return e&&(l.O9_F2_ACT_ACT=l.fof_fx_transaction),Object(m.a)({form_code:e||s},{},{},{},l),!0}},this.viewFormF8=e=>{let t;if(void 0!==this.input[e]){let a=i.g.cloneJson(this.input[e][e]),s="FO_"+a.txcode;";CSH_CSH;DPT_CSH;ACT_CSH;CSH_ACT;DPT_ACT;ACT_ACT;CSH_DPT;ACT_DPT;DPT_DPT;".includes(";"+a.txcode+";")?(s="fof_fx_transaction",t="013003"):";ACT_MAN;".includes(";"+a.txcode+";")&&(s="act_internal_transaction",t="012003");let o=a;if(void 0!==o.txbody){for(const e in o.txbody)void 0===o[e]&&(o[e]=o.txbody[e]);delete o.txbody}let l={[s]:o};if(Array.isArray(l[s].ifcfees)){let e=[];for(const t in l[s].ifcfees){const a=l[s].ifcfees[t];a.ifcbamt=a.ifcamt+a.ramt,a.valtypect="Percentage",e.push({ifcfees:a})}l.ifcfees=e}return t&&(l.O9_F2_ACT_ACT=l.fof_fx_transaction),Object(m.a)({form_code:t||s},{},{},{},l),!0}},this.act_internal_transaction_add=()=>{var e=i.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e&&e.reload()},this.act_internal_transaction_apply=()=>{var e=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==e){e.callDirFromSupport("get",{list_component:"*",list_view:"*",inform:"true"},{});let t=e.getData("");const a=t.form;if(a.amount&&""!==a.account_number&&a.accname){let s={table_child:{pdorcs:a.type,pacnos:a.account_number,currency:a.currency,debit:"D"===a.type?a.amount:0,credit:"C"===a.type?a.amount:0,acname:a.accname,cccd:a.cccd,prdcd:a.prdcd,intercomp:a.intercomp}};if(void 0===a.AFGHkeyIndexWJ)t.form.table_child.push(i.g.cloneJson(s)),t.form.AFGHkeyIndexWJ=void 0;else for(const e in t.form.table_child){if(t.form.table_child[e].table_child.AFGHkeyIndexWJ===a.AFGHkeyIndexWJ){t.form.table_child[e]=s,t.form.AFGHkeyIndexWJ=void 0;break}}e.putDataAll_andSet(t)}}},this.act_internal_transaction_modify=()=>{var e=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==e){e.callDirFromSupport("get",{list_component:"*",list_view:"*",inform:"true"},{});let t=e.getData(""),a=i.g.cloneJson(this.context.data.table_child);t.form.type=a.pdorcs,t.form.account_number=a.pacnos,t.form.currency=a.currency,t.form.amount="D"===a.pdorcs?a.debit:a.credit,t.form.accname=a.acname,t.form.AFGHkeyIndexWJ=a.AFGHkeyIndexWJ,e.putDataAll_andSet(t),e.callDirFromSupport("setCMD",{list_component:"*;btn_apply",list_view:"code"},{disabled:"false"})}},this.printVoucher=()=>{let e=this.input.fof_transaction_journal.fof_transaction_journal,t=this.getValueByParam("prn");0!==e.length&&void 0!==t&&""!==t&&Object(ve.b)(t,e,this.context)},this.getValueByParam=e=>{let t=this.input.fof_transaction_journal.fof_transaction_journal;if(void 0!==t&&0!==t.length){if(-1===e.indexOf("."))return void 0!==t[e]&&0!==t[e].length?t[e]:"";{let a=e.split(".");if(void 0!==t[a[0]]&&void 0!==t[a[0]][a[1]]){let e=""+t[a[0]][a[1]];return 0!==e.length?e:""}return""}}},this.acceptF2O9=(e,t,a)=>{var s="true";if(void 0!==a&&(s=a),void 0!==e&&void 0!==t){var o=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==o){if(o.hasOwnProperty("callDirFromSupport")&&(o.callDirFromSupport("checkValidate",{},{}),o.hasOwnProperty("getFormValidate")&&!o.getFormValidate())){o.callDirFromSupport("get",{list_component:e,list_view:t,inform:"true",checkError:s},{}),o.hasOwnProperty("getData")&&(this.input_action=i.g.analyticsTable(o.getData(""))),i.g.isDebug()&&console.log(this.context.infoA.title+" return=>"+!o.getFormValidate()+" data=>",this.input_action),this.input.learn_api="";let a=this.input_action.fof_fx_transaction.dacttype,l=this.input_action.fof_fx_transaction.cacttype;return this.input.learn_api=`O9_F2_${a}_${l}`,!0}}else i.g.AppException("#form.getData","form is undefined","system")}else i.g.AppException("#form.getData","parameter is undefined","system");return!1},this.clearCtrlF2=()=>{i.g.removeForm("013003"),h.a.fo([{txcode:"#sys:fo-sys-sliderbarCallForm",input:{form_code:"013003"}}],{})},this.resetPassUserProfile=()=>{var e=i.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e&&e.callDirFromSupport("setAdvanced",{list_component:"isResetPassword"},!0)},this.uncheckLeaderCTM=()=>{var e,t,a,s;if((null===(e=this.context.data)||void 0===e||null===(t=e.data_cpn)||void 0===t||null===(a=t.ctm_customer_group_account_of_group)||void 0===a?void 0:a.isleader)||"all_left"===(null===(s=this.context.componentConfigDefault)||void 0===s?void 0:s.code)){var o,l,n;const e=null===(o=this.context)||void 0===o||null===(l=o.infoA_parent)||void 0===l?void 0:l.key_form;var r=i.g.getFormAppAuto(e);if(!r)return;let t=r.getDataAll("");(null===t||void 0===t||null===(n=t.ctm_customer_group)||void 0===n?void 0:n.mmemberid)&&(t.ctm_customer_group.mmemberid="",r.putDataAll_andSet(t))}},this.checkLeaderCTM=()=>{var e,t,a,s,o,l,n,r,c,d,m;let u=null===(e=this.context)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data_cpn,h=null===u||void 0===u||null===(a=u.rown_data)||void 0===a||null===(s=a.ctm_customer_group_account_of_group)||void 0===s?void 0:s.customercd;const g=null===(o=this.context)||void 0===o||null===(l=o.infoA_parent)||void 0===l?void 0:l.key_form;var _=i.g.getFormAppAuto(g);if(!_)return;let p=_.getData("");!(null===(n=p)||void 0===n||null===(r=n.ctm_customer_group)||void 0===r?void 0:r.grpcd)&&(null===(c=this.context.componentConfigDefault)||void 0===c?void 0:c.code)&&(p=_.getDataAll(""));let f=(null===(d=p)||void 0===d||null===(m=d.ctm_customer_group)||void 0===m?void 0:m.members)||p.ctm_customer_group_account_of_group;var v,b;h||(h=null===(v=p)||void 0===v||null===(b=v.ctm_customer_group)||void 0===b?void 0:b.mmemberid);if(h){p.ctm_customer_group.mmemberid=h;for(let e=0;e<f.length;e++){let t=f[e].ctm_customer_group_account_of_group;t.isleader=t.customercd===h}p.ctm_customer_group_account_of_group=f,_.putDataAll_andSet(p)}},this.openAprove=e=>{let t,a=this.context.infoA_parent;if(a&&a.key_form){let e=i.g.getFormAppAuto(a.key_form);e.hasOwnProperty("getFormValidate")&&(e.getFormValidate()||(e.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:!1},{}),e.hasOwnProperty("getData")&&(t=i.g.analyticsTable(e.getData("")))))}var s=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==s){if(s.hasOwnProperty("callDirFromSupport")&&(s.callDirFromSupport("checkValidate",{},{}),s.hasOwnProperty("getFormValidate")&&!s.getFormValidate())){s.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:"true"},{}),this.context.input=this.input,s.hasOwnProperty("getData")&&(this.context.data=i.g.analyticsTable(s.getData("")),t&&(this.context.data=Object.assign(t,this.context.data)));var o=this.buildPackRollBack();i.g.modalDynamicFromFromCode(e,o)}}else i.g.AppException("#form.getData","form is undefined","system")},this.modalAppoveLater=()=>{let e=i.g.cloneJson(i.g.modalDynamicFromFromCode_getRoleBack()),t=i.g.getFormAppAuto(e.context.infoA.key_form),a={};return void 0!==t&&t.hasOwnProperty("callDirFromSupport")&&(t.setFormValidateFromFunctionClient(!1),t.clearError(),a=t.getDataAll()),void 0!==e&&void 0!==e.context&&(this.input=e.context.input,this.context.infoA=e.context.infoA,this.input_action=Object.assign(a,e.context.input),this.input_action.user_approve={},this.input_action.user_approve.usrid=-1),i.g.modalDynamicFromFromCode_close(),!0},this.modalAppoveApprove=()=>{}}}var Ne=Ce;class Me extends s.a{constructor(){super(...arguments),this.loadData=()=>{this.input_action=this.input},this.setData=()=>{if(void 0!==this.context&&void 0!==this.context.infoA&&void 0!==this.context.infoA.key_form){var e=i.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e&&e.hasOwnProperty("callDirFromSupport")&&e.callDirFromSupport("set",{list_component:"*",inform:"true",checkError:!1},this.input)}},this.addEventToCalender=()=>{if(void 0!==this.input.calender&&void 0!==this.context&&void 0!==this.context.infoA&&void 0!==this.context.infoA.key_form){var e=i.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e&&e.hasOwnProperty("callDirFromSupport")&&e.callDirFromSupport("set",{list_component:"*",inform:"true",checkError:!1},this.input.calender)}},this.removeEvent=()=>(this.input_action=this.input,!0)}}var ke=Me;class Ee extends s.a{constructor(){super(...arguments),this.loadData=()=>{this.input_action=this.input},this.setData=()=>{if(void 0!==this.context&&void 0!==this.context.infoA&&void 0!==this.context.infoA.key_form){var e=i.g.getFormAppAuto(this.context.infoA.key_form);void 0!==e&&e.hasOwnProperty("callDirFromSupport")&&e.callDirFromSupport("set",{list_component:"*",inform:"true",checkError:!1},this.input)}}}}var xe=Ee;class Ie extends s.a{constructor(){super(...arguments),this.openForm=e=>"systemStop",this.testFee=(e,t)=>{if(void 0!==this.context.data&&void 0!==this.context.data.ruleFunction&&void 0!==this.context.data.ruleFunction.component_result&&void 0!==this.context.infoA&&void 0!==this.context.infoA.key_form){var a=i.g.getFormAppAuto(this.context.infoA.key_form);void 0!==a&&a.hasOwnProperty("callDirFromSupport")&&a.callDirFromSupport("set",{},{table1:{recvalue:e}})}},this.goiFuntion1111=(e,t)=>{if(void 0!==this.context.data&&void 0!==this.context.data.ruleFunction&&void 0!==this.context.data.ruleFunction.component_result&&void 0!==this.context.infoA&&void 0!==this.context.infoA.key_form){var a=i.g.getFormAppAuto(this.context.infoA.key_form);void 0!==a&&a.hasOwnProperty("callDirFromSupport")&&a.callDirFromSupport("set",{},{table1:{recvalue:e}})}}}}var Te=Ie,we={pcsamt:2010,pcsccr:"KHR",cccr:"KHR",listFeeInfo:[],listIFC:[],tempIFC:null,rules:{CCL_FEE:je(),GET_FEE:function(e){var t,a;return(null===(t=we)||void 0===t||null===(a=t.rules)||void 0===a?void 0:a.GET_FEE)||[]}()}};let Oe={totalfee:0,totalcsh:0,totaldpt:0,totalact:0,totalint:0,totalprn:0,totalper:0,totalflat:0,totalsamt:0,totalramt:0,ttsfper:0};class Se extends s.a{constructor(){var e;super(...arguments),e=this,this.convertData=e=>{var t;let a=i.g.getFormAppAuto(this.context.infoA.key_form).getDataAll("");a.key_form=this.context.infoA.key_form;let s=(null===(t=a[this.context.infoA.key_form])||void 0===t?void 0:t.ifcfees)||[];for(let i=0;i<s.length;i++){const e=s[i].ifcfees,t=JSON.parse(e.rule_ccl);for(let o=0;o<t.length;o++){const l=t[o];e.paysrc.toLowerCase()===l.relf.split(";")[0]&&(s[i].ifcfees.rule_ccl_0=a[this.context.infoA.key_form][l.relf.split(";")[2]],s[i].ifcfees.rule_ccl_1=e.ccrcd)}}return this.input_action=i.g.analyticsTable(a),!0},this.feeCaculatorDataConvert=async()=>{var e,t=i.g.getFormAppAuto(this.context.infoA.key_form);let a=i.g.cloneJson(t.getDataAll()),s=this.input.data||{};s.ifcfees=(null===(e=a[this.context.infoA.key_form])||void 0===e?void 0:e.ifcfees)||[],await t.putDataAll_andSet(s);const o=t.callDirFromSupport("getKeyForm",{list_component:"form_fee",list_view:"",inform:"true",checkError:"false"},{});let l=i.g.getFormAppAuto(o.form_fee);l&&l.callDirFromSupport("runFO",{list_component:"btn_add",list_view:"",inform:"true",checkError:"false"},{action:[{function:"own_O9_fee.FeeCCL",status:"A",para:[]}]})},this.FeeAdd=e=>{if(e){var t=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==t){let a=t.getData("");a[e]={},t.putDataAll_andSet(a),t.callDirFromSupport("clearError",{list_component:"*",list_view:"*",inform:"true"},{})}else i.g.AppException("#form.formChil","form is undefined","system")}else i.g.AppException("#form.formChil","parameter is undefined","system");return!1},this.FeeApply=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"form_child",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ifcfees",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ifccd",o=i.g.getFormAppAuto(e.context.infoA.key_form);if(!o)return!1;let l=o.getDataAll(""),n=l[t]||{};delete n[a];let r=l[a]||[];if(!(null===n||void 0===n?void 0:n.ifccd)||!(null===n||void 0===n?void 0:n.ccrcd))return;if(s)for(const e of r)if(e[a][s]===n[s]){n.AFGHkeyIndexWJ=e[a].AFGHkeyIndexWJ;break}if(n.rule_ccl=JSON.parse(l.data_fee.data_fee).list_CCL_FEE,void 0===n.AFGHkeyIndexWJ)n.AFGHkeyIndexWJ=i.g.autoID(),r.push({[a]:i.g.cloneJson(n)}),l[a]=i.g.cloneJson(r);else{for(let e=0;e<r.length;e++){const t=r[e];if(Object.values(t)[0].AFGHkeyIndexWJ===n.AFGHkeyIndexWJ){r[e][a]=i.g.cloneJson(n);break}}l[a]=r}const c=e.context.infoA_parent.key_form;var d=i.g.getFormAppAuto(c);let m=d.getDataAll("")||{};m[c]||(m[c]={}),m[c].ifcfees=l.ifcfees,m.key_form=c;let u=m[c].ifcfees;for(let e=0;e<u.length;e++){const t=u[e].ifcfees,a=JSON.parse(t.rule_ccl);for(let i=0;i<a.length;i++){const s=a[i];t.paysrc.toLowerCase()===s.relf.split(";")[0]&&(u[e].ifcfees.rule_ccl_0=m[c][s.relf.split(";")[2]],u[e].ifcfees.rule_ccl_1=t.ccrcd)}}return e.input_action=i.g.analyticsTable(m),!0},this.FeeCCL_FO=async()=>{var e;let t=i.g.getFormAppAuto(this.context.infoA.key_form);void 0===this.input.data&&(this.input.data={}),await t.putDataAll_andSet({ifcfees:null===(e=this.input.data[this.context.infoA_parent.key_form])||void 0===e?void 0:e.ifcfees}),this.FeeCCL()},this.FeeRemove=e=>{var t=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==t){let a=t.getData("");a[e]=a[e].filter(e=>Object.values(e)[0].AFGHkeyIndexWJ!==Object.values(this.context.data)[0].AFGHkeyIndexWJ),t.putDataAll_andSet(a),this.FeeCCL()}},this.FeeModify=e=>{var t=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==t){let a=t.getData(""),i=Object.values(this.context.data)[0];a[e]=i,t.putDataAll_andSet(a)}},this.FeeCCL=()=>{let e=i.g.getFormAppAuto(this.context.infoA.key_form);if(!e)return!1;let t=e.getDataForm(""),a=[];if(Array.isArray(t.ifcfees))for(const i of t.ifcfees)a.push(i.ifcfees);let s=i.g.getFormAppAuto(this.context.infoA_parent.key_form).callDirFromSupport("getAdvanced",{list_component:"*",list_view:"",inform:"true",checkError:"false"},{}),o=JSON.parse(t.data_fee.data_fee);we={listFeeInfo:[],listIFC:a,tempIFC:null,rules:{CCL_FEE:JSON.parse(o.list_CCL_FEE)||[],GET_FEE:JSON.parse(o.list_GET_FEE)||[]},totalFee:{}};for(const i in s)"object"!==typeof s[i]&&(we[i]=s[i]);je().forEach(e=>{!function(e){!e||e.actcdt&&(e.actcdt,0)||(function(e){let t,a,i=!1;if(e.relf){let s=e.relf.toLowerCase().split(";");if(3===s.length){let o=s[0],l=s[1],n=s[2],r=we.listFeeInfo;for(let e=0;e<r.length;e++)if(r[e].paysrc===o){t=r[e],i=!0;break}i||(t={damt:0,dccrcd:"",paysrc:""},r.push(t)),t.paysrc=o,e.value&&(a=Qe(e.value)),a?t.damt=a:we[l]&&(t.damt=we[l]),we[s[2]]&&(t.dccrcd=we[n])}}}(e),function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=we.listIFC;if(t&&t.length>0){let{pval:a,famt:i}=e?Pe():{pval:0,famt:0};t.forEach(t=>{let s=!1;we.listFeeInfo.forEach(o=>{if(!s){switch(t.valtype){case"P":t.iscal=!(!t.paysrc||!o.paysrc||t.paysrc.toUpperCase()!==o.paysrc.toUpperCase()),t.damt=Ve(t,o,e,i,a);break;case"F":t.iscal=!!o.paysrc,t.damt=t.ifcval;break;default:console.log("Error=======")}s=t.iscal,t.dccrcd=t.iscal?o.dccrcd:"",t.dbrate=t.iscal?Be(t):0,t.ccrrate=t.iscal?He(t):0,t.ibrate=t.iscal?Be(t):0,t.ccrid=o.dccrcd,t.equiamt=ze(t),t.ifcbamt=Ue(t),t.ifcamt=Le(t)}})}),Ye()}}(!1))}(e)}),function(){let e=we.listIFC;Oe={totalfee:0,totalcsh:0,totaldpt:0,totalact:0,totalint:0,totalprn:0,totalper:0,totalflat:0,totalsamt:0,totalramt:0,ttsfper:0},e&&(e.forEach(e=>{switch(e.paysrc){case"CSH":Oe.totalcsh+=e.ifcbamt;break;case"DPT":Oe.totaldpt+=e.ifcbamt;break;case"ACT":Oe.totalact+=e.ifcbamt;break;case"INT":Oe.totalint+=e.ifcbamt;break;case"PRN":Oe.totalprn+=e.ifcbamt;break;default:console.log("Error=======")}switch(e.valtype){case"P":Oe.totalper+=e.ifcbamt;break;case"F":Oe.totalflat+=e.ifcbamt;break;default:console.log("Error=======")}1===e.sfappl&&(Oe.totalsamt+=e.samt,Oe.totalramt+=e.ramt,"P"===e.valtype&&(Oe.ttsfper+=e.samt))}),Oe.totalfee=Oe.totalact+Oe.totalcsh+Oe.totaldpt+Oe.totalint+Oe.totalprn)}(),this.GET_FEE();let l=[];for(const n of we.listIFC)l.push({ifcfees:i.g.cloneJson(n)});t.ifcfees=l,t.FEE=Oe,e.putDataAll_andSet(t)},this.FeeCCLFromParent=()=>{let e=i.g.getFormAppAuto(this.context.infoA.key_form);if(!e)return;const t=e.callDirFromSupport("getKeyForm",{list_component:"form_fee",list_view:"",inform:"true",checkError:"false"},{});let a=i.g.getFormAppAuto(t.form_fee);a&&a.callDirFromSupport("runFO",{list_component:"btn_add",list_view:"",inform:"true",checkError:"false"},{action:[{function:"own_O9_fee.FeeCCL",status:"A",para:[]}]})}}GET_FEE(){let e=0,t=we.rules.GET_FEE;t&&t.forEach(t=>{if(t.relf&&(!t.actcdt||(t.actcdt,1))){switch(t.value){case"TOTALFEE":e=Oe.totalfee;break;case"TOTALCSH":e=Oe.totalcsh;break;case"TOTALDPT":e=Oe.totaldpt;break;case"TOTALACT":e=Oe.totalact;break;case"TOTALINT":e=Oe.totalint;break;case"TOTALPRN":e=Oe.totalprn;break;case"TOTALFLAT":e=Oe.totalflat;break;case"TOTALSAMT":e=Oe.totalsamt;break;case"TOTALRAMT":e=Oe.totalramt;break;case"TTSFPER":e=Oe.ttsfper;break;default:we[t.relf]=e,t.value||(e=Qe(t.value))}let a=i.g.getFormAppAuto(this.context.infoA_parent.key_form);if(!a)return!1;a.callDirFromSupport("setAdvanced",{list_component:t.relf},e)}})}}var Fe=Se;function je(e){var t,a;return(null===(t=we)||void 0===t||null===(a=t.rules)||void 0===a?void 0:a.CCL_FEE)||[]}function Le(e){let t=0,a=0;return 1===e.sfappl?(e.srate>=0&&(t=e.ifcbamt*e.srate/100),a=e.ifcbamt-t):(t=0,a=0),e.ifcbamt-a}function ze(e){let t,a=0;if(0!==e.damt&&e.valtype)switch(e.valtype.toUpperCase()){case"P":a=Math.abs(e.damt)*Math.abs(e.ifcval)/100,a*=e.ccrrate,t=a>0?e.ceival>0&&a>Math.abs(e.ceival)?Math.abs(e.ceival):e.flrval>0&&a<Math.abs(e.flrval)?Math.abs(e.flrval):a:0;break;case"F":t=e.damt;break;default:console.log("Error=======")}else t=0;return t}function Re(e,t){let a=Math.pow(10,t);return Math.floor(e*a)/a}function Ue(e){let t=0;if(0!==e.dbrate)if(0!==e.ccrrate&&(t=e.equiamt/e.ccrrate),e.rndrule)switch(e.rndrule){case"U":t=function(e,t){let a=Math.pow(10,t);return Math.ceil(e*a)/a}(t,e.rndnum);break;case"D":t=Re(t,e.rndnum);break;case"T":a=t,i=e.rndnum,t=Re(Re(a,i+1),i);break;case"R":default:t=t.toFixed(e.rndnum)}else t=t.toFixed(e.rndnum);else t=0;var a,i;return Number.parseFloat(t)}function Pe(){let e=0;return we.listIFC.forEach(t=>{switch(t.valtype){case"P":e+=t.ifcval;break;case"F":e+=t.ifcbamt;break;default:console.log("Error=======")}}),{pval:e,famt:0}}function Ve(e,t,a,i,s){let o;return o=e.iscal?a?t.damt-i>0?(t.damt-i)/(1+s/100):0:t.damt:0,o}function Ye(){let e;we.listFeeInfo.forEach(t=>{t.ifccond&&(t.ifccond,0)||t.valbas&&(t.iscal=!1,t.damt=0,e=Qe(t.valbas),e&&(t.iscal=!0,t.damt=e,t.dccrcd=t.ccrid,t.dbrate=Be(t),t.ccrrate=He(t),t.ibrate=Be(t)))})}function Qe(e){return e?1:null}function Be(e){return e.baserate||1}function He(e){return e.crossrate||1}class Ge extends s.a{constructor(){super(...arguments),this.runScheduleJob=e=>{void 0!==e&&p.runSchedule(e,this.context)}}}var Je=Ge;class qe extends s.a{constructor(){super(...arguments),this.getErrorMess=()=>{let e=i.g.modalDynamicFromFromCode_getRoleBack();var t=i.g.getFormAppAuto(this.context.infoA.key_form),a=i.g.getFormAppAuto(e.context.infoA.key_form);if(void 0!==t&&void 0!==a&&a.hasOwnProperty("getContext_FormOpenModal")){let e=a.getContext_FormOpenModal();if(t.hasOwnProperty("showErrorFromServer")){if(e.list_error[0]){let t=e.list_error[0].info;t.includes("]")&&(t=t.substring(t.indexOf("]")+1,t.length)),e.list_error[0].info=t}t.showErrorFromServer(e.list_error)}}},this.openAproveCondition=e=>{var t,a;if(!0!==(null===(t=this.input)||void 0===t||null===(a=t.JWEBUI_O9_approve)||void 0===a?void 0:a.isOpen))return;let s,o=this.context.infoA_parent;if(o&&o.key_form){let e=i.g.getFormAppAuto(o.key_form);e.hasOwnProperty("getFormValidate")&&(e.getFormValidate()||(e.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:!1},{}),e.hasOwnProperty("getData")&&(s=i.g.analyticsTable(e.getData("")))))}var l=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==l){if(l.hasOwnProperty("callDirFromSupport")&&(l.callDirFromSupport("checkValidate",{},{}),l.hasOwnProperty("getFormValidate")&&!l.getFormValidate())){l.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:"true"},{}),this.context.input=this.input,l.hasOwnProperty("getData")&&(this.context.data=i.g.analyticsTable(l.getData("")),s&&(this.context.data=Object.assign(s,this.context.data)));var n=this.buildPackRollBack();i.g.modalDynamicFromFromCode(e,n)}}else i.g.AppException("#form.getData","form is undefined","system")},this.openAproveDelete=e=>{this.context.input=i.g.cloneJson(this.input);var t=this.buildPackRollBack();i.g.modalDynamicFromFromCode(e,t)},this.openAprove=e=>{let t,a=this.context.infoA_parent;if(a&&a.key_form){let e=i.g.getFormAppAuto(a.key_form);e.hasOwnProperty("getFormValidate")&&(e.getFormValidate()||(e.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:!1},{}),e.hasOwnProperty("getData")&&(t=i.g.analyticsTable(e.getData("")))))}var s=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==s){if(s.hasOwnProperty("callDirFromSupport")&&(s.setFormValidateFromFunctionClient(!1),s.clearError(),s.callDirFromSupport("checkValidate",{},{}),s.hasOwnProperty("getFormValidate")&&!s.getFormValidate())){s.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:"true"},{}),this.context.input=this.input,s.hasOwnProperty("getData")&&(this.context.data=i.g.analyticsTable(s.getData("")),t&&(this.context.data=Object.assign(t,this.context.data)));var o=this.buildPackRollBack();i.g.modalDynamicFromFromCode(e,o)}}else i.g.AppException("#form.getData","form is undefined","system")},this.modelApproveOpen=e=>{let t,a=this.context.infoA_parent;if(a&&a.key_form){let e=i.g.getFormAppAuto(a.key_form);e.hasOwnProperty("getFormValidate")&&(e.getFormValidate()||(e.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:!1},{}),e.hasOwnProperty("getData")&&(t=i.g.analyticsTable(e.getData("")))))}var s=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==s){if(s.hasOwnProperty("callDirFromSupport")&&(s.callDirFromSupport("checkValidate",{},{}),s.hasOwnProperty("getFormValidate")&&!s.getFormValidate())){s.callDirFromSupport("get",{list_component:"*",list_view:"code",inform:"true",checkError:"true"},{}),this.context.input=this.input,s.hasOwnProperty("getData")&&(this.context.data=i.g.analyticsTable(s.getData("")),t&&(this.context.data=Object.assign(t,this.context.data)));var o=this.buildPackRollBack();i.g.modalDynamicFromFromCode(e,o)}}else i.g.AppException("#form.getData","form is undefined","system")},this.modalApproveTable=()=>{let e=i.g.modalDynamicFromFromCode_getRoleBack();var t=i.g.getFormAppAuto(e.context.infoA.key_form);return void 0!==t&&t.hasOwnProperty("callDirFromSupport")&&(t.setFormValidateFromFunctionClient(!1),t.clearError()),void 0!==e&&void 0!==e.context&&(this.input_action=Object.assign(e.context.data,e.context.input),this.input_action=Object.assign(this.input_action,i.g.cloneJson(this.input)),this.context.infoA=e.context.infoA),i.g.modalDynamicFromFromCode_close(),!0},this.modalAppoveApproveOke=()=>{let e=i.g.modalDynamicFromFromCode_getRoleBack();var t=i.g.getFormAppAuto(e.context.infoA.key_form);let a={};return void 0!==t&&t.hasOwnProperty("callDirFromSupport")&&(t.setFormValidateFromFunctionClient(!1),t.clearError(),a=t.getDataAll()),void 0!==e&&void 0!==e.context&&(this.input_action=Object.assign(a,e.context.input),this.input_action=Object.assign(this.input_action,i.g.cloneJson(this.input)),this.context.infoA=e.context.infoA),i.g.modalDynamicFromFromCode_close(),!0},this.modalAppoveApprove=()=>{var e=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0!==e&&e.hasOwnProperty("callDirFromSupport")&&(e.setFormValidateFromFunctionClient(!1),e.clearError(),e.callDirFromSupport("checkValidate",{},{}),!e.getFormValidate())){let t=e.getDataAll();return this.input_action=t,!0}return!1},this.modalAppoveLater=()=>{let e=i.g.modalDynamicFromFromCode_getRoleBack();return void 0!==e&&void 0!==e.context&&(this.input=e.context.input,this.context.infoA=e.context.infoA,this.input_action=Object.assign(e.context.data,e.context.input)),i.g.modalDynamicFromFromCode_close(),!0},this.openForm=e=>{this.context.data={test:"C\xf3 g\u1eedi data l\xean form n\xe8, gi\u1edd nh\u1ea5n g\u1eedi th\xf4i nha aaaaaaa"};var t=this.buildPackRollBack();i.g.modalDynamicFromFromCode(e,t)},this.actionForm=()=>{let e=i.g.modalDynamicFromFromCode_getRoleBack();void 0!==e&&void 0!==e.context&&e.context.data,i.g.modalDynamicFromFromCode_close()},this.closeForm=()=>{i.g.modalDynamicFromFromCode_close()}}}var We=qe;class Ke extends s.a{constructor(){super(...arguments),this.loadChartJs=()=>{let e=i.g.getFormAppAuto(this.context.infoA.key_form);if(void 0===window.google){let t="/app/gstatic/loader.js";i.g.loadJs(t).then(t=>{window.google.charts.load("current",{packages:["corechart"]}),window.google.charts.setOnLoadCallback(()=>{this.drawChart(e)})},e=>{})}else this.drawChart(e)},this.drawChart=e=>{e.callDirFromSupport("drawChart",{list_component:"*",list_view:"code"},{})}}}const Ze={own_O9_fee:Fe,own_O9:Ne,own_print:ye,own_o9_calender:xe,system:y,message:l,event:A,form:N,formsql:k,chat:x,masterdata:T,own:$,runFunc:te,formAPI:ie,formChild:oe,support:ne,msgSystem:ce,supportKeyboard:Ae,calender:ke,formJoin:Te,schedule:Je,formModal:We,chart:Ke};t.a=Ze},function(e,t,a){"use strict";a.r(t);var i=a(0),s=a.n(i),o=a(1),l=a(2);class n extends i.Component{constructor(e){super(e);var t=!0;void 0!==this.props.hasSTT&&(t=this.props.hasSTT);var a=!0;void 0!==this.props.hasBtn&&(a=this.props.hasBtn);for(var i=this.props.columns,s=0;s<i.length;s++)i[s].search="";this.state={columns:i,openSearch:!1,hasSTT:t,hasBtn:a}}async onChangeSeacrh(e){void 0!==this.props.onChangeSeacrh&&this.props.onChangeSeacrh(e)}render(){return s.a.createElement("thead",null,s.a.createElement("tr",{onDoubleClick:()=>{var e=!this.state.openSearch;if(!1===e){for(var t=this.state.columns,a=0;a<t.length;a++)t[a].search="";this.setState({openSearch:e,columns:t}),this.onChangeSeacrh(t)}else this.setState({openSearch:e})},className:"bg-info base-reverse"},this.state.hasSTT&&s.a.createElement("th",{style:{width:"30px"}},o.g.getLang("stt")),this.state.columns.map((e,t)=>s.a.createElement("th",{key:t},o.g.getLang(e.title),this.state.openSearch&&s.a.createElement("input",{className:"form-control",value:e.search,onChange:e=>{var a=this.state.columns;a[t].search=e.target.value,this.setState({columns:a}),this.onChangeSeacrh(a)}}))),this.state.hasBtn&&s.a.createElement("th",null)))}}var r=n,c=a(3),d=a(6),m=a(5);class u extends i.Component{constructor(e){super(e),this.changeKeyLanguage=e=>{let t={note:o.g.getLang("note"),title_:o.g.getLang("elearning_title"),des_:o.g.getLang("elearning_des"),role_system:o.g.getLang("elearning_roleSystem"),none_:o.g.getLang("elearning_none"),status:o.g.getLang("elearning_status"),active_:o.g.getLang("elearning_active"),inactive_:o.g.getLang("elearning_inactive"),info_des:o.g.getLang("elearning_infoDes"),form_code:o.g.getLang("elearning_formCode"),info_title:o.g.getLang("elearning_infoTitle"),code_:o.g.getLang("elearning_code"),content_title:o.g.getLang("elearning_contentTitle"),btn_save:o.g.getLang("elearning_btnSave"),btn_cancel:o.g.getLang("elearning_btnCancel"),column_title:o.g.getLang("elearning_columnTitle"),btn_view:o.g.getLang("elearning_btnView")};if(void 0!==e)return t;let a=this.state.infoA;a.title=o.g.getLang("elearning_title"),a.des=o.g.getLang("elearning_des"),a.lang_form.vi=o.g.getLang("elearning_title"),a.lang_form.en=o.g.getLang("elearning_title"),this.setState({languages:t,infoA:a})},this.getInfoA=()=>this.state.infoA,this.getKeyFormAuto=()=>this.key_form,this.callSetHidden=e=>{this.setState({visibility:e})},this.key_form="eLearning";let t=this.changeKeyLanguage("start");var a=o.g.getData("role_system"),i=[];if(void 0!==a)for(var s=0;s<a.length;s++){var l=a[s].role_system;i[i.length]={code:l.role_system_id,title:l.role_system_name}}var n=[];void 0!==this.props.data&&(n=this.props.data),this.state={disabled:!1,visibility:"",data:n,list_role:i,lang_system:o.g.getConfigUserDefault("list_lang_config"),infoA:{lang_form:{vi:o.g.getLang("elearning_title"),en:o.g.getLang("elearning_title")},title:"Training management",des:"T\u1ea5t c\u1ea3 th\xf4ng tin \u0111\xe0o t\u1ea1o!",openOne:"true",ofModal:!1},isPostButton:!1,auto_id:o.g.autoID(),eleaning_id_auto:o.g.autoID(),elearning_title:"",elearning_status:!0,elearning_old:!1,elearning_version:1,elearning_time:0,elearning_role:"none",form_id_select:o.g.autoID(),info:{title:"",des:"",data:"",learnapi:"",learnsql:"",bodata:"",openOne:"true"},check_screen_width:void 0,languages:t}}UNSAFE_componentWillMount(){window.addEventListener("resize",()=>{window.innerWidth>=325&&window.innerWidth<996?this.setState({check_screen_width:!0}):this.setState({check_screen_width:!1})}),window.innerWidth>=325&&window.innerWidth<996?this.setState({check_screen_width:!0}):this.setState({check_screen_width:!1})}save_eLearning(){let e={},t=this.props.temple_elearning;for(let o of t.list_layout[0].list_view[0].list_input)"jeLearning"===o.inputtype&&(o.config.data_elearning=this.state.eleaning_id_auto);e.info=this.state.info,e.info.form_code=this.state.form_id_select,e.list_layout=t.list_layout,Object(m.b)([{txcode:"#sys:bo-save-formConfigId",input:{form_id:this.state.form_id_select,pack_send:e}}],{}),this.setState({isPostButton:!0}),setTimeout(()=>{this.setState({isPostButton:!1})},3e3);for(var a={eleaning_id_auto:this.state.eleaning_id_auto,elearning_title:this.state.elearning_title,elearning_status:this.state.elearning_status,elearning_user_create:Object(o.x)(),elearning_user_update:Object(o.x)(),elearning_old:this.state.elearning_old,elearning_version:this.state.elearning_version,elearning_time:this.state.elearning_time,elearning_role:this.state.elearning_role,info:this.state.info},i={},s=!1,l=0;l<this.state.lang_system.length;l++){var n=this.ob_mde[this.state.lang_system[l].key].value().trim();""===n||s||(s=!0),i[this.state.lang_system[l].key]=n}if(s){d.a.quickPost([{txcode:"#sys:bo-save-eLearning",input:{info_elearning:a,content_elearning:i}}],{});var r=this.state.data;if(this.state.elearning_old)for(var c=0;c<r.length;c++)r[c].eleaning_id_auto===this.state.eleaning_id_auto&&(r[c]=a);else r[r.length]=a;for(var u in this.setState({elearning_title:"",elearning_status:!0,elearning_old:!1,elearning_version:1,elearning_time:0,elearning_role:"none",eleaning_id_auto:o.g.autoID(),data:r,form_id_select:o.g.autoID(),info:{title:"",des:"",data:"",learnapi:"",learnsql:"",bodata:"",openOne:"true"}}),this.ob_mde)this.ob_mde[u].value("")}}downLoadOneELearning(e){for(var t="",a=0;a<this.state.lang_system.length;a++)t+=""===t?this.state.lang_system[a].key:";"+this.state.lang_system[a].key;Object(m.b)([{txcode:"#sys:bo-load-oneELearing",input:{eleaning_id:e,all_lang:t}}],{}).then(e=>{var t=o.g.foGetData("data",e);for(var a in t)this.ob_mde[a].value(t[a])},e=>{})}onChangeValue(e,t){var a=this.state.info;a[e]=t.target.value,this.setState({info:a})}render(){return s.a.createElement("div",{className:"form-style",style:{display:this.state.visibility}},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 col-lg-12"},s.a.createElement("div",{className:"col-md-12 col-lg-12"},s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"prtm-block-title mrgn-b"},s.a.createElement("h3",null,this.state.languages.title_),s.a.createElement("p",null,s.a.createElement("span",{className:"note-box bg-danger"},this.state.languages.note),this.state.languages.des_)),s.a.createElement("div",{className:"row full-lg-md"},s.a.createElement("div",{className:"line-slide-tab"},s.a.createElement("ul",{className:"nav nav-tabs"},this.state.lang_system.map((e,t)=>s.a.createElement("li",{key:t,className:0===t?"active":""},s.a.createElement("a",{"data-toggle":"tab",href:"#tab-"+this.state.auto_id+t,"aria-expanded":"false"},e.view," ")))),s.a.createElement("div",{className:"tab-content pad-all-lg"},this.state.lang_system.map((e,t)=>s.a.createElement("div",{key:t,id:"tab-"+this.state.auto_id+t,className:0===t?"tab-pane fade active in":"tab-pane fade"},s.a.createElement("textarea",{ref:"context"+t,readOnly:!0,placeholde:e.view}))))),s.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},s.a.createElement(c.a,{class:"col-sm-12 col-md-4",name:this.state.languages.role_system,data:this.state.list_role,value:this.state.role_system_select,hasNew:!0,has_new_value:"none",has_new_name:this.state.languages.none_,onChange:e=>{this.setState({elearning_role:e.target.value})}}),s.a.createElement(c.a,{class:"col-sm-12 col-md-4",name:this.state.languages.status,data:[{title:this.state.languages.active_,code:"true"},{title:this.state.languages.inactive_,code:"false"}],value:this.state.elearning_status,hasNew:!1,onChange:e=>{this.setState({elearning_status:e.target.value})}}),s.a.createElement(l.a,{name:this.state.languages.info_des,class:"col-sm-12 col-md-4",value:this.state.info.des,onChange:e=>this.onChangeValue("des",e)}),s.a.createElement(l.a,{name:this.state.languages.form_code,class:"col-sm-12 col-md-3",disabled:this.state.disabled,onChange:e=>{this.setState({form_id_select:e.target.value})},value:this.state.form_id_select}),s.a.createElement(l.a,{name:this.state.languages.info_title,class:"col-sm-12 col-md-3",value:this.state.info.title,onChange:e=>this.onChangeValue("title",e)}),s.a.createElement(l.a,{name:this.state.languages.code_,class:"col-sm-12 col-md-3",disabled:this.state.disabled,onChange:e=>{this.setState({eleaning_id_auto:e.target.value})},value:this.state.eleaning_id_auto}),s.a.createElement(l.a,{name:this.state.languages.content_title,class:"col-sm-12 col-md-3",onChange:e=>{this.setState({elearning_title:e.target.value})},value:this.state.elearning_title})),s.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12",style:{padding:"10px 5px 5px 30px"}},s.a.createElement("button",{className:"btn btn-success",type:"button",disabled:this.state.isPostButton,onClick:()=>{this.save_eLearning()}},this.state.languages.btn_save)," ",s.a.createElement("button",{className:"btn btn-danger",type:"button",onClick:()=>{this.setState({disabled:!1,eleaning_id_auto:this.state.disabled?o.g.autoID():this.state.eleaning_id_auto,elearning_title:"",elearning_status:!0,elearning_old:!1,elearning_version:0,elearning_time:0,elearning_role:"none",form_id_select:this.state.disabled?o.g.autoID():this.state.form_id_select,info:{title:"",des:"",data:"",learnapi:"",learnsql:"",bodata:"",openOne:"true"}})}},this.state.languages.btn_cancel)))),s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"row full-lg-md"},s.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-12"},s.a.createElement("div",{className:"table-responsive"},s.a.createElement("div",{className:void 0===this.state.check_screen_width||this.state.check_screen_width?"":"no-more-tables"},s.a.createElement("table",{className:"table table-bordered table-middle"},s.a.createElement(r,{hasSTT:!1,columns:[{code:"eleaning_id_auto",title:"ID"},{code:"elearning_title",title:this.state.languages.column_title}],onChangeSeacrh:e=>{}}),s.a.createElement("tbody",null,this.state.data.map((e,t)=>s.a.createElement("tr",{key:t},s.a.createElement("td",null,e.eleaning_id_auto),s.a.createElement("td",null,e.elearning_title),s.a.createElement("td",null,s.a.createElement("button",{className:"btn btn-warning",type:"button",onClick:()=>{this.setState({disabled:!0,eleaning_id_auto:e.eleaning_id_auto,elearning_title:e.elearning_title,elearning_status:e.elearning_status,elearning_old:!0,elearning_version:e.elearning_version+1,elearning_time:e.elearning_time,elearning_role:e.elearning_role,form_id_select:void 0!==e.info?e.info.form_code:"",info:void 0!==e.info?e.info:{title:"",des:"",data:"",learnapi:"",learnsql:"",bodata:"",openOne:"true"}}),this.downLoadOneELearning(e.eleaning_id_auto)}},this.state.languages.btn_view))))))))))),s.a.createElement("div",{className:"prtm-block"},s.a.createElement("div",{className:"row full-lg-md"},s.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-8"},s.a.createElement("h4",null,"Emphasis"),s.a.createElement("pre",null,"**",s.a.createElement("strong",null,"bold"),"**",s.a.createElement("br",null),"*",s.a.createElement("em",null,"italics"),"*",s.a.createElement("br",null),"~~",s.a.createElement("strike",null,"strikethrough"),"~~"),s.a.createElement("br",null),s.a.createElement("h4",null,"Headers"),s.a.createElement("pre",null,"# Big header",s.a.createElement("br",null),"## Medium header",s.a.createElement("br",null),"### Small header",s.a.createElement("br",null),"#### Tiny header"),s.a.createElement("br",null),s.a.createElement("h4",null,"Lists"),s.a.createElement("pre",null,"* Generic list item",s.a.createElement("br",null),"* Generic list item",s.a.createElement("br",null),"* Generic list item",s.a.createElement("br",null),s.a.createElement("br",null),"1. Numbered list item",s.a.createElement("br",null),"2. Numbered list item",s.a.createElement("br",null),"3. Numbered list item"),s.a.createElement("br",null),s.a.createElement("h4",null,"Links"),s.a.createElement("pre",null,"[Text to display](http://www.example.com)"),s.a.createElement("br",null),s.a.createElement("h4",null,"Quotes"),s.a.createElement("pre",null,"> This is a quote.",s.a.createElement("br",null),"> It can span multiple lines!"),s.a.createElement("br",null),s.a.createElement("h4",null,"Images \xa0 ",s.a.createElement("small",null,"Need to upload an image? ",s.a.createElement("a",{href:"http://imgur.com/",target:"blank"},"Imgur")," has a great interface.")),s.a.createElement("pre",null,"![](http://www.example.com/image.jpg)"),s.a.createElement("br",null),s.a.createElement("h4",null,"Tables"),s.a.createElement("pre",null,"| Column 1 | Column 2 | Column 3 |",s.a.createElement("br",null),"| -------- | -------- | -------- |",s.a.createElement("br",null),"| John     | Doe      | Male     |",s.a.createElement("br",null),"| Mary     | Smith    | Female   |",s.a.createElement("br",null),s.a.createElement("em",null,"Or without aligning the columns..."),s.a.createElement("br",null),"| Column 1 | Column 2 | Column 3 |",s.a.createElement("br",null),"| -------- | -------- | -------- |",s.a.createElement("br",null),"| John | Doe | Male |",s.a.createElement("br",null),"| Mary | Smith | Female |",s.a.createElement("br",null)),s.a.createElement("br",null),s.a.createElement("h4",null,"Displaying code"),s.a.createElement("pre",null,'`var example = "hello!";`',s.a.createElement("br",null),s.a.createElement("em",null,"Or spanning multiple lines..."),s.a.createElement("br",null),"```",s.a.createElement("br",null),'var example = "hello!";',s.a.createElement("br",null),"alert(example);",s.a.createElement("br",null),"```")),s.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 col-lg-4"},s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{align:"left"},"Shortcut"),s.a.createElement("th",{align:"left"},"Action"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{align:"left"},s.a.createElement("em",null,"Cmd-'")),s.a.createElement("td",{align:"left"},'"toggleBlockquote"')),s.a.createElement("tr",null,s.a.createElement("td",{align:"left"},s.a.createElement("em",null,"Cmd-B")),s.a.createElement("td",{align:"left"},'"toggleBold"')),s.a.createElement("tr",null,s.a.createElement("td",{align:"left"},s.a.createElement("em",null,"Cmd-E")),s.a.createElement("td",{align:"left"},'"cleanBlock"')),s.a.createElement("tr",null,s.a.createElement("td",{align:"left"},s.a.createElement("em",null,"Cmd-H")),s.a.createElement("td",{align:"left"},'"toggleHeadingSmaller"')),s.a.createElement("tr",null,s.a.createElement("td",{align:"left"},s.a.createElement("em",null,"Cmd-I")),s.a.createElement("td",{align:"left"},'"toggleItalic"')),s.a.createElement("tr",null,s.a.createElement("td",{align:"left"},s.a.createElement("em",null,"Cmd-K")),s.a.createElement("td",{align:"left"},'"drawLink"')),s.a.createElement("tr",null,s.a.createElement("td",{align:"left"},s.a.createElement("em",null,"Cmd-L")),s.a.createElement("td",{align:"left"},'"toggleUnorderedList"')),s.a.createElement("tr",null,s.a.createElement("td",{align:"left"},s.a.createElement("em",null,"Cmd-P")),s.a.createElement("td",{align:"left"},'"togglePreview"')),s.a.createElement("tr",null,s.a.createElement("td",{align:"left"},s.a.createElement("em",null,"Cmd-Alt-C")),s.a.createElement("td",{align:"left"},'"toggleCodeBlock"')),s.a.createElement("tr",null,s.a.createElement("td",{align:"left"},s.a.createElement("em",null,"Cmd-Alt-I")),s.a.createElement("td",{align:"left"},'"drawImage"')),s.a.createElement("tr",null,s.a.createElement("td",{align:"left"},s.a.createElement("em",null,"Cmd-Alt-L")),s.a.createElement("td",{align:"left"},'"toggleOrderedList"')),s.a.createElement("tr",null,s.a.createElement("td",{align:"left"},s.a.createElement("em",null,"Shift-Cmd-H")),s.a.createElement("td",{align:"left"},'"toggleHeadingBigger"')),s.a.createElement("tr",null,s.a.createElement("td",{align:"left"},s.a.createElement("em",null,"F9")),s.a.createElement("td",{align:"left"},'"toggleSideBySide"')),s.a.createElement("tr",null,s.a.createElement("td",{align:"left"},s.a.createElement("em",null,"F11")),s.a.createElement("td",{align:"left"},'"toggleFullScreen"')))))))))))}componentDidMount(){o.g.addAppAuto(this.key_form,this,this.state.infoA.ofModal),o.g.form_addMapping(this.key_form,this.props.mapping_key),this.ob_mde={};for(var e=0;e<this.state.lang_system.length;e++)this.ob_mde[this.state.lang_system[e].key]=new window.SimpleMDE({element:this.refs["context"+e],promptURLs:!0,spellChecker:!1,placeholder:"# This text \nwell come: "+this.state.lang_system[e].view})}}t.default=u},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(155)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){var i={"./designForm/LogicDesignForm/RuleFunction":[36,9,2,12],"./designForm/LogicDesignForm/RuleFunction/":[36,9,2,12],"./designForm/LogicDesignForm/RuleFunction/calculator":[28,9,7],"./designForm/LogicDesignForm/RuleFunction/calculator/":[28,9,7],"./designForm/LogicDesignForm/RuleFunction/calculator/index":[28,9,7],"./designForm/LogicDesignForm/RuleFunction/calculator/index.js":[28,9,7],"./designForm/LogicDesignForm/RuleFunction/constants":[54,9,21],"./designForm/LogicDesignForm/RuleFunction/constants.js":[54,9,21],"./designForm/LogicDesignForm/RuleFunction/get_info":[29,9,8],"./designForm/LogicDesignForm/RuleFunction/get_info/":[29,9,8],"./designForm/LogicDesignForm/RuleFunction/get_info/index":[29,9,8],"./designForm/LogicDesignForm/RuleFunction/get_info/index.js":[29,9,8],"./designForm/LogicDesignForm/RuleFunction/index":[36,9,2,12],"./designForm/LogicDesignForm/RuleFunction/index.js":[36,9,2,12],"./designForm/LogicDesignForm/RuleFunction/managerComponent":[34,9,9],"./designForm/LogicDesignForm/RuleFunction/managerComponent/":[34,9,9],"./designForm/LogicDesignForm/RuleFunction/managerComponent/index":[34,9,9],"./designForm/LogicDesignForm/RuleFunction/managerComponent/index.js":[34,9,9],"./designForm/LogicDesignForm/RuleFunction/numberCal":[33,9,10],"./designForm/LogicDesignForm/RuleFunction/numberCal/":[33,9,10],"./designForm/LogicDesignForm/RuleFunction/numberCal/index":[33,9,10],"./designForm/LogicDesignForm/RuleFunction/numberCal/index.js":[33,9,10],"./designForm/LogicDesignForm/RuleFunction/run_fo":[35,9,6],"./designForm/LogicDesignForm/RuleFunction/run_fo/":[35,9,6],"./designForm/LogicDesignForm/RuleFunction/run_fo/index":[35,9,6],"./designForm/LogicDesignForm/RuleFunction/run_fo/index.js":[35,9,6],"./designForm/LogicDesignForm/RuleFunction/setDataGB":[31,9,11],"./designForm/LogicDesignForm/RuleFunction/setDataGB/":[31,9,11],"./designForm/LogicDesignForm/RuleFunction/setDataGB/index":[31,9,11],"./designForm/LogicDesignForm/RuleFunction/setDataGB/index.js":[31,9,11],"./designForm/LogicDesignForm/RuleFunction/setValue":[32,9,4],"./designForm/LogicDesignForm/RuleFunction/setValue/":[32,9,4],"./designForm/LogicDesignForm/RuleFunction/setValue/index":[32,9,4],"./designForm/LogicDesignForm/RuleFunction/setValue/index.js":[32,9,4],"./designForm/LogicDesignForm/RuleFunction/visibility":[30,9,5],"./designForm/LogicDesignForm/RuleFunction/visibility/":[30,9,5],"./designForm/LogicDesignForm/RuleFunction/visibility/index":[30,9,5],"./designForm/LogicDesignForm/RuleFunction/visibility/index.js":[30,9,5],"./designForm/LogicDesignForm/component/baseComponent":[55,9,1],"./designForm/LogicDesignForm/component/baseComponent.js":[55,9,1],"./designForm/LogicDesignForm/component/cButton/config":[56,9,18],"./designForm/LogicDesignForm/component/cButton/config.js":[56,9,18],"./designForm/LogicDesignForm/component/cButton/essence":[63,9,22],"./designForm/LogicDesignForm/component/cButton/essence.js":[63,9,22],"./designForm/LogicDesignForm/component/cButton/lang":[62,9,23],"./designForm/LogicDesignForm/component/cButton/lang.js":[62,9,23],"./designForm/LogicDesignForm/component/cButton/role":[60,9,24],"./designForm/LogicDesignForm/component/cButton/role.js":[60,9,24],"./designForm/LogicDesignForm/component/cButton/validate":[61,9,25],"./designForm/LogicDesignForm/component/cButton/validate.js":[61,9,25],"./designForm/LogicDesignForm/component/cTableDefault/config":[107,9,26],"./designForm/LogicDesignForm/component/cTableDefault/config.js":[107,9,26],"./designForm/LogicDesignForm/component/cTableDefault/essence":[111,9,27],"./designForm/LogicDesignForm/component/cTableDefault/essence.js":[111,9,27],"./designForm/LogicDesignForm/component/cTableDefault/lang":[110,9,28],"./designForm/LogicDesignForm/component/cTableDefault/lang.js":[110,9,28],"./designForm/LogicDesignForm/component/cTableDefault/role":[108,9,29],"./designForm/LogicDesignForm/component/cTableDefault/role.js":[108,9,29],"./designForm/LogicDesignForm/component/cTableDefault/validate":[109,9,30],"./designForm/LogicDesignForm/component/cTableDefault/validate.js":[109,9,30],"./designForm/LogicDesignForm/component/cTextArea/config":[77,9,31],"./designForm/LogicDesignForm/component/cTextArea/config.js":[77,9,31],"./designForm/LogicDesignForm/component/cTextArea/essence":[81,9,32],"./designForm/LogicDesignForm/component/cTextArea/essence.js":[81,9,32],"./designForm/LogicDesignForm/component/cTextArea/lang":[80,9,33],"./designForm/LogicDesignForm/component/cTextArea/lang.js":[80,9,33],"./designForm/LogicDesignForm/component/cTextArea/role":[78,9,34],"./designForm/LogicDesignForm/component/cTextArea/role.js":[78,9,34],"./designForm/LogicDesignForm/component/cTextArea/validate":[79,9,35],"./designForm/LogicDesignForm/component/cTextArea/validate.js":[79,9,35],"./designForm/LogicDesignForm/component/cTextInput/config":[57,9,19],"./designForm/LogicDesignForm/component/cTextInput/config.js":[57,9,19],"./designForm/LogicDesignForm/component/cTextInput/essence":[67,9,36],"./designForm/LogicDesignForm/component/cTextInput/essence.js":[67,9,36],"./designForm/LogicDesignForm/component/cTextInput/lang":[66,9,37],"./designForm/LogicDesignForm/component/cTextInput/lang.js":[66,9,37],"./designForm/LogicDesignForm/component/cTextInput/role":[64,9,38],"./designForm/LogicDesignForm/component/cTextInput/role.js":[64,9,38],"./designForm/LogicDesignForm/component/cTextInput/validate":[65,9,39],"./designForm/LogicDesignForm/component/cTextInput/validate.js":[65,9,39],"./designForm/LogicDesignForm/component/componentDefault":[59,9,40],"./designForm/LogicDesignForm/component/componentDefault.js":[59,9,40],"./designForm/LogicDesignForm/component/component_config":[132,9,1,41],"./designForm/LogicDesignForm/component/component_config.js":[132,9,1,41],"./designForm/LogicDesignForm/component/jChart/config":[112,9,42],"./designForm/LogicDesignForm/component/jChart/config.js":[112,9,42],"./designForm/LogicDesignForm/component/jChart/essence":[116,9,43],"./designForm/LogicDesignForm/component/jChart/essence.js":[116,9,43],"./designForm/LogicDesignForm/component/jChart/lang":[115,9,44],"./designForm/LogicDesignForm/component/jChart/lang.js":[115,9,44],"./designForm/LogicDesignForm/component/jChart/role":[113,9,45],"./designForm/LogicDesignForm/component/jChart/role.js":[113,9,45],"./designForm/LogicDesignForm/component/jChart/validate":[114,9,46],"./designForm/LogicDesignForm/component/jChart/validate.js":[114,9,46],"./designForm/LogicDesignForm/component/jCheckbox/config":[72,9,47],"./designForm/LogicDesignForm/component/jCheckbox/config.js":[72,9,47],"./designForm/LogicDesignForm/component/jCheckbox/essence":[76,9,48],"./designForm/LogicDesignForm/component/jCheckbox/essence.js":[76,9,48],"./designForm/LogicDesignForm/component/jCheckbox/lang":[75,9,49],"./designForm/LogicDesignForm/component/jCheckbox/lang.js":[75,9,49],"./designForm/LogicDesignForm/component/jCheckbox/role":[73,9,50],"./designForm/LogicDesignForm/component/jCheckbox/role.js":[73,9,50],"./designForm/LogicDesignForm/component/jCheckbox/validate":[74,9,51],"./designForm/LogicDesignForm/component/jCheckbox/validate.js":[74,9,51],"./designForm/LogicDesignForm/component/jCurrency/config":[97,9,52],"./designForm/LogicDesignForm/component/jCurrency/config.js":[97,9,52],"./designForm/LogicDesignForm/component/jCurrency/essence":[101,9,53],"./designForm/LogicDesignForm/component/jCurrency/essence.js":[101,9,53],"./designForm/LogicDesignForm/component/jCurrency/lang":[100,9,54],"./designForm/LogicDesignForm/component/jCurrency/lang.js":[100,9,54],"./designForm/LogicDesignForm/component/jCurrency/role":[98,9,55],"./designForm/LogicDesignForm/component/jCurrency/role.js":[98,9,55],"./designForm/LogicDesignForm/component/jCurrency/validate":[99,9,56],"./designForm/LogicDesignForm/component/jCurrency/validate.js":[99,9,56],"./designForm/LogicDesignForm/component/jFullCalendar/config":[127,9,57],"./designForm/LogicDesignForm/component/jFullCalendar/config.js":[127,9,57],"./designForm/LogicDesignForm/component/jFullCalendar/essence":[131,9,58],"./designForm/LogicDesignForm/component/jFullCalendar/essence.js":[131,9,58],"./designForm/LogicDesignForm/component/jFullCalendar/lang":[130,9,59],"./designForm/LogicDesignForm/component/jFullCalendar/lang.js":[130,9,59],"./designForm/LogicDesignForm/component/jFullCalendar/role":[128,9,60],"./designForm/LogicDesignForm/component/jFullCalendar/role.js":[128,9,60],"./designForm/LogicDesignForm/component/jFullCalendar/validate":[129,9,61],"./designForm/LogicDesignForm/component/jFullCalendar/validate.js":[129,9,61],"./designForm/LogicDesignForm/component/jLabel/config":[117,9,62],"./designForm/LogicDesignForm/component/jLabel/config.js":[117,9,62],"./designForm/LogicDesignForm/component/jLabel/essence":[121,9,63],"./designForm/LogicDesignForm/component/jLabel/essence.js":[121,9,63],"./designForm/LogicDesignForm/component/jLabel/lang":[120,9,64],"./designForm/LogicDesignForm/component/jLabel/lang.js":[120,9,64],"./designForm/LogicDesignForm/component/jLabel/role":[118,9,65],"./designForm/LogicDesignForm/component/jLabel/role.js":[118,9,65],"./designForm/LogicDesignForm/component/jLabel/validate":[119,9,66],"./designForm/LogicDesignForm/component/jLabel/validate.js":[119,9,66],"./designForm/LogicDesignForm/component/jMaskInput/config":[58,9,67],"./designForm/LogicDesignForm/component/jMaskInput/config.js":[58,9,67],"./designForm/LogicDesignForm/component/jMaskInput/essence":[71,9,68],"./designForm/LogicDesignForm/component/jMaskInput/essence.js":[71,9,68],"./designForm/LogicDesignForm/component/jMaskInput/lang":[70,9,69],"./designForm/LogicDesignForm/component/jMaskInput/lang.js":[70,9,69],"./designForm/LogicDesignForm/component/jMaskInput/role":[68,9,70],"./designForm/LogicDesignForm/component/jMaskInput/role.js":[68,9,70],"./designForm/LogicDesignForm/component/jMaskInput/validate":[69,9,71],"./designForm/LogicDesignForm/component/jMaskInput/validate.js":[69,9,71],"./designForm/LogicDesignForm/component/jMutiValue/config":[92,9,72],"./designForm/LogicDesignForm/component/jMutiValue/config.js":[92,9,72],"./designForm/LogicDesignForm/component/jMutiValue/essence":[96,9,73],"./designForm/LogicDesignForm/component/jMutiValue/essence.js":[96,9,73],"./designForm/LogicDesignForm/component/jMutiValue/lang":[95,9,74],"./designForm/LogicDesignForm/component/jMutiValue/lang.js":[95,9,74],"./designForm/LogicDesignForm/component/jMutiValue/role":[93,9,75],"./designForm/LogicDesignForm/component/jMutiValue/role.js":[93,9,75],"./designForm/LogicDesignForm/component/jMutiValue/validate":[94,9,76],"./designForm/LogicDesignForm/component/jMutiValue/validate.js":[94,9,76],"./designForm/LogicDesignForm/component/jRadioBox/config":[82,9,20],"./designForm/LogicDesignForm/component/jRadioBox/config.js":[82,9,20],"./designForm/LogicDesignForm/component/jRadioBox/essence":[86,9,77],"./designForm/LogicDesignForm/component/jRadioBox/essence.js":[86,9,77],"./designForm/LogicDesignForm/component/jRadioBox/lang":[85,9,78],"./designForm/LogicDesignForm/component/jRadioBox/lang.js":[85,9,78],"./designForm/LogicDesignForm/component/jRadioBox/role":[83,9,79],"./designForm/LogicDesignForm/component/jRadioBox/role.js":[83,9,79],"./designForm/LogicDesignForm/component/jRadioBox/validate":[84,9,80],"./designForm/LogicDesignForm/component/jRadioBox/validate.js":[84,9,80],"./designForm/LogicDesignForm/component/jSameMain/config":[122,9,81],"./designForm/LogicDesignForm/component/jSameMain/config.js":[122,9,81],"./designForm/LogicDesignForm/component/jSameMain/essence":[126,9,82],"./designForm/LogicDesignForm/component/jSameMain/essence.js":[126,9,82],"./designForm/LogicDesignForm/component/jSameMain/lang":[125,9,83],"./designForm/LogicDesignForm/component/jSameMain/lang.js":[125,9,83],"./designForm/LogicDesignForm/component/jSameMain/role":[123,9,84],"./designForm/LogicDesignForm/component/jSameMain/role.js":[123,9,84],"./designForm/LogicDesignForm/component/jSameMain/validate":[124,9,85],"./designForm/LogicDesignForm/component/jSameMain/validate.js":[124,9,85],"./designForm/LogicDesignForm/component/jSelect/config":[87,9,86],"./designForm/LogicDesignForm/component/jSelect/config.js":[87,9,86],"./designForm/LogicDesignForm/component/jSelect/essence":[91,9,87],"./designForm/LogicDesignForm/component/jSelect/essence.js":[91,9,87],"./designForm/LogicDesignForm/component/jSelect/lang":[90,9,88],"./designForm/LogicDesignForm/component/jSelect/lang.js":[90,9,88],"./designForm/LogicDesignForm/component/jSelect/role":[88,9,89],"./designForm/LogicDesignForm/component/jSelect/role.js":[88,9,89],"./designForm/LogicDesignForm/component/jSelect/validate":[89,9,90],"./designForm/LogicDesignForm/component/jSelect/validate.js":[89,9,90],"./designForm/LogicDesignForm/component/jTableForm/config":[102,9,91],"./designForm/LogicDesignForm/component/jTableForm/config.js":[102,9,91],"./designForm/LogicDesignForm/component/jTableForm/essence":[106,9,92],"./designForm/LogicDesignForm/component/jTableForm/essence.js":[106,9,92],"./designForm/LogicDesignForm/component/jTableForm/lang":[105,9,93],"./designForm/LogicDesignForm/component/jTableForm/lang.js":[105,9,93],"./designForm/LogicDesignForm/component/jTableForm/role":[103,9,94],"./designForm/LogicDesignForm/component/jTableForm/role.js":[103,9,94],"./designForm/LogicDesignForm/component/jTableForm/validate":[104,9,95],"./designForm/LogicDesignForm/component/jTableForm/validate.js":[104,9,95],"./designForm/LogicDesignForm/configLayout":[133,9,96],"./designForm/LogicDesignForm/configLayout.js":[133,9,96],"./designForm/LogicDesignForm/configView":[134,9,97],"./designForm/LogicDesignForm/configView.js":[134,9,97],"./designForm/LogicDesignForm/designTxFo":[53,9,98],"./designForm/LogicDesignForm/designTxFo.js":[53,9,98],"./designForm/LogicDesignForm/form_begin":[135,9,1,2,3,99],"./designForm/LogicDesignForm/form_begin.js":[135,9,1,2,3,99],"./designForm/LogicDesignForm/form_design":[136,9,1,2,3],"./designForm/LogicDesignForm/form_design.js":[136,9,1,2,3],"./designForm/LogicDesignForm/form_preview":[137,7,100],"./designForm/LogicDesignForm/form_preview.js":[137,7,100],"./designForm/desktop_designForm":[138,9,1,2,3,13],"./designForm/desktop_designForm.js":[138,9,1,2,3,13],"./designForm/desktop_designForm_bk":[139,9,101],"./designForm/desktop_designForm_bk.js":[139,9,101],"./jWebUITemplateControl":[19,9],"./jWebUITemplateControl.js":[19,9],"./malibu/desktop_cms":[140,9,0,14],"./malibu/desktop_cms.js":[140,9,0,14],"./malibu/desktop_hub":[141,9,0,15],"./malibu/desktop_hub.js":[141,9,0,15],"./malibu/desktop_o9":[142,9,0,16],"./malibu/desktop_o9.js":[142,9,0,16],"./malibu/desktop_sys":[143,9,0,17],"./malibu/desktop_sys.js":[143,9,0,17],"./malibu1/desktop_o9":[144,9,0,102],"./malibu1/desktop_o9.js":[144,9,0,102],"./malibu2/desktop_o9":[145,9,0,103],"./malibu2/desktop_o9.js":[145,9,0,103]};function s(e){if(!a.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],s=t[0];return Promise.all(t.slice(2).map(a.e)).then((function(){return a.t(s,t[1])}))}s.keys=function(){return Object.keys(i)},s.id=153,e.exports=s},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"callLoadFinal",(function(){return p})),a.d(t,"callLoadTemplateCss",(function(){return f})),a.d(t,"callLoadComponent",(function(){return v})),a.d(t,"callStart",(function(){return b})),a.d(t,"processLoadingGUI",(function(){return y}));var i=a(1),s=a(0),o=a.n(s),l=a(12),n=a.n(l),r=a(7),c={start:{DOM_Html:null,current:0,max_pack:12},header:null};a(154);class d extends s.Component{constructor(e){let t;super(e),this.abstract_changeDevice=e=>{this.setState({device:e})},this.callBack=()=>{this.setState({class:"fade-in"},()=>{setTimeout(()=>{this.setState({visible:!1},this.stopAllAnination())},100)})},this.flagUnMount=!1,t=void 0===this.props.time_out?1e4:this.props.time_out,this.tree_item="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSIxMCIgdmlld0JveD0iMCAwIDggMTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQo8cGF0aCBkPSJNMy4xMTI3OSA3LjY0NDg1QzMuMTEyNzkgNy42NDQ4NSAzLjMwMjA4IDMuNjg1NzQgNy4xODI2MiA0LjE0NTkyWiIgZmlsbD0iIzNGM0Q1NiIvPg0KPHBhdGggZD0iTTIuMDE2NCAzLjg3NzI0QzMuMDg5MDMgMy44NzcyNCAzLjk1ODU4IDMuMDA5MjkgMy45NTg1OCAxLjkzODYyQzMuOTU4NTggMC44Njc5NTQgMy4wODkwMyAwIDIuMDE2NCAwQzAuOTQzNzU5IDAgMC4wNzQyMTg4IDAuODY3OTU0IDAuMDc0MjE4OCAxLjkzODYyQzAuMDc0MjE4OCAzLjAwOTI5IDAuOTQzNzU5IDMuODc3MjQgMi4wMTY0IDMuODc3MjRaIiBmaWxsPSIjNTU1N0U0Ii8+DQo8cGF0aCBkPSJNMi4yNDg0MiA1LjIwMzEySDEuNzAwMlY5LjAzMzcxSDIuMjQ4NDJWNS4yMDMxMloiIGZpbGw9IiMzRjNENTYiLz4NCjwvc3ZnPg0K",this.state={device:this.props.device,skin_config:"",time_out:t,percent_before:0,percent_after:this.props.dataFull.percent,visible:!0}}stopAllAnination(){this.flagUnMount=!0,void 0!==this.ob_animationEye&&this.ob_animationEye.pause(),void 0!==this.ob_animationPercent_1&&this.ob_animationPercent_1.pause(),void 0!==this.ob_animationPercent_2&&this.ob_animationPercent_2.pause(),void 0!==this.ob_animationPercent_3&&this.ob_animationPercent_3.pause(),void 0!==this.animationBackground_1&&this.animationBackground_1.pause(),void 0!==this.animationBackground_2&&this.animationBackground_2.pause(),void 0!==this.animationBackground_3&&this.animationBackground_3.pause(),void 0!==this.animationBackground_4&&this.animationBackground_4.pause(),void 0!==this.animationBackground_5&&this.animationBackground_5.pause()}componentDidMount(){this.animationBackground(),this.animationPercent(),setTimeout(()=>{this.flagUnMount||this.animationEye()},500)}UNSAFE_componentWillUpdate(e){void 0!==e.dataFull&&void 0!==e.dataFull.percent&&this.props.dataFull.percent!==e.dataFull.percent&&this.state.percent_before!==e.dataFull.percent&&(e.dataFull.percent<100?this.setState({percent_before:this.props.dataFull.percent,percent_after:e.dataFull.percent},()=>{this.animationPercent()}):this.setState({percent_before:100,percent_after:100},()=>{this.animationPercent(this.callBack)}))}animationBackground(){this.animationBackground_1=window.anime({targets:".malibu-"+this.state.device+"-uLoading-tree",scale:3,loop:!0,duration:3e3,baseFrequency:0,direction:"alternate",easing:"linear"}),this.animationBackground_2=window.anime({targets:".malibu-"+this.state.device+"-uLoading-ground",scale:4,loop:!0,duration:3e3,baseFrequency:0,direction:"alternate",easing:"linear"}),this.animationBackground_3=window.anime({targets:".malibu-"+this.state.device+"-uLoading-sun",translateY:-170,loop:!0,duration:3e3,baseFrequency:0,opacity:[0,1],direction:"alternate",easing:"linear",background:["rgb(255,255,255)","#FF6584"]}),this.animationBackground_4=window.anime({targets:".malibu-"+this.state.device+"-uLoading-music",opacity:[0,1],translateY:-10,delay:window.anime.stagger(300,{grid:[14,5],from:"center"}),loop:!0,direction:"alternate"}),void 0!==this.props.dataFull.speed.title&&(this.animationBackground_5=window.anime({targets:".malibu-"+this.state.device+"-uLoading-rocket",translateY:-10,loop:!0,duration:1e3,baseFrequency:0,direction:"alternate",easing:"linear"}))}animationEye(){if(!this.flagUnMount){let e=window.anime.path(".malibu-"+this.state.device+"-uLoading-path path");this.ob_animationEye=window.anime({targets:".malibu-"+this.state.device+"-uLoading-chiken-eye",translateX:e("x"),translateY:e("y"),rotate:e("angle"),duration:6e3,easing:"linear",loop:!0})}}getColor(){let e="#5557E4";return this.props.dataFull.percent<=100&&(e=this.props.dataFull.percent<=25?"#CACBF7":this.props.dataFull.percent<=50?"#A7A8F1":this.props.dataFull.percent<=75?"#8385EC":"#5557E4"),e}animationPercent(e){this.ob_animationPercent_1=window.anime({targets:".malibu-"+this.state.device+"-uLoading-progress",width:[this.state.percent_before+"%",this.state.percent_after+"%"],easing:"easeInOutQuart",background:[this.getColor(),this.getColor()],duration:100,complete:()=>{void 0!==this.props.f_callBack_animationPercent&&this.props.f_callBack_animationPercent()}}),void 0!==e?this.ob_animationPercent_2=window.anime({targets:".number-percent-input",value:[this.state.percent_before,this.state.percent_after],round:1,easing:"easeInOutQuart",duration:20,complete:()=>{setTimeout(()=>{e()},500)}}):this.ob_animationPercent_3=window.anime({targets:".number-percent-input",value:[this.state.percent_before,this.state.percent_after],round:1,easing:"easeInOutQuart",duration:100})}renderForDevice(){return"desktop"===this.state.device?o.a.createElement("div",{className:"malibu-desktop-uLoading "+this.state.class},o.a.createElement("div",{className:"malibu-desktop-uLoading-header"},o.a.createElement("div",{style:{position:"absolute",marginLeft:"320px",zIndex:"3"}},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMzIiBoZWlnaHQ9IjE0NCIgdmlld0JveD0iMCAwIDEzMyAxNDQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik02Ni4wODI4IDExNy4yNDVDOTUuNjg4NyAxMTcuMjQ1IDExOS42ODkgOTMuMjg5MSAxMTkuNjg5IDYzLjczNzRDMTE5LjY4OSAzNC4xODU4IDk1LjY4ODcgMTAuMjI5NSA2Ni4wODI4IDEwLjIyOTVDMzYuNDc2OSAxMC4yMjk1IDEyLjQ3NjYgMzQuMTg1OCAxMi40NzY2IDYzLjczNzRDMTIuNDc2NiA5My4yODkxIDM2LjQ3NjkgMTE3LjI0NSA2Ni4wODI4IDExNy4yNDVaIiBmaWxsPSIjM0YzRDU2Ii8+CjxwYXRoIGQ9Ik0zMi4zMzQ0IDY4LjAzMjZDMzMuNjY1OCA2Ni40NDE3IDM1LjMzMDkgNjUuMTYyIDM3LjIxMiA2NC4yODM4QzM5LjA5MzIgNjMuNDA1NiA0MS4xNDQ3IDYyLjk1MDUgNDMuMjIxNCA2Mi45NTA1QzQ1LjI5ODEgNjIuOTUwNSA0Ny4zNDk2IDYzLjQwNTYgNDkuMjMwNyA2NC4yODM4QzUxLjExMTkgNjUuMTYyIDUyLjc3NyA2Ni40NDE3IDU0LjEwODQgNjguMDMyNkM1Ni4zODY1IDY1Ljg2MTkgNTcuOTYxIDYzLjA1OTggNTguNjI5MSA1OS45ODc2QzU5LjI5NzIgNTYuOTE1NSA1OS4wMjgyIDUzLjcxNCA1Ny44NTY4IDUwLjc5NThDNTYuNjg1NCA0Ny44Nzc2IDU0LjY2NTIgNDUuMzc2NSA1Mi4wNTY3IDQzLjYxNDhDNDkuNDQ4MiA0MS44NTMxIDQ2LjM3MDkgNDAuOTExNiA0My4yMjE0IDQwLjkxMTZDNDAuMDcxOSA0MC45MTE2IDM2Ljk5NDYgNDEuODUzMSAzNC4zODYxIDQzLjYxNDhDMzEuNzc3NiA0NS4zNzY1IDI5Ljc1NzQgNDcuODc3NiAyOC41ODYgNTAuNzk1OEMyNy40MTQ2IDUzLjcxNCAyNy4xNDU2IDU2LjkxNTUgMjcuODEzNyA1OS45ODc2QzI4LjQ4MTggNjMuMDU5OCAzMC4wNTYzIDY1Ljg2MTkgMzIuMzM0NCA2OC4wMzI2VjY4LjAzMjZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNzQuOTA0IDY4LjAzMjZDNzYuMjM1MyA2Ni40NDE3IDc3LjkwMDQgNjUuMTYxOSA3OS43ODE2IDY0LjI4MzhDODEuNjYyOCA2My40MDU2IDgzLjcxNDIgNjIuOTUwNSA4NS43OTEgNjIuOTUwNUM4Ny44Njc3IDYyLjk1MDUgODkuOTE5MSA2My40MDU2IDkxLjgwMDMgNjQuMjgzOEM5My42ODE1IDY1LjE2MTkgOTUuMzQ2NSA2Ni40NDE3IDk2LjY3NzkgNjguMDMyNkM5OC45NTYgNjUuODYxOSAxMDAuNTMxIDYzLjA1OTggMTAxLjE5OSA1OS45ODc2QzEwMS44NjcgNTYuOTE1NSAxMDEuNTk4IDUzLjcxNCAxMDAuNDI2IDUwLjc5NThDOTkuMjU0OSA0Ny44Nzc2IDk3LjIzNDggNDUuMzc2NSA5NC42MjYzIDQzLjYxNDhDOTIuMDE3OCA0MS44NTMxIDg4Ljk0MDQgNDAuOTExNiA4NS43OTEgNDAuOTExNkM4Mi42NDE1IDQwLjkxMTYgNzkuNTY0MSA0MS44NTMxIDc2Ljk1NTYgNDMuNjE0OEM3NC4zNDcxIDQ1LjM3NjUgNzIuMzI3IDQ3Ljg3NzYgNzEuMTU1NiA1MC43OTU4QzY5Ljk4NDEgNTMuNzE0IDY5LjcxNTEgNTYuOTE1NSA3MC4zODMyIDU5Ljk4NzZDNzEuMDUxMyA2My4wNTk4IDcyLjYyNTkgNjUuODYxOSA3NC45MDQgNjguMDMyNloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0yNy40NTQ4IDgzLjQwOTRDMzAuOTM3OSA4My40MDk0IDMzLjc2MTQgODAuNTkxIDMzLjc2MTQgNzcuMTE0M0MzMy43NjE0IDczLjYzNzcgMzAuOTM3OSA3MC44MTkzIDI3LjQ1NDggNzAuODE5M0MyMy45NzE4IDcwLjgxOTMgMjEuMTQ4MiA3My42Mzc3IDIxLjE0ODIgNzcuMTE0M0MyMS4xNDgyIDgwLjU5MSAyMy45NzE4IDgzLjQwOTQgMjcuNDU0OCA4My40MDk0WiIgZmlsbD0iI0ZGNjU4NCIvPgo8cGF0aCBkPSJNOTkuOTgwNyA4My40MDk0QzEwMy40NjQgODMuNDA5NCAxMDYuMjg3IDgwLjU5MSAxMDYuMjg3IDc3LjExNDNDMTA2LjI4NyA3My42Mzc3IDEwMy40NjQgNzAuODE5MyA5OS45ODA3IDcwLjgxOTNDOTYuNDk3NiA3MC44MTkzIDkzLjY3NDEgNzMuNjM3NyA5My42NzQxIDc3LjExNDNDOTMuNjc0MSA4MC41OTEgOTYuNDk3NiA4My40MDk0IDk5Ljk4MDcgODMuNDA5NFoiIGZpbGw9IiNGRjY1ODQiLz4KPHBhdGggZD0iTTYzLjcxNzcgNjQuNTI0MUw1OC45ODc4IDg0Ljk4MzFMNjYuODcxIDc3LjExNDRMNjMuNzE3NyA2NC41MjQxWiIgZmlsbD0iI0ZGNjU4NCIvPgo8cGF0aCBkPSJNODguMDIxNiAxNDMuMjEyTDgyLjY1MTYgMTM4LjcxNEw4Mi43NzY3IDE0My4yMTJIODEuMTA4OEw4MC45NzU2IDEzOC40NTZMNzMuNzI1MiAxNDMuMjEySDcwLjY4OTlMODAuOTIxNCAxMzYuNUw4MC41MjUxIDEyMi40MDRMODAuMjI5MSAxMTEuNzU5TDgxLjg5MjggMTExLjcxM0w4Mi4xOTMgMTIyLjQwNEw4Mi41ODkgMTM2LjQ4N0w5MC42MTQ3IDE0My4yMTJIODguMDIxNloiIGZpbGw9IiMzRjNENTYiLz4KPHBhdGggZD0iTTYyLjc5MzEgMTQzLjIxMkw1Ny40MjMgMTM4LjcxNEw1Ny41NDgyIDE0My4yMTJINTUuODg0OEw1NS43NTEzIDEzOC40NTZMNDguNTAwOCAxNDMuMjEySDQ1LjQ2NTZMNTUuNjkyOSAxMzYuNUw1NS4yOTY5IDEyMi40MDRMNTUuMDAwOCAxMTEuNzU5TDU2LjY2ODQgMTExLjcxM0w1Ni45Njg3IDEyMi40MDRMNTcuMzYwNSAxMzYuNDg3TDY1LjM4NjUgMTQzLjIxMkg2Mi43OTMxWiIgZmlsbD0iIzNGM0Q1NiIvPgo8cGF0aCBkPSJNNjYuODcxMyA2LjI5NTAxQzY1LjQwMDQgNi4yOTUwMSA2NC4xMDI4IDcuNDM1NDggNjMuMjM1MyA5LjE4NzIzQzYyLjQ3MDYgNi41NTMxMiA2MC44NjQxIDQuNzIxMjcgNTguOTg4IDQuNzIxMjdDNTguODYwNSA0LjczMzkyIDU4LjczNCA0Ljc1NTEzIDU4LjYwOTMgNC43ODQ3NkM1Ny44ODgyIDEuOTcyMzYgNTYuMjEyMSAtMi40Nzk1NWUtMDUgNTQuMjU4IC0yLjQ3OTU1ZS0wNUM1MS42NDU3IC0yLjQ3OTU1ZS0wNSA0OS41MjgxIDMuNTIyOTkgNDkuNTI4MSA3Ljg2ODhDNDkuNTI4MSAxMi4yMTQ2IDUxLjY0NTcgMTUuNzM3NiA1NC4yNTggMTUuNzM3NkM1NC4zODU1IDE1LjcyNSA1NC41MTIxIDE1LjcwMzcgNTQuNjM2NyAxNS42NzQxQzU1LjM1NzkgMTguNDg2NSA1Ny4wMzM5IDIwLjQ1ODkgNTguOTg4IDIwLjQ1ODlDNjAuNDU4OSAyMC40NTg5IDYxLjc1NjUgMTkuMzE4NCA2Mi42MjQgMTcuNTY2N0M2My4zODg3IDIwLjIwMDggNjQuOTk1MSAyMi4wMzI2IDY2Ljg3MTMgMjIuMDMyNkM2OS40ODM2IDIyLjAzMjYgNzEuNjAxMiAxOC41MDk2IDcxLjYwMTIgMTQuMTYzOEM3MS42MDEyIDkuODE4MDEgNjkuNDgzNiA2LjI5NTAxIDY2Ljg3MTMgNi4yOTUwMVoiIGZpbGw9IiMzRjNENTYiLz4KPHBhdGggZD0iTTE1Ljc2NjYgODQuMDE0NUMxMy42OTYxIDg0LjAxNDUgMTEuNjQ1OSA4My42MDc0IDkuNzMzMDEgODIuODE2NkM3LjgyMDEyIDgyLjAyNTcgNi4wODIwMyA4MC44NjY1IDQuNjE3OTcgNzkuNDA1MUMzLjE1MzkxIDc3Ljk0MzcgMS45OTI1NiA3Ni4yMDg4IDEuMjAwMjEgNzQuMjk5NEMwLjQwNzg3MiA3Mi4zOTAxIDYuNDI5NWUtMDUgNzAuMzQzNiA2LjQyOTVlLTA1IDY4LjI3NjlMNi40Mjk1ZS0wNSA2MC40MDhDNi40Mjk1ZS0wNSA1Ni4yMzQyIDEuNjYxMTcgNTIuMjMxMyA0LjYxNzk3IDQ5LjI3OTlDNy41NzQ3NyA0Ni4zMjg1IDExLjU4NTEgNDQuNjcwNCAxNS43NjY2IDQ0LjY3MDRWNDQuNjcwNEwxNS43NjY2IDg0LjAxNDVaIiBmaWxsPSIjNTU1N0U0Ii8+CjxwYXRoIGQ9Ik0xMTYuMzk5IDQ0LjY3MDVDMTE4LjQ3IDQ0LjY3MDUgMTIwLjUyIDQ1LjA3NzYgMTIyLjQzMyA0NS44Njg1QzEyNC4zNDYgNDYuNjU5NCAxMjYuMDg0IDQ3LjgxODYgMTI3LjU0OCA0OS4yOEMxMjkuMDEyIDUwLjc0MTMgMTMwLjE3MyA1Mi40NzYyIDEzMC45NjYgNTQuMzg1NkMxMzEuNzU4IDU2LjI5NSAxMzIuMTY2IDU4LjM0MTQgMTMyLjE2NiA2MC40MDgxVjY4LjI3N0MxMzIuMTY2IDcwLjM0MzcgMTMxLjc1OCA3Mi4zOTAxIDEzMC45NjYgNzQuMjk5NUMxMzAuMTczIDc2LjIwODkgMTI5LjAxMiA3Ny45NDM4IDEyNy41NDggNzkuNDA1MUMxMjYuMDg0IDgwLjg2NjUgMTI0LjM0NiA4Mi4wMjU3IDEyMi40MzMgODIuODE2NkMxMjAuNTIgODMuNjA3NSAxMTguNDcgODQuMDE0NiAxMTYuMzk5IDg0LjAxNDZWODQuMDE0NlY0NC42NzA1SDExNi4zOTlaIiBmaWxsPSIjNTU1N0U0Ii8+CjxwYXRoIGQ9Ik0xMjQuNjYxIDYxLjY0NDZIMTIyLjE2QzEyMi4xNiAyOS45Nzc1IDk2LjM0OTIgNC4yMTQyMyA2NC42MjM3IDQuMjE0MjNDMzIuODk4MyA0LjIxNDIzIDcuMDg3NzUgMjkuOTc3NSA3LjA4Nzc1IDYxLjY0NDZINC41ODYxOEM0LjU4NjE4IDI4LjYwMDUgMzEuNTE4OSAxLjcxNzI2IDY0LjYyMzcgMS43MTcyNkM5Ny43Mjg2IDEuNzE3MjYgMTI0LjY2MSAyOC42MDA2IDEyNC42NjEgNjEuNjQ0NloiIGZpbGw9IiM1NTU3RTQiLz4KPC9zdmc+Cg==",alt:"chicken"}),o.a.createElement("div",{className:"malibu-desktop-uLoading-chiken-eye left"}),o.a.createElement("div",{className:"malibu-desktop-uLoading-chiken-eye right"}),o.a.createElement("div",{className:"malibu-desktop-uLoading-path"},o.a.createElement("svg",{width:"12",height:"3",xmlns:"http://www.w3.org/2000/svg",style:{visibility:"hidden"}},o.a.createElement("path",{d:"M 0 2 Q 6 -5 12 2 M 12 2 Q 6 -5 0 2",stroke:"black",fill:"transparent"})))),o.a.createElement("div",{className:"malibu-desktop-uLoading-ground",style:{position:"absolute",marginLeft:"350px"}},o.a.createElement("img",{src:"data:image/svg+xml;base64,DQo8c3ZnIHdpZHRoPSI4NyIgaGVpZ2h0PSIxNSIgdmlld0JveD0iMCAwIDI4NyAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0yODYuMzUxIDExLjY4Nkw4MS40MDg4IDE0Ljc3MDFMMC4wNTc2MTcyIDAuMzc4MTc0SDEyNy4wNThMMjg2LjM1MSAxMS42ODZaIiBmaWxsPSIjRTZFNkU2Ii8+DQo8L3N2Zz4NCg==",alt:"ground"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-tree one"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-tree two"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-tree three"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-tree four"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-tree five"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-sun"}),o.a.createElement("div",{className:"malibu-desktop-uLoading-music-list",style:{position:"absolute"}},o.a.createElement("div",{className:"malibu-desktop-uLoading-music six"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMiAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xOS42NDU5IDEyLjA5MDVMMTkuNjQ3IDEyLjA4ODJMMTYuODM3MiAxMC45MjAyTDUuMDkzNDUgNi4zNjMzNUw4LjA1NzQ1IDMuNzMxMTJDOC4wNTc0NSAzLjczMTEyIDEwLjAyOSAxLjAwMDU1IDEzLjE3NDEgMi44OTQ0OUwxMi4yNTQzIDEuNTI5OTVDMTIuMjU0MyAxLjUyOTk1IDEwLjUyNTEgLTAuNzU1MTU3IDguMTA0NjUgMS42NjI1NEM4LjEwNDY1IDEuNjYyNTQgNS4xMDk3NiA2LjA2OTU0IDAuNDA1NTE4IDQuOTQ2MTlMMTYuNDcxNCAxMS43MzM2TDE2LjU1NTcgMTEuODA5OUwxNS40NzMxIDE0LjM1NzlDMTUuMzI0OSAxNC41OTEgMTUuMTk4NSAxNC44MzcxIDE1LjA5NTQgMTUuMDkzM0MxNC4zMzcgMTcuMDA0NyAxNS43Njk0IDE4LjkwNTkgMTcuMTIzNCAxOS40NDEyQzE4LjQ3NzUgMTkuOTc2NiAyMC4xOTAxIDE4Ljg2MSAyMC45NDg1IDE2Ljk0OTZDMjEuNjk2NSAxNS4wNjQzIDIwLjk2NTQgMTIuNjY5MiAxOS42NDU5IDEyLjA5MDVaIiBmaWxsPSIjM0YzRDU2Ii8+DQo8L3N2Zz4NCg==",alt:"music"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-music five"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAzMCAyMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0yOS4yNjg5IDIwLjM2ODFDMjMuNDM2OCAxNy4wMzk3IDI0LjYwMzkgOS43MzU4NCAyNC42MDM5IDkuNzM1ODRDMjQuNDU3MSA0Ljk5MDg5IDIwLjUyOTcgNS42NjI1NiAyMC41Mjk3IDUuNjYyNTZMMTkuMTAwMyA1Ljk4ODE0QzE4LjQzNjMgNS42ODA1MSAxNy43MDUxIDUuNTQ1NTMgMTYuOTc0OCA1LjU5NTc1TDE0LjgwMDUgNS45NjFDMTkuNzUxNiA3LjEyMjE5IDE5LjM0NDggMTEuMjU2NCAxOS4zNDQ4IDExLjI1NjRMMjAuMDM4NCAxNi4wOTAzTDcuMDY1MTUgMTAuODY2NEw4LjU1NDY5IDcuMzYwNjdDOC43NjA1NSA3LjAzNjk2IDguOTM2MTggNi42OTUwNiA5LjA3OTM4IDYuMzM5MjhDMTAuMTMyNyAzLjY4NDUzIDguMTQzMyAxLjA0MzkxIDYuMjYyNTkgMC4zMDA0MkM0LjM4MTg5IC0wLjQ0MzA2NyAyLjAwMzM2IDEuMTA2MyAwLjk1MDAxOCAzLjc2MUMtMC4wODg5Nzk3IDYuMzc5NTIgMC45MjY0MDcgOS43MDYxNSAyLjc1OTExIDEwLjUwOTlMMi43NTc1NiAxMC41MTNMNi42NjAyMiAxMi4xMzUzTDYuNjg5MjcgMTIuMDQzNUwyOS4yNjg5IDIwLjM2ODFaTTIyLjY4MDkgMTEuODc0NkwyMy4wOTgzIDE2LjUxNzVDMjAuNjQ4OCAxMy4yNzE5IDIxLjE0OTUgOS40MTU3OCAyMS4xNDk1IDkuNDE1NzhDMjEuMTE1IDguNTIwMjkgMjAuODEyMyA3LjY1NTY5IDIwLjI4MDYgNi45MzM1OUMyMy4wOTQ0IDguNjE0MzIgMjIuNjgwOSAxMS44NzQ2IDIyLjY4MDkgMTEuODc0NkgyMi42ODA5WiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-music four"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxNyAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMC4yMjE3IDEzLjMzOUw5LjU5Mjc0IDE0LjgxOTJDOS41MDY2NSAxNC45NTQ2IDkuNDMzMjEgMTUuMDk3NiA5LjM3MzM0IDE1LjI0NjRDOC45MzI3NSAxNi4zNTY3IDkuNzY0ODQgMTcuNDYxMSAxMC41NTE0IDE3Ljc3MjFDMTEuMzM4IDE4LjA4MzEgMTIuMzMyOSAxNy40MzUxIDEyLjc3MzQgMTYuMzI0N0MxMy4yMDggMTUuMjI5NSAxMi43ODMzIDEzLjgzODIgMTIuMDE2OCAxMy41MDJMMTIuMDE3NCAxMy41MDA3TDEwLjM4NTEgMTIuODIyMkw0LjgwMTI2IDEwLjY1NTVMNy45OTE3NCAyLjYxNDYzTDcuNTE4ODggMi40Mjc2OEw0LjMyNzE5IDEwLjQ3MTZMMy42MzY3NSAxMC4yMDM3TDYuODQwODMgMi4xMjgzOUw2LjkyNTI1IDIuMTY0MDVMMTMuNDg4OCA0LjkzNjk4TDEzLjUzNzggNC45ODEyOEwxMi45MDg5IDYuNDYxNDNDMTIuODIyOSA2LjU5NjgyIDEyLjc0OTQgNi43Mzk4MiAxMi42ODk1IDYuODg4NjNDMTIuMjQ4OSA3Ljk5ODk5IDEzLjA4MSA5LjEwMzQyIDEzLjg2NzYgOS40MTQzOUMxNC42NTQyIDkuNzI1MzYgMTUuNjQ5MSA5LjA3NzM0IDE2LjA4OTYgNy45NjY5OEMxNi41MjQyIDYuODcxNzkgMTYuMDk5NSA1LjQ4MDQ0IDE1LjMzMyA1LjE0NDI4TDE1LjMzMzYgNS4xNDI5NEwxMy43MDEzIDQuNDY0NDVMNy4wMzA3OCAxLjY0OTc1TDcuMDMwNSAxLjY0OTYyTDYuODE0MTUgMS41NTgzNEw0LjM0NTQ4IDAuNTE2NjYzTDAuODM5ODQ0IDkuMzUxODVMMTAuMTcyNyAxMy4yOTQ3TDEwLjIyMTcgMTMuMzM5WiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-music three"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMyAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMS4yNDYzIDcuMDAyN0wxMS4yNDY5IDcuMDAxNDJMOS42MTQ2MSA2LjMyMjg4TDIuNzkyNTkgMy42NzU4MUw0LjUxNDQxIDIuMTQ2NzNDNC44NTEyNSAxLjY5ODUgNS4zNDg2OCAxLjM5NzYyIDUuOTAyNjQgMS4zMDcwNEM2LjQ1NjYgMS4yMTY0NiA3LjAyNDE5IDEuMzQzMTggNy40ODY3MSAxLjY2MDY5TDYuOTUyMzkgMC44NjgwNEM2Ljk1MjM5IDAuODY4MDQgNS45NDc5MSAtMC40NTkzNyA0LjU0MTgyIDAuOTQ1MDg2QzQuNTQxODIgMC45NDUwODYgMi44MDIwNyAzLjUwNTEzIDAuMDY5MzM1OSAyLjg1MjU2TDkuNDAyMTcgNi43OTU0NUw5LjQ1MTE1IDYuODM5NzVMOC44MjIyNiA4LjMxOTkxQzguNzM2MTQgOC40NTUyOSA4LjY2MjY4IDguNTk4MyA4LjYwMjgxIDguNzQ3MTFDOC4xNjIyNyA5Ljg1NzQzIDguOTk0MzQgMTAuOTYxOSA5Ljc4MDkzIDExLjI3MjhDMTAuNTY3NSAxMS41ODM4IDExLjU2MjMgMTAuOTM1OCAxMi4wMDI5IDkuODI1NDZDMTIuNDM3NSA4LjczMDI2IDEyLjAxMjggNy4zMzg5MiAxMS4yNDYzIDcuMDAyN1oiIGZpbGw9IiMzRjNENTYiLz4NCjwvc3ZnPg0K",alt:"music"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-music two"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTMiIHZpZXdCb3g9IjAgMCAxMyAxMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMS4zNzkzIDMuODQ5NzdMMTEuMzc5NyAzLjg0ODg0TDEwLjIwNDUgMy4zNjAyOUw1LjI0NTggMS4yNjc4OEwzLjQ2ODM3IDAuNTE3OTE0TDMuMzMxOTYgMC44NjE2NTZMMC45NDQzMzYgNi44NzkxNUw3LjY2Mzg5IDkuNzE4MDJMNy42OTkxNiA5Ljc0OTkxTDcuMjQ2MzUgMTAuODE1NkM3LjE4NDM3IDEwLjkxMzEgNy4xMzE0OSAxMS4wMTYxIDcuMDg4MzYgMTEuMTIzMkM2Ljc3MTE3IDExLjkyMjYgNy4zNzAyNyAxMi43MTc4IDcuOTM2NjEgMTIuOTQxN0M4LjUwMjk1IDEzLjE2NTYgOS4yMTkyMyAxMi42OTkxIDkuNTM2NDIgMTEuODk5NkM5Ljg0OTMgMTEuMTExMSA5LjU0MzU0IDEwLjEwOTMgOC45OTE2MyA5Ljg2NzI4TDguOTkyMTEgOS44NjYzNEw3LjgxNjg3IDkuMzc3NzlMMy43OTY1MiA3LjgxNzhMNi4wOTM2NiAyLjAyODQyTDUuNzUzMTkgMS44OTM4NEwzLjQ1NTIzIDcuNjg1MzdMMi45NTgxIDcuNDkyNDZMNS4yNjUwNCAxLjY3ODMzTDUuMzI1ODEgMS43MDQwMUwxMC4wNTE1IDMuNzAwNUwxMC4wODY4IDMuNzMyMzlMOS42MzQwMiA0Ljc5ODEzQzkuNTcyMDMgNC44OTU2IDkuNTE5MTQgNC45OTg1NSA5LjQ3NjAzIDUuMTA1NjlDOS4xNTg4IDUuOTA1MTIgOS43NTc5IDYuNzAwMzMgMTAuMzI0MiA2LjkyNDE5QzEwLjg5MDYgNy4xNDgwNiAxMS42MDY5IDYuNjgxNTUgMTEuOTI0MSA1Ljg4MjExQzEyLjIzNjkgNS4wOTM1NiAxMS45MzEyIDQuMDkxODEgMTEuMzc5MyAzLjg0OTc3WiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-music one"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iOSIgdmlld0JveD0iMCAwIDEzIDkiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQo8cGF0aCBkPSJNMTIuNjM2OSA4LjYyMjg0QzEwLjE5NzYgNy4yMzA3NiAxMC42ODU3IDQuMTc1ODcgMTAuNjg1NyA0LjE3NTg3QzEwLjYyNDMgMi4xOTEzMSA4Ljk4MTY5IDIuNDcyMjEgOC45ODE2OSAyLjQ3MjIxTDguMzgzODYgMi42MDg0MUM4LjEwNjE0IDIuNDc5NzUgNy44MDAzMiAyLjQyMzMgNy40OTQ4NyAyLjQ0NDMxTDYuNTg1NDYgMi41OTcwNUM4LjY1NjI2IDMuMDgyNzEgOC40ODYxMyA0LjgxMTg1IDguNDg2MTMgNC44MTE4NUw4Ljc3NjI1IDYuODMzNjZMMy4zNTAxNiA0LjY0ODcyTDMuOTczMTYgMy4xODI1QzQuMDU5MjYgMy4wNDcxMSA0LjEzMjcyIDIuOTA0MTEgNC4xOTI1OSAyLjc1NTNDNC42MzMxNCAxLjY0NDk0IDMuODAxMDcgMC41NDA1MDYgMy4wMTQ0OCAwLjIyOTU3NkMyLjIyNzg4IC0wLjA4MTQzMTQgMS4yMzMwNiAwLjU2NjYzMSAwLjc5MjQ3NiAxLjY3Njk1QzAuMzU3OTQ2IDIuNzcyMTQgMC43ODI2NDIgNC4xNjM0OCAxLjU0OTE2IDQuNDk5NjNMMS41NDg1MSA0LjUwMDk3TDMuMTgwOCA1LjE3OTQ2TDMuMTkyOTUgNS4xNDEwNEwxMi42MzY5IDguNjIyODRaTTkuODgxNDQgNS4wNzA0MUwxMC4wNTU0IDcuMDA1NjRDOS40NDEwNSA2LjE0NTE1IDkuMTUyNDMgNS4wOTUwMSA5LjI0MDkxIDQuMDQyMDVDOS4yMjY0OSAzLjY2NzUgOS4wOTk5MSAzLjMwNTg3IDguODc3NTEgMy4wMDM4NkM5LjIxOTQgMy4yMjI1IDkuNDk0MTEgMy41MzEyMSA5LjY3MTI3IDMuODk1ODlDOS44NDg0MyA0LjI2MDU4IDkuOTIxMTcgNC42NjcwNSA5Ljg4MTQ0IDUuMDcwNFY1LjA3MDQxWiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"}))),o.a.createElement("div",{className:"malibu-desktop-uLoading-progress-bar "},o.a.createElement("div",{className:"malibu-desktop-uLoading-progress",style:{width:this.state.width}}),o.a.createElement("label",{className:"loading"},this.props.dataFull.title),o.a.createElement("label",{className:"number-percent"},o.a.createElement("input",{className:"number-percent-input",readOnly:!0}),"%")),this.props.dataFull.speed.title?o.a.createElement("div",{className:"row",style:{margin:"auto",marginTop:"150px",width:"fit-content"}},o.a.createElement("div",{className:"malibu-desktop-uLoading-rocket"},o.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAfOSURBVHgBzZldbBzVFcf/dz722+t1SJOqH2RT6AMVNCsV+hKgS/pQlxRwGqlK3KjY6gMoqZT1S9SqlWyr5akPXktJVLVVsSVwTNUSC5IIPzSZUHho0hajBAWhAAYChJBk1/Z+785czp31rL27M7vrXQf4P/hez71z5zfnnnPuvbMMXwIlYn0hBZ7IoStq5FwG28AR4mARJiEk6nb3MHxBErAS/AME8BhhRAAeuloEhq7IEGUzfe7gS7E9UQ55mKpRu/ZW4T838MVY/wBN/0F6YKRZ31bgbzl4Mws7qRn8LQMvB5x/mAMxtKlG8LcEPBHrj8hgx6kaRodygE/KWGelhvYJP56haqhRP6lnI5mNepYaR2GACO8PcLyalpAyli9yvLmuFl+K7SPX4CNO7fIdd8Hd+1NIX98C5vWVGbIZlC78F4XZ4zBufuo4dpXlOdfWDbwRNPP64e7bB/X7DzQco/DS88jPPu/YbsF/XMD4urhKM0v7njgE5Z7vmfW8wfGf6zreWNRxccGATtO/ySOZbfKddwE0A/p7l23HsdzmgwJ/rmOLN4NW73sAnv4nzPrFBR3/uloy4VerW2XYs8VllkLp3w81dBsd+kMSOlB5UXGGFnL37jbLhSLHqY+KddBW2/R7hUqb+uCPGg2Jnvi0pmCNivbFQulCMrw9qIv9xZgIcSeJYGQbNpr10580zh4C/kJSx70bFIqFB5Gfecapqyb+tAQuYOHN04ZIesww8lFeAvbfZjS9T9rwlUr9/TRv2v9artxHZByJXti4ed2mF59sCi6AJV/hIEcxBi6ZeTmfL+AXPTq+qmJNsnORWuWa24L829BE6Qge3fNklLHi05yzsHWtVNJxGy9ioAVrC/FsulL/pl/CB+nG9212r+QKe2tDI/+eFxXJHnr/MGPyGdQs2dlsDo+3CC2kv33JXGCE7ulunnnvDpX76JcvOfQwxq2aZA/NRmqvl4olbJYN9AabT7klAV0893IZisBF4Dnp4a+plXRYPP9y/VjAfDB+bMYW3AlaKF8orMnalgq0EvLlad+xWTEBrQXHLTHc7pPMHH738oyIFy2e+3fdOAx8tPr/CvSTYXKPd+0ebhgGArk0jm3V0Y5EhvAd+F0lNTpJuEj2b2MV97IkrN0df3Zr1ZhWZdmnbSUyyTZv6y5SKxFomSN/qLhNrQRojvJ25shTddDm/eC7aq+ZFicXGSAXeRoOWlpK48/fKOJODzqWyNFiTyI2XiYULe3OwWhqIhh/drD2ohktBD1sc4PGDf46bYLmvusxwgQ9jBaVNhiuGRK2KvWuVd7G/q+lcYSL0DZs1K5NEfkaVtpjSHKDjSOnxLWZeNLqdCL285aOXwL4rykvTmdd+MvGRXQq4SJW3q6VAib1lZnZuJFRRlYDW6KI/kGzU94LGTemUx6kOcMOTwGb5LVnoNWizdtoT3xqzqldAWfbqNPgmekjE3Yd0i/8uI+/n4vyGyp4oj4PCysfS3vwIoELCeC9gRw6he6OT4006qOAXEP7+5GZ2obE8WjI5fKNMc4GWDgPdkcRsuylvawLhTkOI1WG/m0igHdLK6viXn+uI2sT9HgzaCHH+c+c2PkaFREKXCjdXigBd6VNQCf+z3DovL8K+lFfHr/syqJD6JbiSXGAHjOhZQnuTV0Q5WpJAeA3b1dDiwzSIfRoK5a2VAeeOvnwAI1ivrUdtNDkq25cvlYN/VRPCu2IPsslGYwhgp5Yy311VBIv53Q15LOFnr3gwuQrKytR5PYS/rg9Db+09pX1co5h7BMMBtcILVRl8aUXe6NUhAXwap+2dHVBMq1tafe9BRz4YRa8QIH6DsyyFaUoqP+ZoJm7KYvVL4k2VAVORzMzp0u+leMN51ysrGZ99qJqwgfcHId2ZnH/t8vnSOaiGfoO7QTnmj/wpQVGwBJu0KP9AQ/OPndUQxuqApeZyOmkkoHCjRSMog7F54IS9CKVZ3jlLRWPb89j9315E77q3i30EnOqsF7ICXh2keFCUYHb7YZXMWNEQ5uqAqfIDgu769llS5LLyF0r/jzWn64DtlTKZcF6WGj1IjWXYXidEs0/EhKykmwC+/0rQU2zOYn1ACeX0MoDYkCUKuVvy02cgE3oVB5cfJLq1pNIqBoZ4Oyvr0g4n5XGVFWB4lXhV+qObvNYPvi2o6q04d15clCnh5ovIaxNbmJJ+HpxsT5PC+DSQvk6+1ZmKBh/Zhdt+uOXEEBXMACP1wOlHloYZFKb/tM82lRdHq+kQ7K2JWFRAccUes/gynVOMZC/njJfyuB8PPDoqYlKo8rCcNY8beji6EBV4InjvWGIdEhnQWFtI18kK+eoLJnt4roJTKClpRz0pbxZJ2mBR05VL9W0eXPaUNAnj0G7XWjb4LKsRKxParkPkxZUlYS7rAIuW7oGunx+tf/Nh1xk9Myxwxo6VJWPS5LIKoROX52WwebIOqMSY+buUVi+RDNgWVnn7KE6S5dHisIB+vTU4RGsg6rTIWdzBuNDYDwpF1yad9fMvLieOfkT+j2Hz5v7Cs7P6pBmuh45odkNWLZ2/VGQXnXozNThjvx6tdb9x6sdew+M1fzSpnEyhjZ1tIV1tXWt+TNzI0X79x/kvAKtiQVGmz46gVugdbN49Ge/6mMyPyi+DFD6mdGmOw/ARvoMZ7pw6Vztu/cAAAAASUVORK5CYII=",alt:"rocket"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-speed"},o.a.createElement("label",null,this.props.dataFull.speed.title),o.a.createElement("div",{className:"malibu-desktop-uLoading-speed-number "+(this.props.dataFull.cmd.error.message?"error":"")},o.a.createElement("div",{style:{margin:"auto"}},this.props.dataFull.speed.number_speed),o.a.createElement("img",{src:this.props.dataFull.cmd.error.message?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGiSURBVHgB7ZXRTcMwEIbvXPJStciEB6jUVMkG7QZlg44AE5QNygYdATahG8AGrQRSWx7AEhIvSDli5AQ3cWO7ooiHfpIlxz75fOf/LgAH/gPL0+hSDvgL1jwarcOI5Fjy7hA8YeALg2k+bSBOwBMvhyqNcf5NCMNV2LsGD9DVcMnPY8aCe92hQnyk70kihHA5xznCBgsmBmcS3mJt59Q6Raiim9fZpOln0hGrBVhwipBhMLXZNDC4BQesDr+FgjDS15BoBkSP+poUkEuZWFOa1ZtMZawtibPXpxM5eQmjN8reUNtbZHtJ3Xms3lnXJJRCjaTNFfE67N3ALg6lUBDQq8bUNcZzzrm3Q1kGpXTlFGu4Zb+uTIxvaCsDhEwwhEIKZZtNmtJFRzzPyutHJmPVUbZCgH2b3FSfnVXOLi+U+6UBKZQ7ObAqmp9LyTIx/MI27ikfu8naDxaHhfQNJVOxzfrsQO+zGxE2WWtsOcCXuMmON5ReROjSL3dEZH12kPfZIkL1N9gHXO+zekpHsCdIe6aiLCiFq5RRH/YBVcvjwK/xBRbpfbJqi9GHAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAILSURBVHgB3ZZLUuMwEIa7pZqZ5eQInhMM3MBZThlqnBMQdiwIBScIuQFVAYodzgWIgQKW+AaEExBuEJYkZTUtB8dvEtuw4d9EVrr6a0ndagF8d+GqhjtD2/jx0zcF4l9F2NBzAmmiiB5nU+mdtdzxKn6WAnevN0yUsgsE5hJPHpAa9K1r52OzAu0P7Yb/i84ZZEM5ObMp9opWnAvcv7MNX9E9Dw2opjFDm3lQ/ALYAiqnuH7UcifxSZG2Ylj3E2BaRnAkKSWAnZvNNv+0oaKIaOADrvO+ufMJsHXSFQIBxRbUgB1vXLVPLXfE2Xq5cKkzPI4IB+9n9wQVFMJifhI5oEAaJ9bFsx4vVugr34QKWgYLbPxZMxwvgKRwLcffGGrCAghGvqMzRGjEjfj6Ouhbl384kB7UgAWuBf7OAtNGpIIAjjfdQ/7argpLKwISTFJRdffuWkHW9i3XCaFVYKToJQNEQaOsoXLiUN7eZpWVoRCjDFAK6UFudBGUt9crC9OaTcHLAI/+8UWL0R9F0LIwIkj0ykTSkJ+fkSG0c/t/yLAHKHHXIuIg8Z020E4r9MAiOVxaiQzPlIV8DbJxDPWle2JmxzJA3b+kwGZNaGEDzi18nUAaqmsOyopbk268pZ4YcXVu7DaDtxA/fkTpbATCXlg6xfGsqHk5gImg1gjmdyMCvRDQqMwz8fvrDeQ/QIleItNVAAAAAElFTkSuQmCC",alt:"icon"})))):null,this.props.dataFull.cmd.error.message?o.a.createElement("div",{className:"malibu-desktop-uLoading-message-error"},this.props.dataFull.cmd.error.message):null)):"tablet"===this.state.device?o.a.createElement("div",{className:"malibu-tablet-uLoading "+this.state.class},o.a.createElement("div",{className:"malibu-tablet-uLoading-header"},o.a.createElement("div",{style:{position:"absolute",marginLeft:"198px",zIndex:"3"}},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMzIiBoZWlnaHQ9IjE0NCIgdmlld0JveD0iMCAwIDEzMyAxNDQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik02Ni4wODI4IDExNy4yNDVDOTUuNjg4NyAxMTcuMjQ1IDExOS42ODkgOTMuMjg5MSAxMTkuNjg5IDYzLjczNzRDMTE5LjY4OSAzNC4xODU4IDk1LjY4ODcgMTAuMjI5NSA2Ni4wODI4IDEwLjIyOTVDMzYuNDc2OSAxMC4yMjk1IDEyLjQ3NjYgMzQuMTg1OCAxMi40NzY2IDYzLjczNzRDMTIuNDc2NiA5My4yODkxIDM2LjQ3NjkgMTE3LjI0NSA2Ni4wODI4IDExNy4yNDVaIiBmaWxsPSIjM0YzRDU2Ii8+CjxwYXRoIGQ9Ik0zMi4zMzQ0IDY4LjAzMjZDMzMuNjY1OCA2Ni40NDE3IDM1LjMzMDkgNjUuMTYyIDM3LjIxMiA2NC4yODM4QzM5LjA5MzIgNjMuNDA1NiA0MS4xNDQ3IDYyLjk1MDUgNDMuMjIxNCA2Mi45NTA1QzQ1LjI5ODEgNjIuOTUwNSA0Ny4zNDk2IDYzLjQwNTYgNDkuMjMwNyA2NC4yODM4QzUxLjExMTkgNjUuMTYyIDUyLjc3NyA2Ni40NDE3IDU0LjEwODQgNjguMDMyNkM1Ni4zODY1IDY1Ljg2MTkgNTcuOTYxIDYzLjA1OTggNTguNjI5MSA1OS45ODc2QzU5LjI5NzIgNTYuOTE1NSA1OS4wMjgyIDUzLjcxNCA1Ny44NTY4IDUwLjc5NThDNTYuNjg1NCA0Ny44Nzc2IDU0LjY2NTIgNDUuMzc2NSA1Mi4wNTY3IDQzLjYxNDhDNDkuNDQ4MiA0MS44NTMxIDQ2LjM3MDkgNDAuOTExNiA0My4yMjE0IDQwLjkxMTZDNDAuMDcxOSA0MC45MTE2IDM2Ljk5NDYgNDEuODUzMSAzNC4zODYxIDQzLjYxNDhDMzEuNzc3NiA0NS4zNzY1IDI5Ljc1NzQgNDcuODc3NiAyOC41ODYgNTAuNzk1OEMyNy40MTQ2IDUzLjcxNCAyNy4xNDU2IDU2LjkxNTUgMjcuODEzNyA1OS45ODc2QzI4LjQ4MTggNjMuMDU5OCAzMC4wNTYzIDY1Ljg2MTkgMzIuMzM0NCA2OC4wMzI2VjY4LjAzMjZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNzQuOTA0IDY4LjAzMjZDNzYuMjM1MyA2Ni40NDE3IDc3LjkwMDQgNjUuMTYxOSA3OS43ODE2IDY0LjI4MzhDODEuNjYyOCA2My40MDU2IDgzLjcxNDIgNjIuOTUwNSA4NS43OTEgNjIuOTUwNUM4Ny44Njc3IDYyLjk1MDUgODkuOTE5MSA2My40MDU2IDkxLjgwMDMgNjQuMjgzOEM5My42ODE1IDY1LjE2MTkgOTUuMzQ2NSA2Ni40NDE3IDk2LjY3NzkgNjguMDMyNkM5OC45NTYgNjUuODYxOSAxMDAuNTMxIDYzLjA1OTggMTAxLjE5OSA1OS45ODc2QzEwMS44NjcgNTYuOTE1NSAxMDEuNTk4IDUzLjcxNCAxMDAuNDI2IDUwLjc5NThDOTkuMjU0OSA0Ny44Nzc2IDk3LjIzNDggNDUuMzc2NSA5NC42MjYzIDQzLjYxNDhDOTIuMDE3OCA0MS44NTMxIDg4Ljk0MDQgNDAuOTExNiA4NS43OTEgNDAuOTExNkM4Mi42NDE1IDQwLjkxMTYgNzkuNTY0MSA0MS44NTMxIDc2Ljk1NTYgNDMuNjE0OEM3NC4zNDcxIDQ1LjM3NjUgNzIuMzI3IDQ3Ljg3NzYgNzEuMTU1NiA1MC43OTU4QzY5Ljk4NDEgNTMuNzE0IDY5LjcxNTEgNTYuOTE1NSA3MC4zODMyIDU5Ljk4NzZDNzEuMDUxMyA2My4wNTk4IDcyLjYyNTkgNjUuODYxOSA3NC45MDQgNjguMDMyNloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0yNy40NTQ4IDgzLjQwOTRDMzAuOTM3OSA4My40MDk0IDMzLjc2MTQgODAuNTkxIDMzLjc2MTQgNzcuMTE0M0MzMy43NjE0IDczLjYzNzcgMzAuOTM3OSA3MC44MTkzIDI3LjQ1NDggNzAuODE5M0MyMy45NzE4IDcwLjgxOTMgMjEuMTQ4MiA3My42Mzc3IDIxLjE0ODIgNzcuMTE0M0MyMS4xNDgyIDgwLjU5MSAyMy45NzE4IDgzLjQwOTQgMjcuNDU0OCA4My40MDk0WiIgZmlsbD0iI0ZGNjU4NCIvPgo8cGF0aCBkPSJNOTkuOTgwNyA4My40MDk0QzEwMy40NjQgODMuNDA5NCAxMDYuMjg3IDgwLjU5MSAxMDYuMjg3IDc3LjExNDNDMTA2LjI4NyA3My42Mzc3IDEwMy40NjQgNzAuODE5MyA5OS45ODA3IDcwLjgxOTNDOTYuNDk3NiA3MC44MTkzIDkzLjY3NDEgNzMuNjM3NyA5My42NzQxIDc3LjExNDNDOTMuNjc0MSA4MC41OTEgOTYuNDk3NiA4My40MDk0IDk5Ljk4MDcgODMuNDA5NFoiIGZpbGw9IiNGRjY1ODQiLz4KPHBhdGggZD0iTTYzLjcxNzcgNjQuNTI0MUw1OC45ODc4IDg0Ljk4MzFMNjYuODcxIDc3LjExNDRMNjMuNzE3NyA2NC41MjQxWiIgZmlsbD0iI0ZGNjU4NCIvPgo8cGF0aCBkPSJNODguMDIxNiAxNDMuMjEyTDgyLjY1MTYgMTM4LjcxNEw4Mi43NzY3IDE0My4yMTJIODEuMTA4OEw4MC45NzU2IDEzOC40NTZMNzMuNzI1MiAxNDMuMjEySDcwLjY4OTlMODAuOTIxNCAxMzYuNUw4MC41MjUxIDEyMi40MDRMODAuMjI5MSAxMTEuNzU5TDgxLjg5MjggMTExLjcxM0w4Mi4xOTMgMTIyLjQwNEw4Mi41ODkgMTM2LjQ4N0w5MC42MTQ3IDE0My4yMTJIODguMDIxNloiIGZpbGw9IiMzRjNENTYiLz4KPHBhdGggZD0iTTYyLjc5MzEgMTQzLjIxMkw1Ny40MjMgMTM4LjcxNEw1Ny41NDgyIDE0My4yMTJINTUuODg0OEw1NS43NTEzIDEzOC40NTZMNDguNTAwOCAxNDMuMjEySDQ1LjQ2NTZMNTUuNjkyOSAxMzYuNUw1NS4yOTY5IDEyMi40MDRMNTUuMDAwOCAxMTEuNzU5TDU2LjY2ODQgMTExLjcxM0w1Ni45Njg3IDEyMi40MDRMNTcuMzYwNSAxMzYuNDg3TDY1LjM4NjUgMTQzLjIxMkg2Mi43OTMxWiIgZmlsbD0iIzNGM0Q1NiIvPgo8cGF0aCBkPSJNNjYuODcxMyA2LjI5NTAxQzY1LjQwMDQgNi4yOTUwMSA2NC4xMDI4IDcuNDM1NDggNjMuMjM1MyA5LjE4NzIzQzYyLjQ3MDYgNi41NTMxMiA2MC44NjQxIDQuNzIxMjcgNTguOTg4IDQuNzIxMjdDNTguODYwNSA0LjczMzkyIDU4LjczNCA0Ljc1NTEzIDU4LjYwOTMgNC43ODQ3NkM1Ny44ODgyIDEuOTcyMzYgNTYuMjEyMSAtMi40Nzk1NWUtMDUgNTQuMjU4IC0yLjQ3OTU1ZS0wNUM1MS42NDU3IC0yLjQ3OTU1ZS0wNSA0OS41MjgxIDMuNTIyOTkgNDkuNTI4MSA3Ljg2ODhDNDkuNTI4MSAxMi4yMTQ2IDUxLjY0NTcgMTUuNzM3NiA1NC4yNTggMTUuNzM3NkM1NC4zODU1IDE1LjcyNSA1NC41MTIxIDE1LjcwMzcgNTQuNjM2NyAxNS42NzQxQzU1LjM1NzkgMTguNDg2NSA1Ny4wMzM5IDIwLjQ1ODkgNTguOTg4IDIwLjQ1ODlDNjAuNDU4OSAyMC40NTg5IDYxLjc1NjUgMTkuMzE4NCA2Mi42MjQgMTcuNTY2N0M2My4zODg3IDIwLjIwMDggNjQuOTk1MSAyMi4wMzI2IDY2Ljg3MTMgMjIuMDMyNkM2OS40ODM2IDIyLjAzMjYgNzEuNjAxMiAxOC41MDk2IDcxLjYwMTIgMTQuMTYzOEM3MS42MDEyIDkuODE4MDEgNjkuNDgzNiA2LjI5NTAxIDY2Ljg3MTMgNi4yOTUwMVoiIGZpbGw9IiMzRjNENTYiLz4KPHBhdGggZD0iTTE1Ljc2NjYgODQuMDE0NUMxMy42OTYxIDg0LjAxNDUgMTEuNjQ1OSA4My42MDc0IDkuNzMzMDEgODIuODE2NkM3LjgyMDEyIDgyLjAyNTcgNi4wODIwMyA4MC44NjY1IDQuNjE3OTcgNzkuNDA1MUMzLjE1MzkxIDc3Ljk0MzcgMS45OTI1NiA3Ni4yMDg4IDEuMjAwMjEgNzQuMjk5NEMwLjQwNzg3MiA3Mi4zOTAxIDYuNDI5NWUtMDUgNzAuMzQzNiA2LjQyOTVlLTA1IDY4LjI3NjlMNi40Mjk1ZS0wNSA2MC40MDhDNi40Mjk1ZS0wNSA1Ni4yMzQyIDEuNjYxMTcgNTIuMjMxMyA0LjYxNzk3IDQ5LjI3OTlDNy41NzQ3NyA0Ni4zMjg1IDExLjU4NTEgNDQuNjcwNCAxNS43NjY2IDQ0LjY3MDRWNDQuNjcwNEwxNS43NjY2IDg0LjAxNDVaIiBmaWxsPSIjNTU1N0U0Ii8+CjxwYXRoIGQ9Ik0xMTYuMzk5IDQ0LjY3MDVDMTE4LjQ3IDQ0LjY3MDUgMTIwLjUyIDQ1LjA3NzYgMTIyLjQzMyA0NS44Njg1QzEyNC4zNDYgNDYuNjU5NCAxMjYuMDg0IDQ3LjgxODYgMTI3LjU0OCA0OS4yOEMxMjkuMDEyIDUwLjc0MTMgMTMwLjE3MyA1Mi40NzYyIDEzMC45NjYgNTQuMzg1NkMxMzEuNzU4IDU2LjI5NSAxMzIuMTY2IDU4LjM0MTQgMTMyLjE2NiA2MC40MDgxVjY4LjI3N0MxMzIuMTY2IDcwLjM0MzcgMTMxLjc1OCA3Mi4zOTAxIDEzMC45NjYgNzQuMjk5NUMxMzAuMTczIDc2LjIwODkgMTI5LjAxMiA3Ny45NDM4IDEyNy41NDggNzkuNDA1MUMxMjYuMDg0IDgwLjg2NjUgMTI0LjM0NiA4Mi4wMjU3IDEyMi40MzMgODIuODE2NkMxMjAuNTIgODMuNjA3NSAxMTguNDcgODQuMDE0NiAxMTYuMzk5IDg0LjAxNDZWODQuMDE0NlY0NC42NzA1SDExNi4zOTlaIiBmaWxsPSIjNTU1N0U0Ii8+CjxwYXRoIGQ9Ik0xMjQuNjYxIDYxLjY0NDZIMTIyLjE2QzEyMi4xNiAyOS45Nzc1IDk2LjM0OTIgNC4yMTQyMyA2NC42MjM3IDQuMjE0MjNDMzIuODk4MyA0LjIxNDIzIDcuMDg3NzUgMjkuOTc3NSA3LjA4Nzc1IDYxLjY0NDZINC41ODYxOEM0LjU4NjE4IDI4LjYwMDUgMzEuNTE4OSAxLjcxNzI2IDY0LjYyMzcgMS43MTcyNkM5Ny43Mjg2IDEuNzE3MjYgMTI0LjY2MSAyOC42MDA2IDEyNC42NjEgNjEuNjQ0NloiIGZpbGw9IiM1NTU3RTQiLz4KPC9zdmc+Cg==",alt:"chicken"}),o.a.createElement("div",{className:"malibu-tablet-uLoading-chiken-eye left"}),o.a.createElement("div",{className:"malibu-tablet-uLoading-chiken-eye right"}),o.a.createElement("div",{className:"malibu-tablet-uLoading-path"},o.a.createElement("svg",{width:"12",height:"3",xmlns:"http://www.w3.org/2000/svg",style:{visibility:"hidden"}},o.a.createElement("path",{d:"M 0 2 Q 6 -5 12 2 M 12 2 Q 6 -5 0 2",stroke:"black",fill:"transparent"})))),o.a.createElement("div",{className:"malibu-tablet-uLoading-ground",style:{position:"absolute",marginLeft:"228px"}},o.a.createElement("img",{src:"data:image/svg+xml;base64,DQo8c3ZnIHdpZHRoPSI4NyIgaGVpZ2h0PSIxNSIgdmlld0JveD0iMCAwIDI4NyAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0yODYuMzUxIDExLjY4Nkw4MS40MDg4IDE0Ljc3MDFMMC4wNTc2MTcyIDAuMzc4MTc0SDEyNy4wNThMMjg2LjM1MSAxMS42ODZaIiBmaWxsPSIjRTZFNkU2Ii8+DQo8L3N2Zz4NCg==",alt:"ground"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-tree one"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-tree two"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-tree three"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-tree four"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-tree five"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-sun"}),o.a.createElement("div",{className:"malibu-tablet-uLoading-music-list",style:{position:"absolute"}},o.a.createElement("div",{className:"malibu-tablet-uLoading-music six"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMiAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xOS42NDU5IDEyLjA5MDVMMTkuNjQ3IDEyLjA4ODJMMTYuODM3MiAxMC45MjAyTDUuMDkzNDUgNi4zNjMzNUw4LjA1NzQ1IDMuNzMxMTJDOC4wNTc0NSAzLjczMTEyIDEwLjAyOSAxLjAwMDU1IDEzLjE3NDEgMi44OTQ0OUwxMi4yNTQzIDEuNTI5OTVDMTIuMjU0MyAxLjUyOTk1IDEwLjUyNTEgLTAuNzU1MTU3IDguMTA0NjUgMS42NjI1NEM4LjEwNDY1IDEuNjYyNTQgNS4xMDk3NiA2LjA2OTU0IDAuNDA1NTE4IDQuOTQ2MTlMMTYuNDcxNCAxMS43MzM2TDE2LjU1NTcgMTEuODA5OUwxNS40NzMxIDE0LjM1NzlDMTUuMzI0OSAxNC41OTEgMTUuMTk4NSAxNC44MzcxIDE1LjA5NTQgMTUuMDkzM0MxNC4zMzcgMTcuMDA0NyAxNS43Njk0IDE4LjkwNTkgMTcuMTIzNCAxOS40NDEyQzE4LjQ3NzUgMTkuOTc2NiAyMC4xOTAxIDE4Ljg2MSAyMC45NDg1IDE2Ljk0OTZDMjEuNjk2NSAxNS4wNjQzIDIwLjk2NTQgMTIuNjY5MiAxOS42NDU5IDEyLjA5MDVaIiBmaWxsPSIjM0YzRDU2Ii8+DQo8L3N2Zz4NCg==",alt:"music"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-music five"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAzMCAyMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0yOS4yNjg5IDIwLjM2ODFDMjMuNDM2OCAxNy4wMzk3IDI0LjYwMzkgOS43MzU4NCAyNC42MDM5IDkuNzM1ODRDMjQuNDU3MSA0Ljk5MDg5IDIwLjUyOTcgNS42NjI1NiAyMC41Mjk3IDUuNjYyNTZMMTkuMTAwMyA1Ljk4ODE0QzE4LjQzNjMgNS42ODA1MSAxNy43MDUxIDUuNTQ1NTMgMTYuOTc0OCA1LjU5NTc1TDE0LjgwMDUgNS45NjFDMTkuNzUxNiA3LjEyMjE5IDE5LjM0NDggMTEuMjU2NCAxOS4zNDQ4IDExLjI1NjRMMjAuMDM4NCAxNi4wOTAzTDcuMDY1MTUgMTAuODY2NEw4LjU1NDY5IDcuMzYwNjdDOC43NjA1NSA3LjAzNjk2IDguOTM2MTggNi42OTUwNiA5LjA3OTM4IDYuMzM5MjhDMTAuMTMyNyAzLjY4NDUzIDguMTQzMyAxLjA0MzkxIDYuMjYyNTkgMC4zMDA0MkM0LjM4MTg5IC0wLjQ0MzA2NyAyLjAwMzM2IDEuMTA2MyAwLjk1MDAxOCAzLjc2MUMtMC4wODg5Nzk3IDYuMzc5NTIgMC45MjY0MDcgOS43MDYxNSAyLjc1OTExIDEwLjUwOTlMMi43NTc1NiAxMC41MTNMNi42NjAyMiAxMi4xMzUzTDYuNjg5MjcgMTIuMDQzNUwyOS4yNjg5IDIwLjM2ODFaTTIyLjY4MDkgMTEuODc0NkwyMy4wOTgzIDE2LjUxNzVDMjAuNjQ4OCAxMy4yNzE5IDIxLjE0OTUgOS40MTU3OCAyMS4xNDk1IDkuNDE1NzhDMjEuMTE1IDguNTIwMjkgMjAuODEyMyA3LjY1NTY5IDIwLjI4MDYgNi45MzM1OUMyMy4wOTQ0IDguNjE0MzIgMjIuNjgwOSAxMS44NzQ2IDIyLjY4MDkgMTEuODc0NkgyMi42ODA5WiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-music four"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxNyAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMC4yMjE3IDEzLjMzOUw5LjU5Mjc0IDE0LjgxOTJDOS41MDY2NSAxNC45NTQ2IDkuNDMzMjEgMTUuMDk3NiA5LjM3MzM0IDE1LjI0NjRDOC45MzI3NSAxNi4zNTY3IDkuNzY0ODQgMTcuNDYxMSAxMC41NTE0IDE3Ljc3MjFDMTEuMzM4IDE4LjA4MzEgMTIuMzMyOSAxNy40MzUxIDEyLjc3MzQgMTYuMzI0N0MxMy4yMDggMTUuMjI5NSAxMi43ODMzIDEzLjgzODIgMTIuMDE2OCAxMy41MDJMMTIuMDE3NCAxMy41MDA3TDEwLjM4NTEgMTIuODIyMkw0LjgwMTI2IDEwLjY1NTVMNy45OTE3NCAyLjYxNDYzTDcuNTE4ODggMi40Mjc2OEw0LjMyNzE5IDEwLjQ3MTZMMy42MzY3NSAxMC4yMDM3TDYuODQwODMgMi4xMjgzOUw2LjkyNTI1IDIuMTY0MDVMMTMuNDg4OCA0LjkzNjk4TDEzLjUzNzggNC45ODEyOEwxMi45MDg5IDYuNDYxNDNDMTIuODIyOSA2LjU5NjgyIDEyLjc0OTQgNi43Mzk4MiAxMi42ODk1IDYuODg4NjNDMTIuMjQ4OSA3Ljk5ODk5IDEzLjA4MSA5LjEwMzQyIDEzLjg2NzYgOS40MTQzOUMxNC42NTQyIDkuNzI1MzYgMTUuNjQ5MSA5LjA3NzM0IDE2LjA4OTYgNy45NjY5OEMxNi41MjQyIDYuODcxNzkgMTYuMDk5NSA1LjQ4MDQ0IDE1LjMzMyA1LjE0NDI4TDE1LjMzMzYgNS4xNDI5NEwxMy43MDEzIDQuNDY0NDVMNy4wMzA3OCAxLjY0OTc1TDcuMDMwNSAxLjY0OTYyTDYuODE0MTUgMS41NTgzNEw0LjM0NTQ4IDAuNTE2NjYzTDAuODM5ODQ0IDkuMzUxODVMMTAuMTcyNyAxMy4yOTQ3TDEwLjIyMTcgMTMuMzM5WiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-music three"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMyAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMS4yNDYzIDcuMDAyN0wxMS4yNDY5IDcuMDAxNDJMOS42MTQ2MSA2LjMyMjg4TDIuNzkyNTkgMy42NzU4MUw0LjUxNDQxIDIuMTQ2NzNDNC44NTEyNSAxLjY5ODUgNS4zNDg2OCAxLjM5NzYyIDUuOTAyNjQgMS4zMDcwNEM2LjQ1NjYgMS4yMTY0NiA3LjAyNDE5IDEuMzQzMTggNy40ODY3MSAxLjY2MDY5TDYuOTUyMzkgMC44NjgwNEM2Ljk1MjM5IDAuODY4MDQgNS45NDc5MSAtMC40NTkzNyA0LjU0MTgyIDAuOTQ1MDg2QzQuNTQxODIgMC45NDUwODYgMi44MDIwNyAzLjUwNTEzIDAuMDY5MzM1OSAyLjg1MjU2TDkuNDAyMTcgNi43OTU0NUw5LjQ1MTE1IDYuODM5NzVMOC44MjIyNiA4LjMxOTkxQzguNzM2MTQgOC40NTUyOSA4LjY2MjY4IDguNTk4MyA4LjYwMjgxIDguNzQ3MTFDOC4xNjIyNyA5Ljg1NzQzIDguOTk0MzQgMTAuOTYxOSA5Ljc4MDkzIDExLjI3MjhDMTAuNTY3NSAxMS41ODM4IDExLjU2MjMgMTAuOTM1OCAxMi4wMDI5IDkuODI1NDZDMTIuNDM3NSA4LjczMDI2IDEyLjAxMjggNy4zMzg5MiAxMS4yNDYzIDcuMDAyN1oiIGZpbGw9IiMzRjNENTYiLz4NCjwvc3ZnPg0K",alt:"music"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-music two"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTMiIHZpZXdCb3g9IjAgMCAxMyAxMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMS4zNzkzIDMuODQ5NzdMMTEuMzc5NyAzLjg0ODg0TDEwLjIwNDUgMy4zNjAyOUw1LjI0NTggMS4yNjc4OEwzLjQ2ODM3IDAuNTE3OTE0TDMuMzMxOTYgMC44NjE2NTZMMC45NDQzMzYgNi44NzkxNUw3LjY2Mzg5IDkuNzE4MDJMNy42OTkxNiA5Ljc0OTkxTDcuMjQ2MzUgMTAuODE1NkM3LjE4NDM3IDEwLjkxMzEgNy4xMzE0OSAxMS4wMTYxIDcuMDg4MzYgMTEuMTIzMkM2Ljc3MTE3IDExLjkyMjYgNy4zNzAyNyAxMi43MTc4IDcuOTM2NjEgMTIuOTQxN0M4LjUwMjk1IDEzLjE2NTYgOS4yMTkyMyAxMi42OTkxIDkuNTM2NDIgMTEuODk5NkM5Ljg0OTMgMTEuMTExMSA5LjU0MzU0IDEwLjEwOTMgOC45OTE2MyA5Ljg2NzI4TDguOTkyMTEgOS44NjYzNEw3LjgxNjg3IDkuMzc3NzlMMy43OTY1MiA3LjgxNzhMNi4wOTM2NiAyLjAyODQyTDUuNzUzMTkgMS44OTM4NEwzLjQ1NTIzIDcuNjg1MzdMMi45NTgxIDcuNDkyNDZMNS4yNjUwNCAxLjY3ODMzTDUuMzI1ODEgMS43MDQwMUwxMC4wNTE1IDMuNzAwNUwxMC4wODY4IDMuNzMyMzlMOS42MzQwMiA0Ljc5ODEzQzkuNTcyMDMgNC44OTU2IDkuNTE5MTQgNC45OTg1NSA5LjQ3NjAzIDUuMTA1NjlDOS4xNTg4IDUuOTA1MTIgOS43NTc5IDYuNzAwMzMgMTAuMzI0MiA2LjkyNDE5QzEwLjg5MDYgNy4xNDgwNiAxMS42MDY5IDYuNjgxNTUgMTEuOTI0MSA1Ljg4MjExQzEyLjIzNjkgNS4wOTM1NiAxMS45MzEyIDQuMDkxODEgMTEuMzc5MyAzLjg0OTc3WiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"})),o.a.createElement("div",{className:"malibu-tablet-uLoading-music one"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iOSIgdmlld0JveD0iMCAwIDEzIDkiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQo8cGF0aCBkPSJNMTIuNjM2OSA4LjYyMjg0QzEwLjE5NzYgNy4yMzA3NiAxMC42ODU3IDQuMTc1ODcgMTAuNjg1NyA0LjE3NTg3QzEwLjYyNDMgMi4xOTEzMSA4Ljk4MTY5IDIuNDcyMjEgOC45ODE2OSAyLjQ3MjIxTDguMzgzODYgMi42MDg0MUM4LjEwNjE0IDIuNDc5NzUgNy44MDAzMiAyLjQyMzMgNy40OTQ4NyAyLjQ0NDMxTDYuNTg1NDYgMi41OTcwNUM4LjY1NjI2IDMuMDgyNzEgOC40ODYxMyA0LjgxMTg1IDguNDg2MTMgNC44MTE4NUw4Ljc3NjI1IDYuODMzNjZMMy4zNTAxNiA0LjY0ODcyTDMuOTczMTYgMy4xODI1QzQuMDU5MjYgMy4wNDcxMSA0LjEzMjcyIDIuOTA0MTEgNC4xOTI1OSAyLjc1NTNDNC42MzMxNCAxLjY0NDk0IDMuODAxMDcgMC41NDA1MDYgMy4wMTQ0OCAwLjIyOTU3NkMyLjIyNzg4IC0wLjA4MTQzMTQgMS4yMzMwNiAwLjU2NjYzMSAwLjc5MjQ3NiAxLjY3Njk1QzAuMzU3OTQ2IDIuNzcyMTQgMC43ODI2NDIgNC4xNjM0OCAxLjU0OTE2IDQuNDk5NjNMMS41NDg1MSA0LjUwMDk3TDMuMTgwOCA1LjE3OTQ2TDMuMTkyOTUgNS4xNDEwNEwxMi42MzY5IDguNjIyODRaTTkuODgxNDQgNS4wNzA0MUwxMC4wNTU0IDcuMDA1NjRDOS40NDEwNSA2LjE0NTE1IDkuMTUyNDMgNS4wOTUwMSA5LjI0MDkxIDQuMDQyMDVDOS4yMjY0OSAzLjY2NzUgOS4wOTk5MSAzLjMwNTg3IDguODc3NTEgMy4wMDM4NkM5LjIxOTQgMy4yMjI1IDkuNDk0MTEgMy41MzEyMSA5LjY3MTI3IDMuODk1ODlDOS44NDg0MyA0LjI2MDU4IDkuOTIxMTcgNC42NjcwNSA5Ljg4MTQ0IDUuMDcwNFY1LjA3MDQxWiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"}))),o.a.createElement("div",{className:"malibu-tablet-uLoading-progress-bar "},o.a.createElement("div",{className:"malibu-tablet-uLoading-progress",style:{width:this.state.width}}),o.a.createElement("label",{className:"loading"},this.props.dataFull.title),o.a.createElement("label",{className:"number-percent"},o.a.createElement("input",{className:"number-percent-input",readOnly:!0}),"%")),this.props.dataFull.speed.title?o.a.createElement("div",{className:"row",style:{margin:"auto",marginTop:"150px",width:"fit-content"}},o.a.createElement("div",{className:"malibu-desktop-uLoading-rocket"},o.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAfOSURBVHgBzZldbBzVFcf/dz722+t1SJOqH2RT6AMVNCsV+hKgS/pQlxRwGqlK3KjY6gMoqZT1S9SqlWyr5akPXktJVLVVsSVwTNUSC5IIPzSZUHho0hajBAWhAAYChJBk1/Z+785czp31rL27M7vrXQf4P/hez71z5zfnnnPuvbMMXwIlYn0hBZ7IoStq5FwG28AR4mARJiEk6nb3MHxBErAS/AME8BhhRAAeuloEhq7IEGUzfe7gS7E9UQ55mKpRu/ZW4T838MVY/wBN/0F6YKRZ31bgbzl4Mws7qRn8LQMvB5x/mAMxtKlG8LcEPBHrj8hgx6kaRodygE/KWGelhvYJP56haqhRP6lnI5mNepYaR2GACO8PcLyalpAyli9yvLmuFl+K7SPX4CNO7fIdd8Hd+1NIX98C5vWVGbIZlC78F4XZ4zBufuo4dpXlOdfWDbwRNPP64e7bB/X7DzQco/DS88jPPu/YbsF/XMD4urhKM0v7njgE5Z7vmfW8wfGf6zreWNRxccGATtO/ySOZbfKddwE0A/p7l23HsdzmgwJ/rmOLN4NW73sAnv4nzPrFBR3/uloy4VerW2XYs8VllkLp3w81dBsd+kMSOlB5UXGGFnL37jbLhSLHqY+KddBW2/R7hUqb+uCPGg2Jnvi0pmCNivbFQulCMrw9qIv9xZgIcSeJYGQbNpr10580zh4C/kJSx70bFIqFB5Gfecapqyb+tAQuYOHN04ZIesww8lFeAvbfZjS9T9rwlUr9/TRv2v9artxHZByJXti4ed2mF59sCi6AJV/hIEcxBi6ZeTmfL+AXPTq+qmJNsnORWuWa24L829BE6Qge3fNklLHi05yzsHWtVNJxGy9ioAVrC/FsulL/pl/CB+nG9212r+QKe2tDI/+eFxXJHnr/MGPyGdQs2dlsDo+3CC2kv33JXGCE7ulunnnvDpX76JcvOfQwxq2aZA/NRmqvl4olbJYN9AabT7klAV0893IZisBF4Dnp4a+plXRYPP9y/VjAfDB+bMYW3AlaKF8orMnalgq0EvLlad+xWTEBrQXHLTHc7pPMHH738oyIFy2e+3fdOAx8tPr/CvSTYXKPd+0ebhgGArk0jm3V0Y5EhvAd+F0lNTpJuEj2b2MV97IkrN0df3Zr1ZhWZdmnbSUyyTZv6y5SKxFomSN/qLhNrQRojvJ25shTddDm/eC7aq+ZFicXGSAXeRoOWlpK48/fKOJODzqWyNFiTyI2XiYULe3OwWhqIhh/drD2ohktBD1sc4PGDf46bYLmvusxwgQ9jBaVNhiuGRK2KvWuVd7G/q+lcYSL0DZs1K5NEfkaVtpjSHKDjSOnxLWZeNLqdCL285aOXwL4rykvTmdd+MvGRXQq4SJW3q6VAib1lZnZuJFRRlYDW6KI/kGzU94LGTemUx6kOcMOTwGb5LVnoNWizdtoT3xqzqldAWfbqNPgmekjE3Yd0i/8uI+/n4vyGyp4oj4PCysfS3vwIoELCeC9gRw6he6OT4006qOAXEP7+5GZ2obE8WjI5fKNMc4GWDgPdkcRsuylvawLhTkOI1WG/m0igHdLK6viXn+uI2sT9HgzaCHH+c+c2PkaFREKXCjdXigBd6VNQCf+z3DovL8K+lFfHr/syqJD6JbiSXGAHjOhZQnuTV0Q5WpJAeA3b1dDiwzSIfRoK5a2VAeeOvnwAI1ivrUdtNDkq25cvlYN/VRPCu2IPsslGYwhgp5Yy311VBIv53Q15LOFnr3gwuQrKytR5PYS/rg9Db+09pX1co5h7BMMBtcILVRl8aUXe6NUhAXwap+2dHVBMq1tafe9BRz4YRa8QIH6DsyyFaUoqP+ZoJm7KYvVL4k2VAVORzMzp0u+leMN51ysrGZ99qJqwgfcHId2ZnH/t8vnSOaiGfoO7QTnmj/wpQVGwBJu0KP9AQ/OPndUQxuqApeZyOmkkoHCjRSMog7F54IS9CKVZ3jlLRWPb89j9315E77q3i30EnOqsF7ICXh2keFCUYHb7YZXMWNEQ5uqAqfIDgu769llS5LLyF0r/jzWn64DtlTKZcF6WGj1IjWXYXidEs0/EhKykmwC+/0rQU2zOYn1ACeX0MoDYkCUKuVvy02cgE3oVB5cfJLq1pNIqBoZ4Oyvr0g4n5XGVFWB4lXhV+qObvNYPvi2o6q04d15clCnh5ovIaxNbmJJ+HpxsT5PC+DSQvk6+1ZmKBh/Zhdt+uOXEEBXMACP1wOlHloYZFKb/tM82lRdHq+kQ7K2JWFRAccUes/gynVOMZC/njJfyuB8PPDoqYlKo8rCcNY8beji6EBV4InjvWGIdEhnQWFtI18kK+eoLJnt4roJTKClpRz0pbxZJ2mBR05VL9W0eXPaUNAnj0G7XWjb4LKsRKxParkPkxZUlYS7rAIuW7oGunx+tf/Nh1xk9Myxwxo6VJWPS5LIKoROX52WwebIOqMSY+buUVi+RDNgWVnn7KE6S5dHisIB+vTU4RGsg6rTIWdzBuNDYDwpF1yad9fMvLieOfkT+j2Hz5v7Cs7P6pBmuh45odkNWLZ2/VGQXnXozNThjvx6tdb9x6sdew+M1fzSpnEyhjZ1tIV1tXWt+TNzI0X79x/kvAKtiQVGmz46gVugdbN49Ge/6mMyPyi+DFD6mdGmOw/ARvoMZ7pw6Vztu/cAAAAASUVORK5CYII=",alt:"rocket"})),o.a.createElement("div",{className:"malibu-desktop-uLoading-speed"},o.a.createElement("label",null,this.props.dataFull.speed.title),o.a.createElement("div",{className:"malibu-desktop-uLoading-speed-number "+(this.props.dataFull.cmd.error.message?"error":"")},o.a.createElement("div",{style:{margin:"auto"}},this.props.dataFull.speed.number_speed),o.a.createElement("img",{src:this.props.dataFull.cmd.error.message?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGiSURBVHgB7ZXRTcMwEIbvXPJStciEB6jUVMkG7QZlg44AE5QNygYdATahG8AGrQRSWx7AEhIvSDli5AQ3cWO7ooiHfpIlxz75fOf/LgAH/gPL0+hSDvgL1jwarcOI5Fjy7hA8YeALg2k+bSBOwBMvhyqNcf5NCMNV2LsGD9DVcMnPY8aCe92hQnyk70kihHA5xznCBgsmBmcS3mJt59Q6Raiim9fZpOln0hGrBVhwipBhMLXZNDC4BQesDr+FgjDS15BoBkSP+poUkEuZWFOa1ZtMZawtibPXpxM5eQmjN8reUNtbZHtJ3Xms3lnXJJRCjaTNFfE67N3ALg6lUBDQq8bUNcZzzrm3Q1kGpXTlFGu4Zb+uTIxvaCsDhEwwhEIKZZtNmtJFRzzPyutHJmPVUbZCgH2b3FSfnVXOLi+U+6UBKZQ7ObAqmp9LyTIx/MI27ikfu8naDxaHhfQNJVOxzfrsQO+zGxE2WWtsOcCXuMmON5ReROjSL3dEZH12kPfZIkL1N9gHXO+zekpHsCdIe6aiLCiFq5RRH/YBVcvjwK/xBRbpfbJqi9GHAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAILSURBVHgB3ZZLUuMwEIa7pZqZ5eQInhMM3MBZThlqnBMQdiwIBScIuQFVAYodzgWIgQKW+AaEExBuEJYkZTUtB8dvEtuw4d9EVrr6a0ndagF8d+GqhjtD2/jx0zcF4l9F2NBzAmmiiB5nU+mdtdzxKn6WAnevN0yUsgsE5hJPHpAa9K1r52OzAu0P7Yb/i84ZZEM5ObMp9opWnAvcv7MNX9E9Dw2opjFDm3lQ/ALYAiqnuH7UcifxSZG2Ylj3E2BaRnAkKSWAnZvNNv+0oaKIaOADrvO+ufMJsHXSFQIBxRbUgB1vXLVPLXfE2Xq5cKkzPI4IB+9n9wQVFMJifhI5oEAaJ9bFsx4vVugr34QKWgYLbPxZMxwvgKRwLcffGGrCAghGvqMzRGjEjfj6Ouhbl384kB7UgAWuBf7OAtNGpIIAjjfdQ/7argpLKwISTFJRdffuWkHW9i3XCaFVYKToJQNEQaOsoXLiUN7eZpWVoRCjDFAK6UFudBGUt9crC9OaTcHLAI/+8UWL0R9F0LIwIkj0ykTSkJ+fkSG0c/t/yLAHKHHXIuIg8Z020E4r9MAiOVxaiQzPlIV8DbJxDPWle2JmxzJA3b+kwGZNaGEDzi18nUAaqmsOyopbk268pZ4YcXVu7DaDtxA/fkTpbATCXlg6xfGsqHk5gImg1gjmdyMCvRDQqMwz8fvrDeQ/QIleItNVAAAAAElFTkSuQmCC",alt:"icon"})))):null,this.props.dataFull.cmd.error.message?o.a.createElement("div",{className:"malibu-desktop-uLoading-message-error"},this.props.dataFull.cmd.error.message):null)):"mobile"===this.state.device?o.a.createElement("div",{className:"malibu-mobile-uLoading "+this.state.class},o.a.createElement("div",{className:"malibu-mobile-uLoading-header"},o.a.createElement("div",{className:"malibu-mobile-uLoading-chicken",style:{position:"absolute",zIndex:"3"}},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMzIiBoZWlnaHQ9IjE0NCIgdmlld0JveD0iMCAwIDEzMyAxNDQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik02Ni4wODI4IDExNy4yNDVDOTUuNjg4NyAxMTcuMjQ1IDExOS42ODkgOTMuMjg5MSAxMTkuNjg5IDYzLjczNzRDMTE5LjY4OSAzNC4xODU4IDk1LjY4ODcgMTAuMjI5NSA2Ni4wODI4IDEwLjIyOTVDMzYuNDc2OSAxMC4yMjk1IDEyLjQ3NjYgMzQuMTg1OCAxMi40NzY2IDYzLjczNzRDMTIuNDc2NiA5My4yODkxIDM2LjQ3NjkgMTE3LjI0NSA2Ni4wODI4IDExNy4yNDVaIiBmaWxsPSIjM0YzRDU2Ii8+CjxwYXRoIGQ9Ik0zMi4zMzQ0IDY4LjAzMjZDMzMuNjY1OCA2Ni40NDE3IDM1LjMzMDkgNjUuMTYyIDM3LjIxMiA2NC4yODM4QzM5LjA5MzIgNjMuNDA1NiA0MS4xNDQ3IDYyLjk1MDUgNDMuMjIxNCA2Mi45NTA1QzQ1LjI5ODEgNjIuOTUwNSA0Ny4zNDk2IDYzLjQwNTYgNDkuMjMwNyA2NC4yODM4QzUxLjExMTkgNjUuMTYyIDUyLjc3NyA2Ni40NDE3IDU0LjEwODQgNjguMDMyNkM1Ni4zODY1IDY1Ljg2MTkgNTcuOTYxIDYzLjA1OTggNTguNjI5MSA1OS45ODc2QzU5LjI5NzIgNTYuOTE1NSA1OS4wMjgyIDUzLjcxNCA1Ny44NTY4IDUwLjc5NThDNTYuNjg1NCA0Ny44Nzc2IDU0LjY2NTIgNDUuMzc2NSA1Mi4wNTY3IDQzLjYxNDhDNDkuNDQ4MiA0MS44NTMxIDQ2LjM3MDkgNDAuOTExNiA0My4yMjE0IDQwLjkxMTZDNDAuMDcxOSA0MC45MTE2IDM2Ljk5NDYgNDEuODUzMSAzNC4zODYxIDQzLjYxNDhDMzEuNzc3NiA0NS4zNzY1IDI5Ljc1NzQgNDcuODc3NiAyOC41ODYgNTAuNzk1OEMyNy40MTQ2IDUzLjcxNCAyNy4xNDU2IDU2LjkxNTUgMjcuODEzNyA1OS45ODc2QzI4LjQ4MTggNjMuMDU5OCAzMC4wNTYzIDY1Ljg2MTkgMzIuMzM0NCA2OC4wMzI2VjY4LjAzMjZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNzQuOTA0IDY4LjAzMjZDNzYuMjM1MyA2Ni40NDE3IDc3LjkwMDQgNjUuMTYxOSA3OS43ODE2IDY0LjI4MzhDODEuNjYyOCA2My40MDU2IDgzLjcxNDIgNjIuOTUwNSA4NS43OTEgNjIuOTUwNUM4Ny44Njc3IDYyLjk1MDUgODkuOTE5MSA2My40MDU2IDkxLjgwMDMgNjQuMjgzOEM5My42ODE1IDY1LjE2MTkgOTUuMzQ2NSA2Ni40NDE3IDk2LjY3NzkgNjguMDMyNkM5OC45NTYgNjUuODYxOSAxMDAuNTMxIDYzLjA1OTggMTAxLjE5OSA1OS45ODc2QzEwMS44NjcgNTYuOTE1NSAxMDEuNTk4IDUzLjcxNCAxMDAuNDI2IDUwLjc5NThDOTkuMjU0OSA0Ny44Nzc2IDk3LjIzNDggNDUuMzc2NSA5NC42MjYzIDQzLjYxNDhDOTIuMDE3OCA0MS44NTMxIDg4Ljk0MDQgNDAuOTExNiA4NS43OTEgNDAuOTExNkM4Mi42NDE1IDQwLjkxMTYgNzkuNTY0MSA0MS44NTMxIDc2Ljk1NTYgNDMuNjE0OEM3NC4zNDcxIDQ1LjM3NjUgNzIuMzI3IDQ3Ljg3NzYgNzEuMTU1NiA1MC43OTU4QzY5Ljk4NDEgNTMuNzE0IDY5LjcxNTEgNTYuOTE1NSA3MC4zODMyIDU5Ljk4NzZDNzEuMDUxMyA2My4wNTk4IDcyLjYyNTkgNjUuODYxOSA3NC45MDQgNjguMDMyNloiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0yNy40NTQ4IDgzLjQwOTRDMzAuOTM3OSA4My40MDk0IDMzLjc2MTQgODAuNTkxIDMzLjc2MTQgNzcuMTE0M0MzMy43NjE0IDczLjYzNzcgMzAuOTM3OSA3MC44MTkzIDI3LjQ1NDggNzAuODE5M0MyMy45NzE4IDcwLjgxOTMgMjEuMTQ4MiA3My42Mzc3IDIxLjE0ODIgNzcuMTE0M0MyMS4xNDgyIDgwLjU5MSAyMy45NzE4IDgzLjQwOTQgMjcuNDU0OCA4My40MDk0WiIgZmlsbD0iI0ZGNjU4NCIvPgo8cGF0aCBkPSJNOTkuOTgwNyA4My40MDk0QzEwMy40NjQgODMuNDA5NCAxMDYuMjg3IDgwLjU5MSAxMDYuMjg3IDc3LjExNDNDMTA2LjI4NyA3My42Mzc3IDEwMy40NjQgNzAuODE5MyA5OS45ODA3IDcwLjgxOTNDOTYuNDk3NiA3MC44MTkzIDkzLjY3NDEgNzMuNjM3NyA5My42NzQxIDc3LjExNDNDOTMuNjc0MSA4MC41OTEgOTYuNDk3NiA4My40MDk0IDk5Ljk4MDcgODMuNDA5NFoiIGZpbGw9IiNGRjY1ODQiLz4KPHBhdGggZD0iTTYzLjcxNzcgNjQuNTI0MUw1OC45ODc4IDg0Ljk4MzFMNjYuODcxIDc3LjExNDRMNjMuNzE3NyA2NC41MjQxWiIgZmlsbD0iI0ZGNjU4NCIvPgo8cGF0aCBkPSJNODguMDIxNiAxNDMuMjEyTDgyLjY1MTYgMTM4LjcxNEw4Mi43NzY3IDE0My4yMTJIODEuMTA4OEw4MC45NzU2IDEzOC40NTZMNzMuNzI1MiAxNDMuMjEySDcwLjY4OTlMODAuOTIxNCAxMzYuNUw4MC41MjUxIDEyMi40MDRMODAuMjI5MSAxMTEuNzU5TDgxLjg5MjggMTExLjcxM0w4Mi4xOTMgMTIyLjQwNEw4Mi41ODkgMTM2LjQ4N0w5MC42MTQ3IDE0My4yMTJIODguMDIxNloiIGZpbGw9IiMzRjNENTYiLz4KPHBhdGggZD0iTTYyLjc5MzEgMTQzLjIxMkw1Ny40MjMgMTM4LjcxNEw1Ny41NDgyIDE0My4yMTJINTUuODg0OEw1NS43NTEzIDEzOC40NTZMNDguNTAwOCAxNDMuMjEySDQ1LjQ2NTZMNTUuNjkyOSAxMzYuNUw1NS4yOTY5IDEyMi40MDRMNTUuMDAwOCAxMTEuNzU5TDU2LjY2ODQgMTExLjcxM0w1Ni45Njg3IDEyMi40MDRMNTcuMzYwNSAxMzYuNDg3TDY1LjM4NjUgMTQzLjIxMkg2Mi43OTMxWiIgZmlsbD0iIzNGM0Q1NiIvPgo8cGF0aCBkPSJNNjYuODcxMyA2LjI5NTAxQzY1LjQwMDQgNi4yOTUwMSA2NC4xMDI4IDcuNDM1NDggNjMuMjM1MyA5LjE4NzIzQzYyLjQ3MDYgNi41NTMxMiA2MC44NjQxIDQuNzIxMjcgNTguOTg4IDQuNzIxMjdDNTguODYwNSA0LjczMzkyIDU4LjczNCA0Ljc1NTEzIDU4LjYwOTMgNC43ODQ3NkM1Ny44ODgyIDEuOTcyMzYgNTYuMjEyMSAtMi40Nzk1NWUtMDUgNTQuMjU4IC0yLjQ3OTU1ZS0wNUM1MS42NDU3IC0yLjQ3OTU1ZS0wNSA0OS41MjgxIDMuNTIyOTkgNDkuNTI4MSA3Ljg2ODhDNDkuNTI4MSAxMi4yMTQ2IDUxLjY0NTcgMTUuNzM3NiA1NC4yNTggMTUuNzM3NkM1NC4zODU1IDE1LjcyNSA1NC41MTIxIDE1LjcwMzcgNTQuNjM2NyAxNS42NzQxQzU1LjM1NzkgMTguNDg2NSA1Ny4wMzM5IDIwLjQ1ODkgNTguOTg4IDIwLjQ1ODlDNjAuNDU4OSAyMC40NTg5IDYxLjc1NjUgMTkuMzE4NCA2Mi42MjQgMTcuNTY2N0M2My4zODg3IDIwLjIwMDggNjQuOTk1MSAyMi4wMzI2IDY2Ljg3MTMgMjIuMDMyNkM2OS40ODM2IDIyLjAzMjYgNzEuNjAxMiAxOC41MDk2IDcxLjYwMTIgMTQuMTYzOEM3MS42MDEyIDkuODE4MDEgNjkuNDgzNiA2LjI5NTAxIDY2Ljg3MTMgNi4yOTUwMVoiIGZpbGw9IiMzRjNENTYiLz4KPHBhdGggZD0iTTE1Ljc2NjYgODQuMDE0NUMxMy42OTYxIDg0LjAxNDUgMTEuNjQ1OSA4My42MDc0IDkuNzMzMDEgODIuODE2NkM3LjgyMDEyIDgyLjAyNTcgNi4wODIwMyA4MC44NjY1IDQuNjE3OTcgNzkuNDA1MUMzLjE1MzkxIDc3Ljk0MzcgMS45OTI1NiA3Ni4yMDg4IDEuMjAwMjEgNzQuMjk5NEMwLjQwNzg3MiA3Mi4zOTAxIDYuNDI5NWUtMDUgNzAuMzQzNiA2LjQyOTVlLTA1IDY4LjI3NjlMNi40Mjk1ZS0wNSA2MC40MDhDNi40Mjk1ZS0wNSA1Ni4yMzQyIDEuNjYxMTcgNTIuMjMxMyA0LjYxNzk3IDQ5LjI3OTlDNy41NzQ3NyA0Ni4zMjg1IDExLjU4NTEgNDQuNjcwNCAxNS43NjY2IDQ0LjY3MDRWNDQuNjcwNEwxNS43NjY2IDg0LjAxNDVaIiBmaWxsPSIjNTU1N0U0Ii8+CjxwYXRoIGQ9Ik0xMTYuMzk5IDQ0LjY3MDVDMTE4LjQ3IDQ0LjY3MDUgMTIwLjUyIDQ1LjA3NzYgMTIyLjQzMyA0NS44Njg1QzEyNC4zNDYgNDYuNjU5NCAxMjYuMDg0IDQ3LjgxODYgMTI3LjU0OCA0OS4yOEMxMjkuMDEyIDUwLjc0MTMgMTMwLjE3MyA1Mi40NzYyIDEzMC45NjYgNTQuMzg1NkMxMzEuNzU4IDU2LjI5NSAxMzIuMTY2IDU4LjM0MTQgMTMyLjE2NiA2MC40MDgxVjY4LjI3N0MxMzIuMTY2IDcwLjM0MzcgMTMxLjc1OCA3Mi4zOTAxIDEzMC45NjYgNzQuMjk5NUMxMzAuMTczIDc2LjIwODkgMTI5LjAxMiA3Ny45NDM4IDEyNy41NDggNzkuNDA1MUMxMjYuMDg0IDgwLjg2NjUgMTI0LjM0NiA4Mi4wMjU3IDEyMi40MzMgODIuODE2NkMxMjAuNTIgODMuNjA3NSAxMTguNDcgODQuMDE0NiAxMTYuMzk5IDg0LjAxNDZWODQuMDE0NlY0NC42NzA1SDExNi4zOTlaIiBmaWxsPSIjNTU1N0U0Ii8+CjxwYXRoIGQ9Ik0xMjQuNjYxIDYxLjY0NDZIMTIyLjE2QzEyMi4xNiAyOS45Nzc1IDk2LjM0OTIgNC4yMTQyMyA2NC42MjM3IDQuMjE0MjNDMzIuODk4MyA0LjIxNDIzIDcuMDg3NzUgMjkuOTc3NSA3LjA4Nzc1IDYxLjY0NDZINC41ODYxOEM0LjU4NjE4IDI4LjYwMDUgMzEuNTE4OSAxLjcxNzI2IDY0LjYyMzcgMS43MTcyNkM5Ny43Mjg2IDEuNzE3MjYgMTI0LjY2MSAyOC42MDA2IDEyNC42NjEgNjEuNjQ0NloiIGZpbGw9IiM1NTU3RTQiLz4KPC9zdmc+Cg==",alt:"chicken"}),o.a.createElement("div",{className:"malibu-mobile-uLoading-chiken-eye left"}),o.a.createElement("div",{className:"malibu-mobile-uLoading-chiken-eye right"}),o.a.createElement("div",{className:"malibu-mobile-uLoading-path"},o.a.createElement("svg",{width:"12",height:"3",xmlns:"http://www.w3.org/2000/svg",style:{visibility:"hidden"}},o.a.createElement("path",{d:"M 0 2 Q 6 -5 12 2 M 12 2 Q 6 -5 0 2",stroke:"black",fill:"transparent"})))),o.a.createElement("div",{className:"malibu-mobile-uLoading-ground",style:{position:"absolute"}},o.a.createElement("img",{src:"data:image/svg+xml;base64,DQo8c3ZnIHdpZHRoPSI4NyIgaGVpZ2h0PSIxNSIgdmlld0JveD0iMCAwIDI4NyAxNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0yODYuMzUxIDExLjY4Nkw4MS40MDg4IDE0Ljc3MDFMMC4wNTc2MTcyIDAuMzc4MTc0SDEyNy4wNThMMjg2LjM1MSAxMS42ODZaIiBmaWxsPSIjRTZFNkU2Ii8+DQo8L3N2Zz4NCg==",alt:"ground"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-tree one"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-tree two"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-tree three"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-tree four"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-tree five"},o.a.createElement("img",{src:this.tree_item,alt:"tree"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-sun"}),o.a.createElement("div",{className:"malibu-mobile-uLoading-music-list",style:{position:"absolute"}},o.a.createElement("div",{className:"malibu-mobile-uLoading-music six"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMiAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xOS42NDU5IDEyLjA5MDVMMTkuNjQ3IDEyLjA4ODJMMTYuODM3MiAxMC45MjAyTDUuMDkzNDUgNi4zNjMzNUw4LjA1NzQ1IDMuNzMxMTJDOC4wNTc0NSAzLjczMTEyIDEwLjAyOSAxLjAwMDU1IDEzLjE3NDEgMi44OTQ0OUwxMi4yNTQzIDEuNTI5OTVDMTIuMjU0MyAxLjUyOTk1IDEwLjUyNTEgLTAuNzU1MTU3IDguMTA0NjUgMS42NjI1NEM4LjEwNDY1IDEuNjYyNTQgNS4xMDk3NiA2LjA2OTU0IDAuNDA1NTE4IDQuOTQ2MTlMMTYuNDcxNCAxMS43MzM2TDE2LjU1NTcgMTEuODA5OUwxNS40NzMxIDE0LjM1NzlDMTUuMzI0OSAxNC41OTEgMTUuMTk4NSAxNC44MzcxIDE1LjA5NTQgMTUuMDkzM0MxNC4zMzcgMTcuMDA0NyAxNS43Njk0IDE4LjkwNTkgMTcuMTIzNCAxOS40NDEyQzE4LjQ3NzUgMTkuOTc2NiAyMC4xOTAxIDE4Ljg2MSAyMC45NDg1IDE2Ljk0OTZDMjEuNjk2NSAxNS4wNjQzIDIwLjk2NTQgMTIuNjY5MiAxOS42NDU5IDEyLjA5MDVaIiBmaWxsPSIjM0YzRDU2Ii8+DQo8L3N2Zz4NCg==",alt:"music"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-music five"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMjEiIHZpZXdCb3g9IjAgMCAzMCAyMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0yOS4yNjg5IDIwLjM2ODFDMjMuNDM2OCAxNy4wMzk3IDI0LjYwMzkgOS43MzU4NCAyNC42MDM5IDkuNzM1ODRDMjQuNDU3MSA0Ljk5MDg5IDIwLjUyOTcgNS42NjI1NiAyMC41Mjk3IDUuNjYyNTZMMTkuMTAwMyA1Ljk4ODE0QzE4LjQzNjMgNS42ODA1MSAxNy43MDUxIDUuNTQ1NTMgMTYuOTc0OCA1LjU5NTc1TDE0LjgwMDUgNS45NjFDMTkuNzUxNiA3LjEyMjE5IDE5LjM0NDggMTEuMjU2NCAxOS4zNDQ4IDExLjI1NjRMMjAuMDM4NCAxNi4wOTAzTDcuMDY1MTUgMTAuODY2NEw4LjU1NDY5IDcuMzYwNjdDOC43NjA1NSA3LjAzNjk2IDguOTM2MTggNi42OTUwNiA5LjA3OTM4IDYuMzM5MjhDMTAuMTMyNyAzLjY4NDUzIDguMTQzMyAxLjA0MzkxIDYuMjYyNTkgMC4zMDA0MkM0LjM4MTg5IC0wLjQ0MzA2NyAyLjAwMzM2IDEuMTA2MyAwLjk1MDAxOCAzLjc2MUMtMC4wODg5Nzk3IDYuMzc5NTIgMC45MjY0MDcgOS43MDYxNSAyLjc1OTExIDEwLjUwOTlMMi43NTc1NiAxMC41MTNMNi42NjAyMiAxMi4xMzUzTDYuNjg5MjcgMTIuMDQzNUwyOS4yNjg5IDIwLjM2ODFaTTIyLjY4MDkgMTEuODc0NkwyMy4wOTgzIDE2LjUxNzVDMjAuNjQ4OCAxMy4yNzE5IDIxLjE0OTUgOS40MTU3OCAyMS4xNDk1IDkuNDE1NzhDMjEuMTE1IDguNTIwMjkgMjAuODEyMyA3LjY1NTY5IDIwLjI4MDYgNi45MzM1OUMyMy4wOTQ0IDguNjE0MzIgMjIuNjgwOSAxMS44NzQ2IDIyLjY4MDkgMTEuODc0NkgyMi42ODA5WiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-music four"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxNyAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMC4yMjE3IDEzLjMzOUw5LjU5Mjc0IDE0LjgxOTJDOS41MDY2NSAxNC45NTQ2IDkuNDMzMjEgMTUuMDk3NiA5LjM3MzM0IDE1LjI0NjRDOC45MzI3NSAxNi4zNTY3IDkuNzY0ODQgMTcuNDYxMSAxMC41NTE0IDE3Ljc3MjFDMTEuMzM4IDE4LjA4MzEgMTIuMzMyOSAxNy40MzUxIDEyLjc3MzQgMTYuMzI0N0MxMy4yMDggMTUuMjI5NSAxMi43ODMzIDEzLjgzODIgMTIuMDE2OCAxMy41MDJMMTIuMDE3NCAxMy41MDA3TDEwLjM4NTEgMTIuODIyMkw0LjgwMTI2IDEwLjY1NTVMNy45OTE3NCAyLjYxNDYzTDcuNTE4ODggMi40Mjc2OEw0LjMyNzE5IDEwLjQ3MTZMMy42MzY3NSAxMC4yMDM3TDYuODQwODMgMi4xMjgzOUw2LjkyNTI1IDIuMTY0MDVMMTMuNDg4OCA0LjkzNjk4TDEzLjUzNzggNC45ODEyOEwxMi45MDg5IDYuNDYxNDNDMTIuODIyOSA2LjU5NjgyIDEyLjc0OTQgNi43Mzk4MiAxMi42ODk1IDYuODg4NjNDMTIuMjQ4OSA3Ljk5ODk5IDEzLjA4MSA5LjEwMzQyIDEzLjg2NzYgOS40MTQzOUMxNC42NTQyIDkuNzI1MzYgMTUuNjQ5MSA5LjA3NzM0IDE2LjA4OTYgNy45NjY5OEMxNi41MjQyIDYuODcxNzkgMTYuMDk5NSA1LjQ4MDQ0IDE1LjMzMyA1LjE0NDI4TDE1LjMzMzYgNS4xNDI5NEwxMy43MDEzIDQuNDY0NDVMNy4wMzA3OCAxLjY0OTc1TDcuMDMwNSAxLjY0OTYyTDYuODE0MTUgMS41NTgzNEw0LjM0NTQ4IDAuNTE2NjYzTDAuODM5ODQ0IDkuMzUxODVMMTAuMTcyNyAxMy4yOTQ3TDEwLjIyMTcgMTMuMzM5WiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-music three"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMyAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMS4yNDYzIDcuMDAyN0wxMS4yNDY5IDcuMDAxNDJMOS42MTQ2MSA2LjMyMjg4TDIuNzkyNTkgMy42NzU4MUw0LjUxNDQxIDIuMTQ2NzNDNC44NTEyNSAxLjY5ODUgNS4zNDg2OCAxLjM5NzYyIDUuOTAyNjQgMS4zMDcwNEM2LjQ1NjYgMS4yMTY0NiA3LjAyNDE5IDEuMzQzMTggNy40ODY3MSAxLjY2MDY5TDYuOTUyMzkgMC44NjgwNEM2Ljk1MjM5IDAuODY4MDQgNS45NDc5MSAtMC40NTkzNyA0LjU0MTgyIDAuOTQ1MDg2QzQuNTQxODIgMC45NDUwODYgMi44MDIwNyAzLjUwNTEzIDAuMDY5MzM1OSAyLjg1MjU2TDkuNDAyMTcgNi43OTU0NUw5LjQ1MTE1IDYuODM5NzVMOC44MjIyNiA4LjMxOTkxQzguNzM2MTQgOC40NTUyOSA4LjY2MjY4IDguNTk4MyA4LjYwMjgxIDguNzQ3MTFDOC4xNjIyNyA5Ljg1NzQzIDguOTk0MzQgMTAuOTYxOSA5Ljc4MDkzIDExLjI3MjhDMTAuNTY3NSAxMS41ODM4IDExLjU2MjMgMTAuOTM1OCAxMi4wMDI5IDkuODI1NDZDMTIuNDM3NSA4LjczMDI2IDEyLjAxMjggNy4zMzg5MiAxMS4yNDYzIDcuMDAyN1oiIGZpbGw9IiMzRjNENTYiLz4NCjwvc3ZnPg0K",alt:"music"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-music two"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTMiIHZpZXdCb3g9IjAgMCAxMyAxMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xMS4zNzkzIDMuODQ5NzdMMTEuMzc5NyAzLjg0ODg0TDEwLjIwNDUgMy4zNjAyOUw1LjI0NTggMS4yNjc4OEwzLjQ2ODM3IDAuNTE3OTE0TDMuMzMxOTYgMC44NjE2NTZMMC45NDQzMzYgNi44NzkxNUw3LjY2Mzg5IDkuNzE4MDJMNy42OTkxNiA5Ljc0OTkxTDcuMjQ2MzUgMTAuODE1NkM3LjE4NDM3IDEwLjkxMzEgNy4xMzE0OSAxMS4wMTYxIDcuMDg4MzYgMTEuMTIzMkM2Ljc3MTE3IDExLjkyMjYgNy4zNzAyNyAxMi43MTc4IDcuOTM2NjEgMTIuOTQxN0M4LjUwMjk1IDEzLjE2NTYgOS4yMTkyMyAxMi42OTkxIDkuNTM2NDIgMTEuODk5NkM5Ljg0OTMgMTEuMTExMSA5LjU0MzU0IDEwLjEwOTMgOC45OTE2MyA5Ljg2NzI4TDguOTkyMTEgOS44NjYzNEw3LjgxNjg3IDkuMzc3NzlMMy43OTY1MiA3LjgxNzhMNi4wOTM2NiAyLjAyODQyTDUuNzUzMTkgMS44OTM4NEwzLjQ1NTIzIDcuNjg1MzdMMi45NTgxIDcuNDkyNDZMNS4yNjUwNCAxLjY3ODMzTDUuMzI1ODEgMS43MDQwMUwxMC4wNTE1IDMuNzAwNUwxMC4wODY4IDMuNzMyMzlMOS42MzQwMiA0Ljc5ODEzQzkuNTcyMDMgNC44OTU2IDkuNTE5MTQgNC45OTg1NSA5LjQ3NjAzIDUuMTA1NjlDOS4xNTg4IDUuOTA1MTIgOS43NTc5IDYuNzAwMzMgMTAuMzI0MiA2LjkyNDE5QzEwLjg5MDYgNy4xNDgwNiAxMS42MDY5IDYuNjgxNTUgMTEuOTI0MSA1Ljg4MjExQzEyLjIzNjkgNS4wOTM1NiAxMS45MzEyIDQuMDkxODEgMTEuMzc5MyAzLjg0OTc3WiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-music one"},o.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iOSIgdmlld0JveD0iMCAwIDEzIDkiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+DQo8cGF0aCBkPSJNMTIuNjM2OSA4LjYyMjg0QzEwLjE5NzYgNy4yMzA3NiAxMC42ODU3IDQuMTc1ODcgMTAuNjg1NyA0LjE3NTg3QzEwLjYyNDMgMi4xOTEzMSA4Ljk4MTY5IDIuNDcyMjEgOC45ODE2OSAyLjQ3MjIxTDguMzgzODYgMi42MDg0MUM4LjEwNjE0IDIuNDc5NzUgNy44MDAzMiAyLjQyMzMgNy40OTQ4NyAyLjQ0NDMxTDYuNTg1NDYgMi41OTcwNUM4LjY1NjI2IDMuMDgyNzEgOC40ODYxMyA0LjgxMTg1IDguNDg2MTMgNC44MTE4NUw4Ljc3NjI1IDYuODMzNjZMMy4zNTAxNiA0LjY0ODcyTDMuOTczMTYgMy4xODI1QzQuMDU5MjYgMy4wNDcxMSA0LjEzMjcyIDIuOTA0MTEgNC4xOTI1OSAyLjc1NTNDNC42MzMxNCAxLjY0NDk0IDMuODAxMDcgMC41NDA1MDYgMy4wMTQ0OCAwLjIyOTU3NkMyLjIyNzg4IC0wLjA4MTQzMTQgMS4yMzMwNiAwLjU2NjYzMSAwLjc5MjQ3NiAxLjY3Njk1QzAuMzU3OTQ2IDIuNzcyMTQgMC43ODI2NDIgNC4xNjM0OCAxLjU0OTE2IDQuNDk5NjNMMS41NDg1MSA0LjUwMDk3TDMuMTgwOCA1LjE3OTQ2TDMuMTkyOTUgNS4xNDEwNEwxMi42MzY5IDguNjIyODRaTTkuODgxNDQgNS4wNzA0MUwxMC4wNTU0IDcuMDA1NjRDOS40NDEwNSA2LjE0NTE1IDkuMTUyNDMgNS4wOTUwMSA5LjI0MDkxIDQuMDQyMDVDOS4yMjY0OSAzLjY2NzUgOS4wOTk5MSAzLjMwNTg3IDguODc3NTEgMy4wMDM4NkM5LjIxOTQgMy4yMjI1IDkuNDk0MTEgMy41MzEyMSA5LjY3MTI3IDMuODk1ODlDOS44NDg0MyA0LjI2MDU4IDkuOTIxMTcgNC42NjcwNSA5Ljg4MTQ0IDUuMDcwNFY1LjA3MDQxWiIgZmlsbD0iIzNGM0Q1NiIvPg0KPC9zdmc+DQo=",alt:"music"}))),o.a.createElement("div",{className:"malibu-mobile-uLoading-progress-bar "},o.a.createElement("div",{className:"malibu-mobile-uLoading-progress",style:{width:this.state.width}}),o.a.createElement("label",{className:"loading"},this.props.dataFull.title),o.a.createElement("label",{className:"number-percent"},o.a.createElement("input",{className:"number-percent-input",readOnly:!0}),"%")),this.props.dataFull.speed.title?o.a.createElement("div",{className:"row",style:{margin:"auto",marginTop:"150px",width:"fit-content"}},o.a.createElement("div",{className:"malibu-mobile-uLoading-rocket"},o.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAfOSURBVHgBzZldbBzVFcf/dz722+t1SJOqH2RT6AMVNCsV+hKgS/pQlxRwGqlK3KjY6gMoqZT1S9SqlWyr5akPXktJVLVVsSVwTNUSC5IIPzSZUHho0hajBAWhAAYChJBk1/Z+785czp31rL27M7vrXQf4P/hez71z5zfnnnPuvbMMXwIlYn0hBZ7IoStq5FwG28AR4mARJiEk6nb3MHxBErAS/AME8BhhRAAeuloEhq7IEGUzfe7gS7E9UQ55mKpRu/ZW4T838MVY/wBN/0F6YKRZ31bgbzl4Mws7qRn8LQMvB5x/mAMxtKlG8LcEPBHrj8hgx6kaRodygE/KWGelhvYJP56haqhRP6lnI5mNepYaR2GACO8PcLyalpAyli9yvLmuFl+K7SPX4CNO7fIdd8Hd+1NIX98C5vWVGbIZlC78F4XZ4zBufuo4dpXlOdfWDbwRNPP64e7bB/X7DzQco/DS88jPPu/YbsF/XMD4urhKM0v7njgE5Z7vmfW8wfGf6zreWNRxccGATtO/ySOZbfKddwE0A/p7l23HsdzmgwJ/rmOLN4NW73sAnv4nzPrFBR3/uloy4VerW2XYs8VllkLp3w81dBsd+kMSOlB5UXGGFnL37jbLhSLHqY+KddBW2/R7hUqb+uCPGg2Jnvi0pmCNivbFQulCMrw9qIv9xZgIcSeJYGQbNpr10580zh4C/kJSx70bFIqFB5Gfecapqyb+tAQuYOHN04ZIesww8lFeAvbfZjS9T9rwlUr9/TRv2v9artxHZByJXti4ed2mF59sCi6AJV/hIEcxBi6ZeTmfL+AXPTq+qmJNsnORWuWa24L829BE6Qge3fNklLHi05yzsHWtVNJxGy9ioAVrC/FsulL/pl/CB+nG9212r+QKe2tDI/+eFxXJHnr/MGPyGdQs2dlsDo+3CC2kv33JXGCE7ulunnnvDpX76JcvOfQwxq2aZA/NRmqvl4olbJYN9AabT7klAV0893IZisBF4Dnp4a+plXRYPP9y/VjAfDB+bMYW3AlaKF8orMnalgq0EvLlad+xWTEBrQXHLTHc7pPMHH738oyIFy2e+3fdOAx8tPr/CvSTYXKPd+0ebhgGArk0jm3V0Y5EhvAd+F0lNTpJuEj2b2MV97IkrN0df3Zr1ZhWZdmnbSUyyTZv6y5SKxFomSN/qLhNrQRojvJ25shTddDm/eC7aq+ZFicXGSAXeRoOWlpK48/fKOJODzqWyNFiTyI2XiYULe3OwWhqIhh/drD2ohktBD1sc4PGDf46bYLmvusxwgQ9jBaVNhiuGRK2KvWuVd7G/q+lcYSL0DZs1K5NEfkaVtpjSHKDjSOnxLWZeNLqdCL285aOXwL4rykvTmdd+MvGRXQq4SJW3q6VAib1lZnZuJFRRlYDW6KI/kGzU94LGTemUx6kOcMOTwGb5LVnoNWizdtoT3xqzqldAWfbqNPgmekjE3Yd0i/8uI+/n4vyGyp4oj4PCysfS3vwIoELCeC9gRw6he6OT4006qOAXEP7+5GZ2obE8WjI5fKNMc4GWDgPdkcRsuylvawLhTkOI1WG/m0igHdLK6viXn+uI2sT9HgzaCHH+c+c2PkaFREKXCjdXigBd6VNQCf+z3DovL8K+lFfHr/syqJD6JbiSXGAHjOhZQnuTV0Q5WpJAeA3b1dDiwzSIfRoK5a2VAeeOvnwAI1ivrUdtNDkq25cvlYN/VRPCu2IPsslGYwhgp5Yy311VBIv53Q15LOFnr3gwuQrKytR5PYS/rg9Db+09pX1co5h7BMMBtcILVRl8aUXe6NUhAXwap+2dHVBMq1tafe9BRz4YRa8QIH6DsyyFaUoqP+ZoJm7KYvVL4k2VAVORzMzp0u+leMN51ysrGZ99qJqwgfcHId2ZnH/t8vnSOaiGfoO7QTnmj/wpQVGwBJu0KP9AQ/OPndUQxuqApeZyOmkkoHCjRSMog7F54IS9CKVZ3jlLRWPb89j9315E77q3i30EnOqsF7ICXh2keFCUYHb7YZXMWNEQ5uqAqfIDgu769llS5LLyF0r/jzWn64DtlTKZcF6WGj1IjWXYXidEs0/EhKykmwC+/0rQU2zOYn1ACeX0MoDYkCUKuVvy02cgE3oVB5cfJLq1pNIqBoZ4Oyvr0g4n5XGVFWB4lXhV+qObvNYPvi2o6q04d15clCnh5ovIaxNbmJJ+HpxsT5PC+DSQvk6+1ZmKBh/Zhdt+uOXEEBXMACP1wOlHloYZFKb/tM82lRdHq+kQ7K2JWFRAccUes/gynVOMZC/njJfyuB8PPDoqYlKo8rCcNY8beji6EBV4InjvWGIdEhnQWFtI18kK+eoLJnt4roJTKClpRz0pbxZJ2mBR05VL9W0eXPaUNAnj0G7XWjb4LKsRKxParkPkxZUlYS7rAIuW7oGunx+tf/Nh1xk9Myxwxo6VJWPS5LIKoROX52WwebIOqMSY+buUVi+RDNgWVnn7KE6S5dHisIB+vTU4RGsg6rTIWdzBuNDYDwpF1yad9fMvLieOfkT+j2Hz5v7Cs7P6pBmuh45odkNWLZ2/VGQXnXozNThjvx6tdb9x6sdew+M1fzSpnEyhjZ1tIV1tXWt+TNzI0X79x/kvAKtiQVGmz46gVugdbN49Ge/6mMyPyi+DFD6mdGmOw/ARvoMZ7pw6Vztu/cAAAAASUVORK5CYII=",alt:"rocket"})),o.a.createElement("div",{className:"malibu-mobile-uLoading-speed"},o.a.createElement("label",null,this.props.dataFull.speed.title),o.a.createElement("div",{className:"malibu-mobile-uLoading-speed-number "+(this.props.dataFull.cmd.error.message?"error":"")},o.a.createElement("div",{style:{margin:"auto"}},this.props.dataFull.speed.number_speed),o.a.createElement("img",{src:this.props.dataFull.cmd.error.message?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGiSURBVHgB7ZXRTcMwEIbvXPJStciEB6jUVMkG7QZlg44AE5QNygYdATahG8AGrQRSWx7AEhIvSDli5AQ3cWO7ooiHfpIlxz75fOf/LgAH/gPL0+hSDvgL1jwarcOI5Fjy7hA8YeALg2k+bSBOwBMvhyqNcf5NCMNV2LsGD9DVcMnPY8aCe92hQnyk70kihHA5xznCBgsmBmcS3mJt59Q6Raiim9fZpOln0hGrBVhwipBhMLXZNDC4BQesDr+FgjDS15BoBkSP+poUkEuZWFOa1ZtMZawtibPXpxM5eQmjN8reUNtbZHtJ3Xms3lnXJJRCjaTNFfE67N3ALg6lUBDQq8bUNcZzzrm3Q1kGpXTlFGu4Zb+uTIxvaCsDhEwwhEIKZZtNmtJFRzzPyutHJmPVUbZCgH2b3FSfnVXOLi+U+6UBKZQ7ObAqmp9LyTIx/MI27ikfu8naDxaHhfQNJVOxzfrsQO+zGxE2WWtsOcCXuMmON5ReROjSL3dEZH12kPfZIkL1N9gHXO+zekpHsCdIe6aiLCiFq5RRH/YBVcvjwK/xBRbpfbJqi9GHAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAILSURBVHgB3ZZLUuMwEIa7pZqZ5eQInhMM3MBZThlqnBMQdiwIBScIuQFVAYodzgWIgQKW+AaEExBuEJYkZTUtB8dvEtuw4d9EVrr6a0ndagF8d+GqhjtD2/jx0zcF4l9F2NBzAmmiiB5nU+mdtdzxKn6WAnevN0yUsgsE5hJPHpAa9K1r52OzAu0P7Yb/i84ZZEM5ObMp9opWnAvcv7MNX9E9Dw2opjFDm3lQ/ALYAiqnuH7UcifxSZG2Ylj3E2BaRnAkKSWAnZvNNv+0oaKIaOADrvO+ufMJsHXSFQIBxRbUgB1vXLVPLXfE2Xq5cKkzPI4IB+9n9wQVFMJifhI5oEAaJ9bFsx4vVugr34QKWgYLbPxZMxwvgKRwLcffGGrCAghGvqMzRGjEjfj6Ouhbl384kB7UgAWuBf7OAtNGpIIAjjfdQ/7argpLKwISTFJRdffuWkHW9i3XCaFVYKToJQNEQaOsoXLiUN7eZpWVoRCjDFAK6UFudBGUt9crC9OaTcHLAI/+8UWL0R9F0LIwIkj0ykTSkJ+fkSG0c/t/yLAHKHHXIuIg8Z020E4r9MAiOVxaiQzPlIV8DbJxDPWle2JmxzJA3b+kwGZNaGEDzi18nUAaqmsOyopbk268pZ4YcXVu7DaDtxA/fkTpbATCXlg6xfGsqHk5gImg1gjmdyMCvRDQqMwz8fvrDeQ/QIleItNVAAAAAElFTkSuQmCC",alt:"icon"})))):null,this.props.dataFull.cmd.error.message?o.a.createElement("div",{className:"malibu-mobile-uLoading-message-error"},this.props.dataFull.cmd.error.message):null)):o.a.createElement("div",null,"Kh\xf4ng h\u1ed7 tr\u1ee3")}render(){return this.state.visible?this.renderForDevice():o.a.createElement("div",null)}}var m=d;class u extends s.Component{constructor(e){super(e),this.setPercent=(e,t,a,i,s)=>{let o=100*s/i,l="Loading...";window.process_loading.max.main_script+window.process_loading.max.template_script+window.process_loading.max.template_component+window.process_loading.max.template_css===s&&(o=100),this.createOneLoading(Object(r.a)({title:l,percent:o},this.getInfoNetWork()))},this.callBack_animationPercent=()=>{let e=this.state.index_loading;void 0!==this.state.list_loading[e+1]?(e++,this.flagLoaing=!0,this.setState({index_loading:e})):this.flagLoaing=!1},this.flagLoaing=!0,this.state={index_loading:0,list_loading:[Object(r.a)({title:"Loading...",percent:0},this.getInfoNetWork())]}}createOneLoading(e){let t=this.state.list_loading;t[t.length]=e,this.setState({list_loading:t},()=>{this.flagLoaing||this.callBack_animationPercent()})}getInfoNetWork(){if(void 0!==navigator.connection){let e="";void 0!==navigator.connection.effectiveType&&(e=": "+navigator.connection.effectiveType);let t=navigator.connection.downlink,a="";return t<=1&&(a="Internet speed slow"),{cmd:{error:{message:a}},speed:{title:"Speed test"+e,number_speed:t+" Mb/s"}}}return{cmd:{error:{message:""}},speed:{title:"",number_speed:""}}}reportWindowSize(){let e="",t=(window.innerHeight,window.innerWidth);return t>996?e="desktop":t<=996&&t>425?e="tablet":t<=425&&(e="mobile"),e}componentDidMount(){var e;e=this,c.start.DOM_Html=e,setTimeout(()=>{document.getElementById("root").style.display=""},500)}render(){return o.a.createElement(m,{device:this.reportWindowSize(),f_callBack_animationPercent:this.callBack_animationPercent,dataFull:this.state.list_loading[this.state.index_loading]})}}var h=u;n.a.render(o.a.createElement(h,null),document.getElementById("loading"));let g,_=null;function p(){window.process_loading.loading.main_script--,window.processLoadingGUI("Main Script",window.process_loading.max.main_script-window.process_loading.loading.main_script+"/"+window.process_loading.max.main_script),0===window.process_loading.loading.template_script&&0===window.process_loading.loading.main_script&&window.callStart()}function f(e){window.process_loading.loading.template_css--,window.processLoadingGUI("Template CSS",window.process_loading.max.template_css-window.process_loading.loading.template_css+"/"+window.process_loading.max.template_css,e),0===window.process_loading.loading.template_css&&window.obManagerTemplate_libManagerTemplate.managerTemplate_begin_2(g.template,g.screen_working,_,!0,v)}function v(){window.process_loading.loading.template_component--,window.processLoadingGUI("Template Component",window.process_loading.max.template_component-window.process_loading.loading.template_component+"/"+window.process_loading.max.template_component),i.g.start(window.mainstart.configGlobal)}function b(){void 0!==window.mainstart.rsa&&window.mainstart.configGlobal&&(i.g.rsa_setPublicKey(window.mainstart.rsa),i.g.readHTML5RSA(),g=i.g.template_getConfigTemplate(),void 0!==g.theme&&(_=g.theme),window.obManagerTemplate_libManagerTemplate.managerTemplate_begin(g.template,g.screen_working,_,!0,f,window.mainstart.template_host_dev))}function y(e,t,a){((e,t,a)=>{null!==c.start.DOM_Html&&(c.start.current++,c.start.DOM_Html.setPercent(e,t,a,c.start.max_pack,c.start.current))})(e,t,a)}window.processLoadingGUI=y,window.callStart=b;var D="//jwebui.com:8080";i.g.checkIsPublic()&&(D=""),i.g.addSript(D+"/webchannel/template_dynamic",p),i.g.addSript(D+"/webchannel/config-client",p)}],[[146,105,107]]]);